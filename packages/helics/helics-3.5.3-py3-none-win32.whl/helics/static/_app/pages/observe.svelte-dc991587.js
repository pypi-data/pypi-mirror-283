import{S as De,i as Se,s as Ie,O as Ee,P as xe,a as Y,d as z,b as T,Q as Qe,g as R,I as j,l as Me,E as ke,e as X,t as K,k as Q,c as U,h as W,m as J,j as be,q as F,w as le,x as oe,y as se,R as _e,o as H,B as ue,n as he,p as ge,V as kt,G as Mt,a0 as Et,a1 as xt,a2 as Dt,a3 as Ne,D as St,Y as It,a4 as Ct,v as jt,a5 as me}from"../chunks/index-d6b53ebe.js";import{j as Pt,g as Ot,a as Bt}from"../chunks/fa.svelte_svelte_type_style_lang-d2a77913.js";import{a as Fe,b as Tt}from"../chunks/index.es-e33ee127.js";import{D as Vt}from"../chunks/Dropzone-c07ea563.js";import{d as re,D as Yt}from"../chunks/stores-43842a59.js";import{S as Je,a as Lt,r as Xt,s as pe,d as Re,T as Ve,i as He,b as Ye,c as Ut,t as Ft,l as Rt,o as Ht,L as Gt}from"../chunks/ScaledSvg.svelte_svelte_type_style_lang-20e39159.js";import"../chunks/index-e4f78b56.js";function Ke(t){let e,n,r,a,l,i,o;function g(f,s){return typeof f[7][4]=="string"?Qt:qt}let c=g(t),m=c(t);return{c(){e=Ee("svg"),n=Ee("g"),r=Ee("g"),m.c(),this.h()},l(f){e=xe(f,"svg",{id:!0,class:!0,style:!0,viewBox:!0,"aria-hidden":!0,role:!0,xmlns:!0});var s=Y(e);n=xe(s,"g",{transform:!0,"transform-origin":!0});var v=Y(n);r=xe(v,"g",{transform:!0});var k=Y(r);m.l(k),k.forEach(z),v.forEach(z),s.forEach(z),this.h()},h(){T(r,"transform",t[10]),T(n,"transform",a=`translate(${t[7][0]/2} ${t[7][1]/2})`),T(n,"transform-origin",l=`${t[7][0]/4} 0`),T(e,"id",t[0]),T(e,"class",i=Qe(t[8])+" svelte-1w3t65e"),T(e,"style",t[9]),T(e,"viewBox",o=`0 0 ${t[7][0]} ${t[7][1]}`),T(e,"aria-hidden","true"),T(e,"role","img"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(f,s){R(f,e,s),j(e,n),j(n,r),m.m(r,null)},p(f,s){c===(c=g(f))&&m?m.p(f,s):(m.d(1),m=c(f),m&&(m.c(),m.m(r,null))),s&1024&&T(r,"transform",f[10]),s&128&&a!==(a=`translate(${f[7][0]/2} ${f[7][1]/2})`)&&T(n,"transform",a),s&128&&l!==(l=`${f[7][0]/4} 0`)&&T(n,"transform-origin",l),s&1&&T(e,"id",f[0]),s&256&&i!==(i=Qe(f[8])+" svelte-1w3t65e")&&T(e,"class",i),s&512&&T(e,"style",f[9]),s&128&&o!==(o=`0 0 ${f[7][0]} ${f[7][1]}`)&&T(e,"viewBox",o)},d(f){f&&z(e),m.d()}}}function qt(t){let e,n,r,a,l,i,o,g,c,m;return{c(){e=Ee("path"),i=Ee("path"),this.h()},l(f){e=xe(f,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),Y(e).forEach(z),i=xe(f,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),Y(i).forEach(z),this.h()},h(){T(e,"d",n=t[7][4][0]),T(e,"fill",r=t[3]||t[1]||"currentColor"),T(e,"fill-opacity",a=t[6]!=!1?t[4]:t[5]),T(e,"transform",l=`translate(${t[7][0]/-2} ${t[7][1]/-2})`),T(i,"d",o=t[7][4][1]),T(i,"fill",g=t[2]||t[1]||"currentColor"),T(i,"fill-opacity",c=t[6]!=!1?t[5]:t[4]),T(i,"transform",m=`translate(${t[7][0]/-2} ${t[7][1]/-2})`)},m(f,s){R(f,e,s),R(f,i,s)},p(f,s){s&128&&n!==(n=f[7][4][0])&&T(e,"d",n),s&10&&r!==(r=f[3]||f[1]||"currentColor")&&T(e,"fill",r),s&112&&a!==(a=f[6]!=!1?f[4]:f[5])&&T(e,"fill-opacity",a),s&128&&l!==(l=`translate(${f[7][0]/-2} ${f[7][1]/-2})`)&&T(e,"transform",l),s&128&&o!==(o=f[7][4][1])&&T(i,"d",o),s&6&&g!==(g=f[2]||f[1]||"currentColor")&&T(i,"fill",g),s&112&&c!==(c=f[6]!=!1?f[5]:f[4])&&T(i,"fill-opacity",c),s&128&&m!==(m=`translate(${f[7][0]/-2} ${f[7][1]/-2})`)&&T(i,"transform",m)},d(f){f&&z(e),f&&z(i)}}}function Qt(t){let e,n,r,a;return{c(){e=Ee("path"),this.h()},l(l){e=xe(l,"path",{d:!0,fill:!0,transform:!0}),Y(e).forEach(z),this.h()},h(){T(e,"d",n=t[7][4]),T(e,"fill",r=t[1]||t[2]||"currentColor"),T(e,"transform",a=`translate(${t[7][0]/-2} ${t[7][1]/-2})`)},m(l,i){R(l,e,i)},p(l,i){i&128&&n!==(n=l[7][4])&&T(e,"d",n),i&6&&r!==(r=l[1]||l[2]||"currentColor")&&T(e,"fill",r),i&128&&a!==(a=`translate(${l[7][0]/-2} ${l[7][1]/-2})`)&&T(e,"transform",a)},d(l){l&&z(e)}}}function Jt(t){let e,n=t[7][4]&&Ke(t);return{c(){n&&n.c(),e=Me()},l(r){n&&n.l(r),e=Me()},m(r,a){n&&n.m(r,a),R(r,e,a)},p(r,[a]){r[7][4]?n?n.p(r,a):(n=Ke(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ke,o:ke,d(r){n&&n.d(r),r&&z(e)}}}function Kt(t,e,n){let{class:r=""}=e,{id:a=""}=e,{style:l=""}=e,{icon:i}=e,{size:o=""}=e,{color:g=""}=e,{fw:c=!1}=e,{pull:m=""}=e,{scale:f=1}=e,{translateX:s=0}=e,{translateY:v=0}=e,{rotate:k=""}=e,{flip:p=!1}=e,{spin:y=!1}=e,{pulse:b=!1}=e,{primaryColor:D=""}=e,{secondaryColor:P=""}=e,{primaryOpacity:d=1}=e,{secondaryOpacity:A=.4}=e,{swapOpacity:x=!1}=e,E,M,S,_;return t.$$set=w=>{"class"in w&&n(11,r=w.class),"id"in w&&n(0,a=w.id),"style"in w&&n(12,l=w.style),"icon"in w&&n(13,i=w.icon),"size"in w&&n(14,o=w.size),"color"in w&&n(1,g=w.color),"fw"in w&&n(15,c=w.fw),"pull"in w&&n(16,m=w.pull),"scale"in w&&n(17,f=w.scale),"translateX"in w&&n(18,s=w.translateX),"translateY"in w&&n(19,v=w.translateY),"rotate"in w&&n(20,k=w.rotate),"flip"in w&&n(21,p=w.flip),"spin"in w&&n(22,y=w.spin),"pulse"in w&&n(23,b=w.pulse),"primaryColor"in w&&n(2,D=w.primaryColor),"secondaryColor"in w&&n(3,P=w.secondaryColor),"primaryOpacity"in w&&n(4,d=w.primaryOpacity),"secondaryOpacity"in w&&n(5,A=w.secondaryOpacity),"swapOpacity"in w&&n(6,x=w.swapOpacity)},t.$$.update=()=>{t.$$.dirty&8192&&n(7,E=i&&i.icon||[0,0,"",[],""]),t.$$.dirty&12584960&&n(8,M=Pt([r,"svelte-fa",y&&"spin",b&&"pulse"]," ")),t.$$.dirty&118784&&n(9,S=Ot(l,o,m,c)),t.$$.dirty&4063232&&n(10,_=Bt(f,s,v,k,p,512))},[a,g,D,P,d,A,x,E,M,S,_,r,l,i,o,c,m,f,s,v,k,p,y,b]}class Wt extends De{constructor(e){super(),Se(this,e,Kt,Jt,Ie,{class:11,id:0,style:12,icon:13,size:14,color:1,fw:15,pull:16,scale:17,translateX:18,translateY:19,rotate:20,flip:21,spin:22,pulse:23,primaryColor:2,secondaryColor:3,primaryOpacity:4,secondaryOpacity:5,swapOpacity:6})}}var Ce=Wt;function We(t,e,n){const r=t.slice();return r[21]=e[n],r}function Ze(t,e,n){const r=t.slice();return r[24]=e[n],r[26]=n,r}function $e(t,e,n){const r=t.slice();return r[27]=e[n],r}function et(t,e,n){const r=t.slice();return r[27]=e[n],r}function Zt(t){let e,n;return e=new Ce({props:{icon:Fe}}),{c(){le(e.$$.fragment)},l(r){oe(e.$$.fragment,r)},m(r,a){se(e,r,a),n=!0},p:ke,i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){H(e.$$.fragment,r),n=!1},d(r){ue(e,r)}}}function $t(t){let e,n;return e=new Ce({props:{icon:Tt}}),{c(){le(e.$$.fragment)},l(r){oe(e.$$.fragment,r)},m(r,a){se(e,r,a),n=!0},p:ke,i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){H(e.$$.fragment,r),n=!1},d(r){ue(e,r)}}}function tt(t){let e,n,r,a,l;n=new Ce({props:{style:"color: "+(t[27].sortActive?t[27].sortColor:"#aaa"),icon:Fe}});function i(){return t[12](t[27])}return{c(){e=X("button"),le(n.$$.fragment)},l(o){e=U(o,"BUTTON",{});var g=Y(e);oe(n.$$.fragment,g),g.forEach(z)},m(o,g){R(o,e,g),se(n,e,null),r=!0,a||(l=_e(e,"click",i),a=!0)},p(o,g){t=o;const c={};g[0]&8&&(c.style="color: "+(t[27].sortActive?t[27].sortColor:"#aaa")),n.$set(c)},i(o){r||(F(n.$$.fragment,o),r=!0)},o(o){H(n.$$.fragment,o),r=!1},d(o){o&&z(e),ue(n),a=!1,l()}}}function nt(t){let e,n,r,a,l;n=new Ce({props:{style:"color: "+(t[27].sortActive?t[27].sortColor:"#aaa"),icon:Tt}});function i(){return t[13](t[27])}return{c(){e=X("button"),le(n.$$.fragment)},l(o){e=U(o,"BUTTON",{});var g=Y(e);oe(n.$$.fragment,g),g.forEach(z)},m(o,g){R(o,e,g),se(n,e,null),r=!0,a||(l=_e(e,"click",i),a=!0)},p(o,g){t=o;const c={};g[0]&8&&(c.style="color: "+(t[27].sortActive?t[27].sortColor:"#aaa")),n.$set(c)},i(o){r||(F(n.$$.fragment,o),r=!0)},o(o){H(n.$$.fragment,o),r=!1},d(o){o&&z(e),ue(n),a=!1,l()}}}function rt(t){let e,n,r,a=t[27].title+"",l,i,o,g,c,m=t[27].sort=="ascending"&&tt(t),f=t[27].sort=="descending"&&nt(t);return{c(){e=X("th"),n=X("div"),r=X("span"),l=K(a),i=K(` \xA0\r
            `),m&&m.c(),o=Q(),f&&f.c(),g=Q(),this.h()},l(s){e=U(s,"TH",{scope:!0,class:!0});var v=Y(e);n=U(v,"DIV",{class:!0});var k=Y(n);r=U(k,"SPAN",{});var p=Y(r);l=W(p,a),p.forEach(z),i=W(k,` \xA0\r
            `),m&&m.l(k),o=J(k),f&&f.l(k),k.forEach(z),g=J(v),v.forEach(z),this.h()},h(){T(n,"class","flex"),T(e,"scope","col"),T(e,"class","text-sm font-medium text-white px-6 py-4 text-left")},m(s,v){R(s,e,v),j(e,n),j(n,r),j(r,l),j(n,i),m&&m.m(n,null),j(n,o),f&&f.m(n,null),j(e,g),c=!0},p(s,v){(!c||v[0]&8)&&a!==(a=s[27].title+"")&&be(l,a),s[27].sort=="ascending"?m?(m.p(s,v),v[0]&8&&F(m,1)):(m=tt(s),m.c(),F(m,1),m.m(n,o)):m&&(he(),H(m,1,1,()=>{m=null}),ge()),s[27].sort=="descending"?f?(f.p(s,v),v[0]&8&&F(f,1)):(f=nt(s),f.c(),F(f,1),f.m(n,null)):f&&(he(),H(f,1,1,()=>{f=null}),ge())},i(s){c||(F(m),F(f),c=!0)},o(s){H(m),H(f),c=!1},d(s){s&&z(e),m&&m.d(),f&&f.d()}}}function it(t){let e,n,r=t[3],a=[];for(let l=0;l<r.length;l+=1)a[l]=at($e(t,r,l));return{c(){e=X("tr");for(let l=0;l<a.length;l+=1)a[l].c();n=Q(),this.h()},l(l){e=U(l,"TR",{class:!0});var i=Y(e);for(let o=0;o<a.length;o+=1)a[o].l(i);n=J(i),i.forEach(z),this.h()},h(){T(e,"class","border-b hover:bg-gray-100")},m(l,i){R(l,e,i);for(let o=0;o<a.length;o+=1)a[o].m(e,null);j(e,n)},p(l,i){if(i[0]&9){r=l[3];let o;for(o=0;o<r.length;o+=1){const g=$e(l,r,o);a[o]?a[o].p(g,i):(a[o]=at(g),a[o].c(),a[o].m(e,n))}for(;o<a.length;o+=1)a[o].d(1);a.length=r.length}},d(l){l&&z(e),kt(a,l)}}}function at(t){let e,n=t[24][t[27].field]+"",r;return{c(){e=X("td"),r=K(n),this.h()},l(a){e=U(a,"TD",{class:!0});var l=Y(e);r=W(l,n),l.forEach(z),this.h()},h(){T(e,"class","px-6 py-4 whitespace text-sm font-medium text-gray-900")},m(a,l){R(a,e,l),j(e,r)},p(a,l){l[0]&9&&n!==(n=a[24][a[27].field]+"")&&be(r,n)},d(a){a&&z(e)}}}function lt(t,e){let n,r,a=e[26]>=e[5]*e[8]&&e[26]<(e[5]+1)*e[8]&&it(e);return{key:t,first:null,c(){n=Me(),a&&a.c(),r=Me(),this.h()},l(l){n=Me(),a&&a.l(l),r=Me(),this.h()},h(){this.first=n},m(l,i){R(l,n,i),a&&a.m(l,i),R(l,r,i)},p(l,i){e=l,e[26]>=e[5]*e[8]&&e[26]<(e[5]+1)*e[8]?a?a.p(e,i):(a=it(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(l){l&&z(n),a&&a.d(l),l&&z(r)}}}function ot(t){let e,n,r=t[2]*t[5]+1+"",a,l,i=Math.min(t[2]*(t[5]+1),t[0].length)+"",o,g,c=t[0].length+"",m,f,s,v,k,p,y,b,D,P,d,A,x,E,M,S,_,w,B,L,u,C,h,N,V;return P=new Ce({props:{icon:Fe}}),{c(){e=X("span"),n=K("Showing "),a=K(r),l=K(" to "),o=K(i),g=K(` of\r
        `),m=K(c),f=K(" rows with"),s=Q(),v=X("div"),k=X("button"),p=K(t[2]),y=Q(),b=X("span"),D=Q(),le(P.$$.fragment),d=Q(),A=X("ul"),x=X("li"),E=X("button"),M=K("10"),S=Q(),_=X("li"),w=X("button"),B=K("25"),L=Q(),u=X("span"),C=K("rows per page."),this.h()},l(I){e=U(I,"SPAN",{class:!0});var O=Y(e);n=W(O,"Showing "),a=W(O,r),l=W(O," to "),o=W(O,i),g=W(O,` of\r
        `),m=W(O,c),f=W(O," rows with"),O.forEach(z),s=J(I),v=U(I,"DIV",{class:!0});var G=Y(v);k=U(G,"BUTTON",{class:!0,type:!0,id:!0,"data-bs-toggle":!0,"aria-expanded":!0});var q=Y(k);p=W(q,t[2]),y=J(q),b=U(q,"SPAN",{class:!0}),Y(b).forEach(z),D=J(q),oe(P.$$.fragment,q),q.forEach(z),d=J(G),A=U(G,"UL",{class:!0});var ee=Y(A);x=U(ee,"LI",{});var Z=Y(x);E=U(Z,"BUTTON",{class:!0});var te=Y(E);M=W(te,"10"),te.forEach(z),Z.forEach(z),S=J(ee),_=U(ee,"LI",{});var ne=Y(_);w=U(ne,"BUTTON",{class:!0});var $=Y(w);B=W($,"25"),$.forEach(z),ne.forEach(z),ee.forEach(z),G.forEach(z),L=J(I),u=U(I,"SPAN",{class:!0});var fe=Y(u);C=W(fe,"rows per page."),fe.forEach(z),this.h()},h(){T(e,"class","px-2 py-3"),T(b,"class","px-1"),T(k,"class","dropdown-toggle px-2 py-3 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg active:text-white transition duration-150 ease-in-out flex items-center whitespace-nowrap "),T(k,"type","button"),T(k,"id","dropdownMenuButton1"),T(k,"data-bs-toggle","dropdown"),T(k,"aria-expanded","false"),T(E,"class","dropdown-item text-sm py-2.5 px-6 font-normal block w-full whitespace-nowrap bg-transparent text-gray-700 hover:bg-gray-100 "),T(w,"class","dropdown-item text-sm py-2.5 px-6 font-normal block w-full whitespace-nowrap bg-transparent text-gray-700 hover:bg-gray-100 "),T(A,"class","dropdown-menu min-w-max absolute bg-white text-base z-50 float-left py-3 list-none text-left rounded-lg shadow-lg mt-1 hidden m-0 bg-clip-padding border-none "),T(v,"class","dropdown relative"),T(u,"class","px-2 py-3")},m(I,O){R(I,e,O),j(e,n),j(e,a),j(e,l),j(e,o),j(e,g),j(e,m),j(e,f),R(I,s,O),R(I,v,O),j(v,k),j(k,p),j(k,y),j(k,b),j(k,D),se(P,k,null),j(v,d),j(v,A),j(A,x),j(x,E),j(E,M),j(A,S),j(A,_),j(_,w),j(w,B),R(I,L,O),R(I,u,O),j(u,C),h=!0,N||(V=[_e(E,"click",t[14]),_e(w,"click",t[15])],N=!0)},p(I,O){(!h||O[0]&36)&&r!==(r=I[2]*I[5]+1+"")&&be(a,r),(!h||O[0]&37)&&i!==(i=Math.min(I[2]*(I[5]+1),I[0].length)+"")&&be(o,i),(!h||O[0]&1)&&c!==(c=I[0].length+"")&&be(m,c),(!h||O[0]&4)&&be(p,I[2])},i(I){h||(F(P.$$.fragment,I),h=!0)},o(I){H(P.$$.fragment,I),h=!1},d(I){I&&z(e),I&&z(s),I&&z(v),ue(P),I&&z(L),I&&z(u),N=!1,Mt(V)}}}function st(t){let e,n,r,a,l,i,o,g,c=[],m=new Map,f,s,v,k,p,y,b,D,P,d=t[4];const A=x=>x[21];for(let x=0;x<d.length;x+=1){let E=We(t,d,x),M=A(E);m.set(M,c[x]=ut(M,E))}return{c(){e=X("ul"),n=X("li"),r=X("button"),a=X("span"),l=K("\xAB"),g=Q();for(let x=0;x<c.length;x+=1)c[x].c();f=Q(),s=X("li"),v=X("button"),k=X("span"),p=K("\xBB"),this.h()},l(x){e=U(x,"UL",{class:!0});var E=Y(e);n=U(E,"LI",{class:!0});var M=Y(n);r=U(M,"BUTTON",{class:!0,"aria-label":!0});var S=Y(r);a=U(S,"SPAN",{"aria-hidden":!0});var _=Y(a);l=W(_,"\xAB"),_.forEach(z),S.forEach(z),M.forEach(z),g=J(E);for(let u=0;u<c.length;u+=1)c[u].l(E);f=J(E),s=U(E,"LI",{class:!0});var w=Y(s);v=U(w,"BUTTON",{class:!0,"aria-label":!0});var B=Y(v);k=U(B,"SPAN",{"aria-hidden":!0});var L=Y(k);p=W(L,"\xBB"),L.forEach(z),B.forEach(z),w.forEach(z),E.forEach(z),this.h()},h(){T(a,"aria-hidden","true"),T(r,"class",i="page-link relative block py-1.5 px-3 rounded border-0 bg-transparent outline-none text-gray-800 focus:shadow-none "+(t[7]?"pointer-events-none":"hover:text-gray-800 hover:bg-gray-200")),T(r,"aria-label","Previous"),T(n,"class",o="page-item "+(t[7]?"disabled":"")),T(k,"aria-hidden","true"),T(v,"class",y="page-link relative block py-1.5 px-3 rounded border-0 bg-transparent outline-none text-gray-800 focus:shadow-none "+(t[6]?"pointer-events-none":"hover:text-gray-800 hover:bg-gray-200")),T(v,"aria-label","Next"),T(s,"class",b="page-item "+(t[6]?"disabled":"")),T(e,"class","flex list-style-none")},m(x,E){R(x,e,E),j(e,n),j(n,r),j(r,a),j(a,l),j(e,g);for(let M=0;M<c.length;M+=1)c[M].m(e,null);j(e,f),j(e,s),j(s,v),j(v,k),j(k,p),D||(P=[_e(r,"click",t[16]),_e(v,"click",t[18])],D=!0)},p(x,E){E[0]&128&&i!==(i="page-link relative block py-1.5 px-3 rounded border-0 bg-transparent outline-none text-gray-800 focus:shadow-none "+(x[7]?"pointer-events-none":"hover:text-gray-800 hover:bg-gray-200"))&&T(r,"class",i),E[0]&128&&o!==(o="page-item "+(x[7]?"disabled":""))&&T(n,"class",o),E[0]&528&&(d=x[4],c=Et(c,E,A,1,x,d,m,e,xt,ut,f,We)),E[0]&64&&y!==(y="page-link relative block py-1.5 px-3 rounded border-0 bg-transparent outline-none text-gray-800 focus:shadow-none "+(x[6]?"pointer-events-none":"hover:text-gray-800 hover:bg-gray-200"))&&T(v,"class",y),E[0]&64&&b!==(b="page-item "+(x[6]?"disabled":""))&&T(s,"class",b)},d(x){x&&z(e);for(let E=0;E<c.length;E+=1)c[E].d();D=!1,Mt(P)}}}function ut(t,e){let n,r,a=e[21].number+"",l,i,o,g,c;function m(...f){return e[17](e[21],...f)}return{key:t,first:null,c(){n=X("li"),r=X("button"),l=K(a),this.h()},l(f){n=U(f,"LI",{class:!0});var s=Y(n);r=U(s,"BUTTON",{class:!0});var v=Y(r);l=W(v,a),v.forEach(z),s.forEach(z),this.h()},h(){T(r,"class",i="page-link relative block py-1.5 px-3 border-0 outline-none rounded "+(e[21].active?"bg-blue-600 text-white hover:text-white hover:bg-blue-600 shadow-md focus:shadow-md":"bg-transparent text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none")),T(n,"class",o="page-item "+(e[21].active?"active":"")),this.first=n},m(f,s){R(f,n,s),j(n,r),j(r,l),g||(c=_e(r,"click",m),g=!0)},p(f,s){e=f,s[0]&16&&a!==(a=e[21].number+"")&&be(l,a),s[0]&16&&i!==(i="page-link relative block py-1.5 px-3 border-0 outline-none rounded "+(e[21].active?"bg-blue-600 text-white hover:text-white hover:bg-blue-600 shadow-md focus:shadow-md":"bg-transparent text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none"))&&T(r,"class",i),s[0]&16&&o!==(o="page-item "+(e[21].active?"active":""))&&T(n,"class",o)},d(f){f&&z(n),g=!1,c()}}}function en(t){let e,n,r,a,l,i,o,g,c,m,f,s=[],v=new Map,k,p,y,b,D,P,d,A;const x=[$t,Zt],E=[];function M(h,N){return h[1]?0:1}a=M(t),l=E[a]=x[a](t);let S=t[3],_=[];for(let h=0;h<S.length;h+=1)_[h]=rt(et(t,S,h));const w=h=>H(_[h],1,1,()=>{_[h]=null});let B=t[0];const L=h=>h[24];for(let h=0;h<B.length;h+=1){let N=Ze(t,B,h),V=L(N);v.set(V,s[h]=lt(V,N))}let u=!t[1]&&ot(t),C=!t[1]&&st(t);return{c(){e=X("div"),n=X("div"),r=X("button"),l.c(),i=Q(),o=X("table"),g=X("thead"),c=X("tr");for(let h=0;h<_.length;h+=1)_[h].c();m=Q(),f=X("tbody");for(let h=0;h<s.length;h+=1)s[h].c();k=Q(),p=X("div"),y=X("div"),u&&u.c(),b=Q(),D=X("nav"),C&&C.c(),this.h()},l(h){e=U(h,"DIV",{class:!0});var N=Y(e);n=U(N,"DIV",{class:!0});var V=Y(n);r=U(V,"BUTTON",{type:!0,class:!0});var I=Y(r);l.l(I),I.forEach(z),V.forEach(z),N.forEach(z),i=J(h),o=U(h,"TABLE",{class:!0});var O=Y(o);g=U(O,"THEAD",{class:!0});var G=Y(g);c=U(G,"TR",{});var q=Y(c);for(let $=0;$<_.length;$+=1)_[$].l(q);q.forEach(z),G.forEach(z),m=J(O),f=U(O,"TBODY",{});var ee=Y(f);for(let $=0;$<s.length;$+=1)s[$].l(ee);ee.forEach(z),O.forEach(z),k=J(h),p=U(h,"DIV",{class:!0});var Z=Y(p);y=U(Z,"DIV",{class:!0});var te=Y(y);u&&u.l(te),te.forEach(z),b=J(Z),D=U(Z,"NAV",{"aria-label":!0});var ne=Y(D);C&&C.l(ne),ne.forEach(z),Z.forEach(z),this.h()},h(){T(r,"type","button"),T(r,"class","inline-block px-6 py-1.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg"),T(n,"class","flex w-full justify-between"),T(e,"class","flex w-full flex-col my-2"),T(g,"class","border-b bg-gray-800"),T(o,"class","table-auto w-full"),T(y,"class","flex justify-center"),T(D,"aria-label","Page navigation example"),T(p,"class","flex w-full justify-between mb-12")},m(h,N){R(h,e,N),j(e,n),j(n,r),E[a].m(r,null),R(h,i,N),R(h,o,N),j(o,g),j(g,c);for(let V=0;V<_.length;V+=1)_[V].m(c,null);j(o,m),j(o,f);for(let V=0;V<s.length;V+=1)s[V].m(f,null);R(h,k,N),R(h,p,N),j(p,y),u&&u.m(y,null),j(p,b),j(p,D),C&&C.m(D,null),P=!0,d||(A=_e(r,"click",t[11]),d=!0)},p(h,N){let V=a;if(a=M(h),a===V?E[a].p(h,N):(he(),H(E[V],1,1,()=>{E[V]=null}),ge(),l=E[a],l?l.p(h,N):(l=E[a]=x[a](h),l.c()),F(l,1),l.m(r,null)),N[0]&1032){S=h[3];let I;for(I=0;I<S.length;I+=1){const O=et(h,S,I);_[I]?(_[I].p(O,N),F(_[I],1)):(_[I]=rt(O),_[I].c(),F(_[I],1),_[I].m(c,null))}for(he(),I=S.length;I<_.length;I+=1)w(I);ge()}N[0]&297&&(B=h[0],s=Et(s,N,L,1,h,B,v,f,xt,lt,null,Ze)),h[1]?u&&(he(),H(u,1,1,()=>{u=null}),ge()):u?(u.p(h,N),N[0]&2&&F(u,1)):(u=ot(h),u.c(),F(u,1),u.m(y,null)),h[1]?C&&(C.d(1),C=null):C?C.p(h,N):(C=st(h),C.c(),C.m(D,null))},i(h){if(!P){F(l);for(let N=0;N<S.length;N+=1)F(_[N]);F(u),P=!0}},o(h){H(l),_=_.filter(Boolean);for(let N=0;N<_.length;N+=1)H(_[N]);H(u),P=!1},d(h){h&&z(e),E[a].d(),h&&z(i),h&&z(o),kt(_,h);for(let N=0;N<s.length;N+=1)s[N].d();h&&z(k),h&&z(p),u&&u.d(),C&&C.d(),d=!1,A()}}}function tn(t,e,n){let r,a,l,i,o,{data:g=[]}=e,{columns:c=[]}=e,{showAll:m=!1}=e,{N:f=10}=e;function s(M){const S=M?g.length+1:f;var _=[{number:1,active:!0}];for(const[w,B]of g.entries())w%S===0&&w>0&&(_=[..._,{number:w/S+1,active:!1}]);return _}function v(M){for(var S of a)S.number===M?S.active=!0:S.active=!1;n(4,a),n(1,m)}function k(M){for(let S of c)S.title==M.title?(S.sortActive&&(S.sort=S.sort=="ascending"?"descending":"ascending"),S.sortActive=!0):S.sortActive=!1;n(3,c),n(0,g)}function p(M){for(const S of c)if(S.sortActive){S.sort=="ascending"?M.sort((_,w)=>{let B=_[S.sortName],L=w[S.sortName];return B=B=="-"?0:B,L=L=="-"?0:L,B<L?-1:B>L?1:0}):S.sort=="descending"&&M.sort((_,w)=>{let B=_[S.sortName],L=w[S.sortName];return B=B=="-"?0:B,L=L=="-"?0:L,B>L?-1:B<L?1:0});break}return M}const y=M=>n(1,m=!m),b=M=>k(M),D=M=>k(M),P=()=>n(2,f=10),d=()=>n(2,f=25),A=M=>v(1),x=(M,S)=>v(M.number),E=M=>v(a.length);return t.$$set=M=>{"data"in M&&n(0,g=M.data),"columns"in M&&n(3,c=M.columns),"showAll"in M&&n(1,m=M.showAll),"N"in M&&n(2,f=M.N)},t.$$.update=()=>{t.$$.dirty[0]&7&&n(8,r=m?g.length+1:f),t.$$.dirty[0]&2&&n(4,a=s(m)),t.$$.dirty[0]&16&&n(7,l=a.length===1?!0:a[0].active),t.$$.dirty[0]&16&&n(6,i=a.length===1?!0:a.at(-1).active),t.$$.dirty[0]&16&&n(5,o=a.findIndex(M=>M.active)),t.$$.dirty[0]&1&&p(g)},[g,m,f,c,a,o,i,l,r,v,k,y,b,D,P,d,A,x,E]}class je extends De{constructor(e){super(),Se(this,e,tn,en,Ie,{data:0,columns:3,showAll:1,N:2},null,[-1,-1])}}var nn=1e-12;function ft(t){return((t=Math.exp(t))+1/t)/2}function rn(t){return((t=Math.exp(t))-1/t)/2}function an(t){return((t=Math.exp(2*t))-1)/(t+1)}var ln=function t(e,n,r){function a(l,i){var o=l[0],g=l[1],c=l[2],m=i[0],f=i[1],s=i[2],v=m-o,k=f-g,p=v*v+k*k,y,b;if(p<nn)b=Math.log(s/c)/e,y=function(E){return[o+E*v,g+E*k,c*Math.exp(e*E*b)]};else{var D=Math.sqrt(p),P=(s*s-c*c+r*p)/(2*c*n*D),d=(s*s-c*c-r*p)/(2*s*n*D),A=Math.log(Math.sqrt(P*P+1)-P),x=Math.log(Math.sqrt(d*d+1)-d);b=(x-A)/e,y=function(E){var M=E*b,S=ft(A),_=c/(n*D)*(S*an(e*M+A)-rn(A));return[o+_*v,g+_*k,c*S/ft(e*M+A)]}}return y.duration=b*1e3*e/Math.SQRT2,y}return a.rho=function(l){var i=Math.max(.001,+l),o=i*i,g=o*o;return t(i,o,g)},a}(Math.SQRT2,2,4);function on(t){let e;for(;e=t.sourceEvent;)t=e;return t}function de(t,e){if(t=on(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}function sn(t){return typeof t=="string"?new Je([document.querySelectorAll(t)],[document.documentElement]):new Je([Lt(t)],Xt)}const un={passive:!1},Ae={capture:!0,passive:!1};function Le(t){t.stopImmediatePropagation()}function Te(t){t.preventDefault(),t.stopImmediatePropagation()}function zt(t){var e=t.document.documentElement,n=pe(t).on("dragstart.drag",Te,Ae);"onselectstart"in e?n.on("selectstart.drag",Te,Ae):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Nt(t,e){var n=t.document.documentElement,r=pe(t).on("dragstart.drag",null);e&&(r.on("click.drag",Te,Ae),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Pe=t=>()=>t;function Ue(t,{sourceEvent:e,subject:n,target:r,identifier:a,active:l,x:i,y:o,dx:g,dy:c,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:g,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:m}})}Ue.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function fn(t){return!t.ctrlKey&&!t.button}function cn(){return this.parentNode}function hn(t,e){return e==null?{x:t.x,y:t.y}:e}function gn(){return navigator.maxTouchPoints||"ontouchstart"in this}function mn(){var t=fn,e=cn,n=hn,r=gn,a={},l=Re("start","drag","end"),i=0,o,g,c,m,f=0;function s(d){d.on("mousedown.drag",v).filter(r).on("touchstart.drag",y).on("touchmove.drag",b,un).on("touchend.drag touchcancel.drag",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(d,A){if(!(m||!t.call(this,d,A))){var x=P(this,e.call(this,d,A),d,A,"mouse");!x||(pe(d.view).on("mousemove.drag",k,Ae).on("mouseup.drag",p,Ae),zt(d.view),Le(d),c=!1,o=d.clientX,g=d.clientY,x("start",d))}}function k(d){if(Te(d),!c){var A=d.clientX-o,x=d.clientY-g;c=A*A+x*x>f}a.mouse("drag",d)}function p(d){pe(d.view).on("mousemove.drag mouseup.drag",null),Nt(d.view,c),Te(d),a.mouse("end",d)}function y(d,A){if(!!t.call(this,d,A)){var x=d.changedTouches,E=e.call(this,d,A),M=x.length,S,_;for(S=0;S<M;++S)(_=P(this,E,d,A,x[S].identifier,x[S]))&&(Le(d),_("start",d,x[S]))}}function b(d){var A=d.changedTouches,x=A.length,E,M;for(E=0;E<x;++E)(M=a[A[E].identifier])&&(Te(d),M("drag",d,A[E]))}function D(d){var A=d.changedTouches,x=A.length,E,M;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),E=0;E<x;++E)(M=a[A[E].identifier])&&(Le(d),M("end",d,A[E]))}function P(d,A,x,E,M,S){var _=l.copy(),w=de(S||x,A),B,L,u;if((u=n.call(d,new Ue("beforestart",{sourceEvent:x,target:s,identifier:M,active:i,x:w[0],y:w[1],dx:0,dy:0,dispatch:_}),E))!=null)return B=u.x-w[0]||0,L=u.y-w[1]||0,function C(h,N,V){var I=w,O;switch(h){case"start":a[M]=C,O=i++;break;case"end":delete a[M],--i;case"drag":w=de(V||N,A),O=i;break}_.call(h,d,new Ue(h,{sourceEvent:N,subject:u,target:s,identifier:M,active:O,x:w[0]+B,y:w[1]+L,dx:w[0]-I[0],dy:w[1]-I[1],dispatch:_}),E)}}return s.filter=function(d){return arguments.length?(t=typeof d=="function"?d:Pe(!!d),s):t},s.container=function(d){return arguments.length?(e=typeof d=="function"?d:Pe(d),s):e},s.subject=function(d){return arguments.length?(n=typeof d=="function"?d:Pe(d),s):n},s.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:Pe(!!d),s):r},s.on=function(){var d=l.on.apply(l,arguments);return d===l?s:d},s.clickDistance=function(d){return arguments.length?(f=(d=+d)*d,s):Math.sqrt(f)},s}var Oe=t=>()=>t;function dn(t,{sourceEvent:e,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function Xe(t){t.stopImmediatePropagation()}function ze(t){t.preventDefault(),t.stopImmediatePropagation()}function pn(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function _n(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ct(){return this.__zoom||He}function vn(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function bn(){return navigator.maxTouchPoints||"ontouchstart"in this}function yn(t,e,n){var r=t.invertX(e[0][0])-n[0][0],a=t.invertX(e[1][0])-n[1][0],l=t.invertY(e[0][1])-n[0][1],i=t.invertY(e[1][1])-n[1][1];return t.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),i>l?(l+i)/2:Math.min(0,l)||Math.max(0,i))}function wn(){var t=pn,e=_n,n=yn,r=vn,a=bn,l=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],o=250,g=ln,c=Re("start","zoom","end"),m,f,s,v=500,k=150,p=0,y=10;function b(u){u.property("__zoom",ct).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",_).filter(a).on("touchstart.zoom",w).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(u,C,h,N){var V=u.selection?u.selection():u;V.property("__zoom",ct),u!==V?A(u,C,h,N):V.interrupt().each(function(){x(this,arguments).event(N).start().zoom(null,typeof C=="function"?C.apply(this,arguments):C).end()})},b.scaleBy=function(u,C,h,N){b.scaleTo(u,function(){var V=this.__zoom.k,I=typeof C=="function"?C.apply(this,arguments):C;return V*I},h,N)},b.scaleTo=function(u,C,h,N){b.transform(u,function(){var V=e.apply(this,arguments),I=this.__zoom,O=h==null?d(V):typeof h=="function"?h.apply(this,arguments):h,G=I.invert(O),q=typeof C=="function"?C.apply(this,arguments):C;return n(P(D(I,q),O,G),V,i)},h,N)},b.translateBy=function(u,C,h,N){b.transform(u,function(){return n(this.__zoom.translate(typeof C=="function"?C.apply(this,arguments):C,typeof h=="function"?h.apply(this,arguments):h),e.apply(this,arguments),i)},null,N)},b.translateTo=function(u,C,h,N,V){b.transform(u,function(){var I=e.apply(this,arguments),O=this.__zoom,G=N==null?d(I):typeof N=="function"?N.apply(this,arguments):N;return n(He.translate(G[0],G[1]).scale(O.k).translate(typeof C=="function"?-C.apply(this,arguments):-C,typeof h=="function"?-h.apply(this,arguments):-h),I,i)},N,V)};function D(u,C){return C=Math.max(l[0],Math.min(l[1],C)),C===u.k?u:new Ve(C,u.x,u.y)}function P(u,C,h){var N=C[0]-h[0]*u.k,V=C[1]-h[1]*u.k;return N===u.x&&V===u.y?u:new Ve(u.k,N,V)}function d(u){return[(+u[0][0]+ +u[1][0])/2,(+u[0][1]+ +u[1][1])/2]}function A(u,C,h,N){u.on("start.zoom",function(){x(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(N).end()}).tween("zoom",function(){var V=this,I=arguments,O=x(V,I).event(N),G=e.apply(V,I),q=h==null?d(G):typeof h=="function"?h.apply(V,I):h,ee=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),Z=V.__zoom,te=typeof C=="function"?C.apply(V,I):C,ne=g(Z.invert(q).concat(ee/Z.k),te.invert(q).concat(ee/te.k));return function($){if($===1)$=te;else{var fe=ne($),Be=ee/fe[2];$=new Ve(Be,q[0]-fe[0]*Be,q[1]-fe[1]*Be)}O.zoom(null,$)}})}function x(u,C,h){return!h&&u.__zooming||new E(u,C)}function E(u,C){this.that=u,this.args=C,this.active=0,this.sourceEvent=null,this.extent=e.apply(u,C),this.taps=0}E.prototype={event:function(u){return u&&(this.sourceEvent=u),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(u,C){return this.mouse&&u!=="mouse"&&(this.mouse[1]=C.invert(this.mouse[0])),this.touch0&&u!=="touch"&&(this.touch0[1]=C.invert(this.touch0[0])),this.touch1&&u!=="touch"&&(this.touch1[1]=C.invert(this.touch1[0])),this.that.__zoom=C,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(u){var C=pe(this.that).datum();c.call(u,this.that,new dn(u,{sourceEvent:this.sourceEvent,target:b,type:u,transform:this.that.__zoom,dispatch:c}),C)}};function M(u,...C){if(!t.apply(this,arguments))return;var h=x(this,C).event(u),N=this.__zoom,V=Math.max(l[0],Math.min(l[1],N.k*Math.pow(2,r.apply(this,arguments)))),I=de(u);if(h.wheel)(h.mouse[0][0]!==I[0]||h.mouse[0][1]!==I[1])&&(h.mouse[1]=N.invert(h.mouse[0]=I)),clearTimeout(h.wheel);else{if(N.k===V)return;h.mouse=[I,N.invert(I)],Ye(this),h.start()}ze(u),h.wheel=setTimeout(O,k),h.zoom("mouse",n(P(D(N,V),h.mouse[0],h.mouse[1]),h.extent,i));function O(){h.wheel=null,h.end()}}function S(u,...C){if(s||!t.apply(this,arguments))return;var h=u.currentTarget,N=x(this,C,!0).event(u),V=pe(u.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",ee,!0),I=de(u,h),O=u.clientX,G=u.clientY;zt(u.view),Xe(u),N.mouse=[I,this.__zoom.invert(I)],Ye(this),N.start();function q(Z){if(ze(Z),!N.moved){var te=Z.clientX-O,ne=Z.clientY-G;N.moved=te*te+ne*ne>p}N.event(Z).zoom("mouse",n(P(N.that.__zoom,N.mouse[0]=de(Z,h),N.mouse[1]),N.extent,i))}function ee(Z){V.on("mousemove.zoom mouseup.zoom",null),Nt(Z.view,N.moved),ze(Z),N.event(Z).end()}}function _(u,...C){if(!!t.apply(this,arguments)){var h=this.__zoom,N=de(u.changedTouches?u.changedTouches[0]:u,this),V=h.invert(N),I=h.k*(u.shiftKey?.5:2),O=n(P(D(h,I),N,V),e.apply(this,C),i);ze(u),o>0?pe(this).transition().duration(o).call(A,O,N,u):pe(this).call(b.transform,O,N,u)}}function w(u,...C){if(!!t.apply(this,arguments)){var h=u.touches,N=h.length,V=x(this,C,u.changedTouches.length===N).event(u),I,O,G,q;for(Xe(u),O=0;O<N;++O)G=h[O],q=de(G,this),q=[q,this.__zoom.invert(q),G.identifier],V.touch0?!V.touch1&&V.touch0[2]!==q[2]&&(V.touch1=q,V.taps=0):(V.touch0=q,I=!0,V.taps=1+!!m);m&&(m=clearTimeout(m)),I&&(V.taps<2&&(f=q[0],m=setTimeout(function(){m=null},v)),Ye(this),V.start())}}function B(u,...C){if(!!this.__zooming){var h=x(this,C).event(u),N=u.changedTouches,V=N.length,I,O,G,q;for(ze(u),I=0;I<V;++I)O=N[I],G=de(O,this),h.touch0&&h.touch0[2]===O.identifier?h.touch0[0]=G:h.touch1&&h.touch1[2]===O.identifier&&(h.touch1[0]=G);if(O=h.that.__zoom,h.touch1){var ee=h.touch0[0],Z=h.touch0[1],te=h.touch1[0],ne=h.touch1[1],$=($=te[0]-ee[0])*$+($=te[1]-ee[1])*$,fe=(fe=ne[0]-Z[0])*fe+(fe=ne[1]-Z[1])*fe;O=D(O,Math.sqrt($/fe)),G=[(ee[0]+te[0])/2,(ee[1]+te[1])/2],q=[(Z[0]+ne[0])/2,(Z[1]+ne[1])/2]}else if(h.touch0)G=h.touch0[0],q=h.touch0[1];else return;h.zoom("touch",n(P(O,G,q),h.extent,i))}}function L(u,...C){if(!!this.__zooming){var h=x(this,C).event(u),N=u.changedTouches,V=N.length,I,O;for(Xe(u),s&&clearTimeout(s),s=setTimeout(function(){s=null},v),I=0;I<V;++I)O=N[I],h.touch0&&h.touch0[2]===O.identifier?delete h.touch0:h.touch1&&h.touch1[2]===O.identifier&&delete h.touch1;if(h.touch1&&!h.touch0&&(h.touch0=h.touch1,delete h.touch1),h.touch0)h.touch0[1]=this.__zoom.invert(h.touch0[0]);else if(h.end(),h.taps===2&&(O=de(O,this),Math.hypot(f[0]-O[0],f[1]-O[1])<y)){var G=pe(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return b.wheelDelta=function(u){return arguments.length?(r=typeof u=="function"?u:Oe(+u),b):r},b.filter=function(u){return arguments.length?(t=typeof u=="function"?u:Oe(!!u),b):t},b.touchable=function(u){return arguments.length?(a=typeof u=="function"?u:Oe(!!u),b):a},b.extent=function(u){return arguments.length?(e=typeof u=="function"?u:Oe([[+u[0][0],+u[0][1]],[+u[1][0],+u[1][1]]]),b):e},b.scaleExtent=function(u){return arguments.length?(l[0]=+u[0],l[1]=+u[1],b):[l[0],l[1]]},b.translateExtent=function(u){return arguments.length?(i[0][0]=+u[0][0],i[1][0]=+u[1][0],i[0][1]=+u[0][1],i[1][1]=+u[1][1],b):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},b.constrain=function(u){return arguments.length?(n=u,b):n},b.duration=function(u){return arguments.length?(o=+u,b):o},b.interpolate=function(u){return arguments.length?(g=u,b):g},b.on=function(){var u=c.on.apply(c,arguments);return u===c?b:u},b.clickDistance=function(u){return arguments.length?(p=(u=+u)*u,b):Math.sqrt(p)},b.tapDistance=function(u){return arguments.length?(y=+u,b):y},b}var kn=Ut("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Mn(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function a(){var l,i=n.length,o,g=0,c=0;for(l=0;l<i;++l)o=n[l],g+=o.x,c+=o.y;for(g=(g/i-t)*r,c=(c/i-e)*r,l=0;l<i;++l)o=n[l],o.x-=g,o.y-=c}return a.initialize=function(l){n=l},a.x=function(l){return arguments.length?(t=+l,a):t},a.y=function(l){return arguments.length?(e=+l,a):e},a.strength=function(l){return arguments.length?(r=+l,a):r},a}function En(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return At(this.cover(e,n),e,n,t)}function At(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var a,l=t._root,i={data:r},o=t._x0,g=t._y0,c=t._x1,m=t._y1,f,s,v,k,p,y,b,D;if(!l)return t._root=i,t;for(;l.length;)if((p=e>=(f=(o+c)/2))?o=f:c=f,(y=n>=(s=(g+m)/2))?g=s:m=s,a=l,!(l=l[b=y<<1|p]))return a[b]=i,t;if(v=+t._x.call(null,l.data),k=+t._y.call(null,l.data),e===v&&n===k)return i.next=l,a?a[b]=i:t._root=i,t;do a=a?a[b]=new Array(4):t._root=new Array(4),(p=e>=(f=(o+c)/2))?o=f:c=f,(y=n>=(s=(g+m)/2))?g=s:m=s;while((b=y<<1|p)===(D=(k>=s)<<1|v>=f));return a[D]=l,a[b]=i,t}function xn(t){var e,n,r=t.length,a,l,i=new Array(r),o=new Array(r),g=1/0,c=1/0,m=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(a=+this._x.call(null,e=t[n]))||isNaN(l=+this._y.call(null,e))||(i[n]=a,o[n]=l,a<g&&(g=a),a>m&&(m=a),l<c&&(c=l),l>f&&(f=l));if(g>m||c>f)return this;for(this.cover(g,c).cover(m,f),n=0;n<r;++n)At(this,i[n],o[n],t[n]);return this}function Tn(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,a=this._x1,l=this._y1;if(isNaN(n))a=(n=Math.floor(t))+1,l=(r=Math.floor(e))+1;else{for(var i=a-n||1,o=this._root,g,c;n>t||t>=a||r>e||e>=l;)switch(c=(e<r)<<1|t<n,g=new Array(4),g[c]=o,o=g,i*=2,c){case 0:a=n+i,l=r+i;break;case 1:n=a-i,l=r+i;break;case 2:a=n+i,r=l-i;break;case 3:n=a-i,r=l-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=r,this._x1=a,this._y1=l,this}function zn(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Nn(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ie(t,e,n,r,a){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=a}function An(t,e,n){var r,a=this._x0,l=this._y0,i,o,g,c,m=this._x1,f=this._y1,s=[],v=this._root,k,p;for(v&&s.push(new ie(v,a,l,m,f)),n==null?n=1/0:(a=t-n,l=e-n,m=t+n,f=e+n,n*=n);k=s.pop();)if(!(!(v=k.node)||(i=k.x0)>m||(o=k.y0)>f||(g=k.x1)<a||(c=k.y1)<l))if(v.length){var y=(i+g)/2,b=(o+c)/2;s.push(new ie(v[3],y,b,g,c),new ie(v[2],i,b,y,c),new ie(v[1],y,o,g,b),new ie(v[0],i,o,y,b)),(p=(e>=b)<<1|t>=y)&&(k=s[s.length-1],s[s.length-1]=s[s.length-1-p],s[s.length-1-p]=k)}else{var D=t-+this._x.call(null,v.data),P=e-+this._y.call(null,v.data),d=D*D+P*P;if(d<n){var A=Math.sqrt(n=d);a=t-A,l=e-A,m=t+A,f=e+A,r=v.data}}return r}function Dn(t){if(isNaN(m=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,a,l,i=this._x0,o=this._y0,g=this._x1,c=this._y1,m,f,s,v,k,p,y,b;if(!n)return this;if(n.length)for(;;){if((k=m>=(s=(i+g)/2))?i=s:g=s,(p=f>=(v=(o+c)/2))?o=v:c=v,e=n,!(n=n[y=p<<1|k]))return this;if(!n.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(r=e,b=y)}for(;n.data!==t;)if(a=n,!(n=n.next))return this;return(l=n.next)&&delete n.next,a?(l?a.next=l:delete a.next,this):e?(l?e[y]=l:delete e[y],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[b]=n:this._root=n),this):(this._root=l,this)}function Sn(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function In(){return this._root}function Cn(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function jn(t){var e=[],n,r=this._root,a,l,i,o,g;for(r&&e.push(new ie(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,l=n.x0,i=n.y0,o=n.x1,g=n.y1)&&r.length){var c=(l+o)/2,m=(i+g)/2;(a=r[3])&&e.push(new ie(a,c,m,o,g)),(a=r[2])&&e.push(new ie(a,l,m,c,g)),(a=r[1])&&e.push(new ie(a,c,i,o,m)),(a=r[0])&&e.push(new ie(a,l,i,c,m))}return this}function Pn(t){var e=[],n=[],r;for(this._root&&e.push(new ie(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var a=r.node;if(a.length){var l,i=r.x0,o=r.y0,g=r.x1,c=r.y1,m=(i+g)/2,f=(o+c)/2;(l=a[0])&&e.push(new ie(l,i,o,m,f)),(l=a[1])&&e.push(new ie(l,m,o,g,f)),(l=a[2])&&e.push(new ie(l,i,f,m,c)),(l=a[3])&&e.push(new ie(l,m,f,g,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function On(t){return t[0]}function Bn(t){return arguments.length?(this._x=t,this):this._x}function Vn(t){return t[1]}function Yn(t){return arguments.length?(this._y=t,this):this._y}function Ge(t,e,n){var r=new qe(e==null?On:e,n==null?Vn:n,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function qe(t,e,n,r,a,l){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=a,this._y1=l,this._root=void 0}function ht(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ae=Ge.prototype=qe.prototype;ae.copy=function(){var t=new qe(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=ht(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var a=0;a<4;++a)(r=e.source[a])&&(r.length?n.push({source:r,target:e.target[a]=new Array(4)}):e.target[a]=ht(r));return t};ae.add=En;ae.addAll=xn;ae.cover=Tn;ae.data=zn;ae.extent=Nn;ae.find=An;ae.remove=Dn;ae.removeAll=Sn;ae.root=In;ae.size=Cn;ae.visit=jn;ae.visitAfter=Pn;ae.x=Bn;ae.y=Yn;function we(t){return function(){return t}}function ye(t){return(t()-.5)*1e-6}function Ln(t){return t.x+t.vx}function Xn(t){return t.y+t.vy}function Un(t){var e,n,r,a=1,l=1;typeof t!="function"&&(t=we(t==null?1:+t));function i(){for(var c,m=e.length,f,s,v,k,p,y,b=0;b<l;++b)for(f=Ge(e,Ln,Xn).visitAfter(o),c=0;c<m;++c)s=e[c],p=n[s.index],y=p*p,v=s.x+s.vx,k=s.y+s.vy,f.visit(D);function D(P,d,A,x,E){var M=P.data,S=P.r,_=p+S;if(M){if(M.index>s.index){var w=v-M.x-M.vx,B=k-M.y-M.vy,L=w*w+B*B;L<_*_&&(w===0&&(w=ye(r),L+=w*w),B===0&&(B=ye(r),L+=B*B),L=(_-(L=Math.sqrt(L)))/L*a,s.vx+=(w*=L)*(_=(S*=S)/(y+S)),s.vy+=(B*=L)*_,M.vx-=w*(_=1-_),M.vy-=B*_)}return}return d>v+_||x<v-_||A>k+_||E<k-_}}function o(c){if(c.data)return c.r=n[c.data.index];for(var m=c.r=0;m<4;++m)c[m]&&c[m].r>c.r&&(c.r=c[m].r)}function g(){if(!!e){var c,m=e.length,f;for(n=new Array(m),c=0;c<m;++c)f=e[c],n[f.index]=+t(f,c,e)}}return i.initialize=function(c,m){e=c,r=m,g()},i.iterations=function(c){return arguments.length?(l=+c,i):l},i.strength=function(c){return arguments.length?(a=+c,i):a},i.radius=function(c){return arguments.length?(t=typeof c=="function"?c:we(+c),g(),i):t},i}function Fn(t){return t.index}function gt(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Rn(t){var e=Fn,n=f,r,a=we(30),l,i,o,g,c,m=1;t==null&&(t=[]);function f(y){return 1/Math.min(o[y.source.index],o[y.target.index])}function s(y){for(var b=0,D=t.length;b<m;++b)for(var P=0,d,A,x,E,M,S,_;P<D;++P)d=t[P],A=d.source,x=d.target,E=x.x+x.vx-A.x-A.vx||ye(c),M=x.y+x.vy-A.y-A.vy||ye(c),S=Math.sqrt(E*E+M*M),S=(S-l[P])/S*y*r[P],E*=S,M*=S,x.vx-=E*(_=g[P]),x.vy-=M*_,A.vx+=E*(_=1-_),A.vy+=M*_}function v(){if(!!i){var y,b=i.length,D=t.length,P=new Map(i.map((A,x)=>[e(A,x,i),A])),d;for(y=0,o=new Array(b);y<D;++y)d=t[y],d.index=y,typeof d.source!="object"&&(d.source=gt(P,d.source)),typeof d.target!="object"&&(d.target=gt(P,d.target)),o[d.source.index]=(o[d.source.index]||0)+1,o[d.target.index]=(o[d.target.index]||0)+1;for(y=0,g=new Array(D);y<D;++y)d=t[y],g[y]=o[d.source.index]/(o[d.source.index]+o[d.target.index]);r=new Array(D),k(),l=new Array(D),p()}}function k(){if(!!i)for(var y=0,b=t.length;y<b;++y)r[y]=+n(t[y],y,t)}function p(){if(!!i)for(var y=0,b=t.length;y<b;++y)l[y]=+a(t[y],y,t)}return s.initialize=function(y,b){i=y,c=b,v()},s.links=function(y){return arguments.length?(t=y,v(),s):t},s.id=function(y){return arguments.length?(e=y,s):e},s.iterations=function(y){return arguments.length?(m=+y,s):m},s.strength=function(y){return arguments.length?(n=typeof y=="function"?y:we(+y),k(),s):n},s.distance=function(y){return arguments.length?(a=typeof y=="function"?y:we(+y),p(),s):a},s}const Hn=1664525,Gn=1013904223,mt=4294967296;function qn(){let t=1;return()=>(t=(Hn*t+Gn)%mt)/mt}function Qn(t){return t.x}function Jn(t){return t.y}var Kn=10,Wn=Math.PI*(3-Math.sqrt(5));function Zn(t){var e,n=1,r=.001,a=1-Math.pow(r,1/300),l=0,i=.6,o=new Map,g=Ft(f),c=Re("tick","end"),m=qn();t==null&&(t=[]);function f(){s(),c.call("tick",e),n<r&&(g.stop(),c.call("end",e))}function s(p){var y,b=t.length,D;p===void 0&&(p=1);for(var P=0;P<p;++P)for(n+=(l-n)*a,o.forEach(function(d){d(n)}),y=0;y<b;++y)D=t[y],D.fx==null?D.x+=D.vx*=i:(D.x=D.fx,D.vx=0),D.fy==null?D.y+=D.vy*=i:(D.y=D.fy,D.vy=0);return e}function v(){for(var p=0,y=t.length,b;p<y;++p){if(b=t[p],b.index=p,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var D=Kn*Math.sqrt(.5+p),P=p*Wn;b.x=D*Math.cos(P),b.y=D*Math.sin(P)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function k(p){return p.initialize&&p.initialize(t,m),p}return v(),e={tick:s,restart:function(){return g.restart(f),e},stop:function(){return g.stop(),e},nodes:function(p){return arguments.length?(t=p,v(),o.forEach(k),e):t},alpha:function(p){return arguments.length?(n=+p,e):n},alphaMin:function(p){return arguments.length?(r=+p,e):r},alphaDecay:function(p){return arguments.length?(a=+p,e):+a},alphaTarget:function(p){return arguments.length?(l=+p,e):l},velocityDecay:function(p){return arguments.length?(i=1-p,e):1-i},randomSource:function(p){return arguments.length?(m=p,o.forEach(k),e):m},force:function(p,y){return arguments.length>1?(y==null?o.delete(p):o.set(p,k(y)),e):o.get(p)},find:function(p,y,b){var D=0,P=t.length,d,A,x,E,M;for(b==null?b=1/0:b*=b,D=0;D<P;++D)E=t[D],d=p-E.x,A=y-E.y,x=d*d+A*A,x<b&&(M=E,b=x);return M},on:function(p,y){return arguments.length>1?(c.on(p,y),e):c.on(p)}}}function $n(){var t,e,n,r,a=we(-30),l,i=1,o=1/0,g=.81;function c(v){var k,p=t.length,y=Ge(t,Qn,Jn).visitAfter(f);for(r=v,k=0;k<p;++k)e=t[k],y.visit(s)}function m(){if(!!t){var v,k=t.length,p;for(l=new Array(k),v=0;v<k;++v)p=t[v],l[p.index]=+a(p,v,t)}}function f(v){var k=0,p,y,b=0,D,P,d;if(v.length){for(D=P=d=0;d<4;++d)(p=v[d])&&(y=Math.abs(p.value))&&(k+=p.value,b+=y,D+=y*p.x,P+=y*p.y);v.x=D/b,v.y=P/b}else{p=v,p.x=p.data.x,p.y=p.data.y;do k+=l[p.data.index];while(p=p.next)}v.value=k}function s(v,k,p,y){if(!v.value)return!0;var b=v.x-e.x,D=v.y-e.y,P=y-k,d=b*b+D*D;if(P*P/g<d)return d<o&&(b===0&&(b=ye(n),d+=b*b),D===0&&(D=ye(n),d+=D*D),d<i&&(d=Math.sqrt(i*d)),e.vx+=b*v.value*r/d,e.vy+=D*v.value*r/d),!0;if(v.length||d>=o)return;(v.data!==e||v.next)&&(b===0&&(b=ye(n),d+=b*b),D===0&&(D=ye(n),d+=D*D),d<i&&(d=Math.sqrt(i*d)));do v.data!==e&&(P=l[v.data.index]*r/d,e.vx+=b*P,e.vy+=D*P);while(v=v.next)}return c.initialize=function(v,k){t=v,n=k,m()},c.strength=function(v){return arguments.length?(a=typeof v=="function"?v:we(+v),m(),c):a},c.distanceMin=function(v){return arguments.length?(i=v*v,c):Math.sqrt(i)},c.distanceMax=function(v){return arguments.length?(o=v*v,c):Math.sqrt(o)},c.theta=function(v){return arguments.length?(g=v*v,c):Math.sqrt(g)},c}function er(t){let e,n,r,a;return{c(){e=X("div"),n=X("canvas"),this.h()},l(l){e=U(l,"DIV",{class:!0});var i=Y(e);n=U(i,"CANVAS",{width:!0,height:!0,class:!0}),Y(n).forEach(z),i.forEach(z),this.h()},h(){T(n,"width",t[2]),T(n,"height",t[1]),T(n,"class","svelte-zs93ed"),T(e,"class","container")},m(l,i){R(l,e,i),j(e,n),t[8](n),r||(a=_e(window,"resize",t[6]),r=!0)},p(l,[i]){i&4&&T(n,"width",l[2]),i&2&&T(n,"height",l[1])},i:ke,o:ke,d(l){l&&z(e),t[8](null),r=!1,a()}}}const ce=5;function tr(t,e,n){let r,a,l,i;const{data:o,width:g,height:c}=Dt("LayerCake");Ne(t,o,_=>n(7,i=_)),Ne(t,g,_=>n(2,l=_)),Ne(t,c,_=>n(1,a=_));let m={zoom:wn,zoomIdentity:He,scaleLinear:Rt,scaleOrdinal:Ht,schemeCategory10:kn,select:pe,selectAll:sn,pointer:de,drag:mn,forceSimulation:Zn,forceLink:Rn,forceManyBody:$n,forceCenter:Mn,forceCollide:Un},f;const s=m.scaleOrdinal(m.schemeCategory10);let v=m.zoomIdentity,k,p;const y=o.subscribe(async _=>{await St(),b()});It(()=>{y()});function b(){k&&(k.nodes([]).force("link",m.forceLink([])),k=void 0),p=f.getContext("2d"),k=m.forceSimulation(r.nodes).force("link",m.forceLink(r.links).id(_=>_.name)).force("charge",m.forceManyBody()).force("center",m.forceCenter(l/2,a/2)).on("tick",D),m.select(p.canvas).on("mousemove",_=>{const w=m.pointer(_),B=k.find(v.invertX(w[0]),v.invertY(w[1]),ce);B?p.canvas.title=B.index:p.canvas.title=""}),m.select(f).call(m.drag().container(f).subject(d).on("start",A).on("drag",x).on("end",E)).call(m.zoom().scaleExtent([1/10,8]).on("zoom",P))}function D(){p.save(),p.clearRect(0,0,p.canvas.width,p.canvas.height),p.strokeStyle="#999",p.strokeRect(0,0,l,a),p.translate(v.x,v.y),p.scale(v.k,v.k),r.links.forEach(_=>{if(!(_.source.name=="__broker__"||_.target.name=="__broker__")){p.beginPath();var w=_.target.x-_.source.x,B=_.target.y-_.source.y,L=Math.atan2(B,w),u=ce;p.moveTo(_.source.x,_.source.y),p.lineTo(_.target.x-Math.cos(L)*ce*1.2,_.target.y-Math.sin(L)*ce*1.2),p.lineTo(_.target.x-Math.cos(L)*ce*1.2-u*Math.cos(L-Math.PI/6),_.target.y-Math.sin(L)*ce*1.2-u*Math.sin(L-Math.PI/6)),p.moveTo(_.target.x-Math.cos(L)*ce*1.2,_.target.y-Math.sin(L)*ce*1.2),p.lineTo(_.target.x-Math.cos(L)*ce*1.2-u*Math.cos(L+Math.PI/6),_.target.y-Math.sin(L)*ce*1.2-u*Math.sin(L+Math.PI/6)),p.globalAlpha=.6,p.strokeStyle="#999",p.lineWidth=Math.sqrt(_.value),p.stroke(),p.globalAlpha=1,p.fillStyle="#aaa",p.fillText(_.label,_.target.x-Math.cos(L)*Math.abs(w)/2,_.target.y-Math.sin(L)*Math.abs(B)/2),p.globalAlpha=1}}),r.nodes.forEach((_,w)=>{_.name!="__broker__"&&(p.beginPath(),p.arc(_.x,_.y,ce,0,2*Math.PI),p.strokeStyle="#fff",p.lineWidth=1.5,p.stroke(),p.fillStyle=s(_.group),p.fill(),p.fillText(_.name,_.x+10,_.y+3))}),p.restore()}function P(_){v=_.transform,D()}function d(_){const w=k.find(v.invertX(_.x),v.invertY(_.y),ce);return w&&(w.x=v.applyX(w.x),w.y=v.applyY(w.y)),w}function A(_){_.active||k.alphaTarget(.3).restart(),_.subject.fx=v.invertX(_.subject.x),_.subject.fy=v.invertY(_.subject.y)}function x(_){_.subject.fx=v.invertX(_.x),_.subject.fy=v.invertY(_.y)}function E(_){_.active||k.alphaTarget(0),_.subject.fx=null,_.subject.fy=null}function M(){}function S(_){Ct[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$.update=()=>{t.$$.dirty&128&&(r=i.length==0?{nodes:[],links:[]}:i)},[f,a,l,o,g,c,M,i,S]}class nr extends De{constructor(e){super(),Se(this,e,tr,er,Ie,{})}}function rr(t){let e,n;return e=new nr({}),{c(){le(e.$$.fragment)},l(r){oe(e.$$.fragment,r)},m(r,a){se(e,r,a),n=!0},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){H(e.$$.fragment,r),n=!1},d(r){ue(e,r)}}}function ir(t){let e,n,r,a;return r=new Gt({props:{data:t[0],$$slots:{default:[rr]},$$scope:{ctx:t}}}),{c(){e=X("div"),n=X("div"),le(r.$$.fragment),this.h()},l(l){e=U(l,"DIV",{class:!0});var i=Y(e);n=U(i,"DIV",{class:!0});var o=Y(n);oe(r.$$.fragment,o),o.forEach(z),i.forEach(z),this.h()},h(){T(n,"class","grow grid grid-areas-layout justify-items-stretch my-auto"),T(e,"class","flex flex-col h-[55vh] py-4")},m(l,i){R(l,e,i),j(e,n),se(r,n,null),a=!0},p(l,[i]){const o={};i&1&&(o.data=l[0]),i&4&&(o.$$scope={dirty:i,ctx:l}),r.$set(o)},i(l){a||(F(r.$$.fragment,l),a=!0)},o(l){H(r.$$.fragment,l),a=!1},d(l){l&&z(e),ue(r)}}}function ar(t,e){let n=[],r=[],a={};n.push({name:"__broker__",group:0});for(const l of e.cores)for(const i of l.federates){i.publications===void 0&&(i.publications=[]);for(const o of i.publications){n.push({name:`${o.federate}-${o.handle}`,federate:i.attributes.name,group:1}),o.targets===void 0&&(o.targets=[]),a[`${o.federate}-${o.handle}`]=o.key;for(const g of o.targets)r.push({source:`${o.federate}-${o.handle}`,target:`${g.federate}-${g.handle}`,label:a[`${o.federate}-${o.handle}`],ignore:!1})}}for(const l of e.cores)for(const i of l.federates){i.inputs===void 0&&(i.inputs=[]);for(const o of i.inputs){n.push({name:`${o.federate}-${o.handle}`,federate:i.attributes.name,group:2}),o.sources===void 0&&(o.sources=[]);for(const g of o.sources)r.push({source:`${g.federate}-${g.handle}`,target:`${o.federate}-${o.handle}`,label:a[`${g.federate}-${g.handle}`],ignore:!1})}}return n=Array.from(new Set(n.map(JSON.stringify))).map(JSON.parse),r=Array.from(new Set(r.map(JSON.stringify))).map(JSON.parse),{nodes:n,links:r}}function lr(t,e,n){let r;Ne(t,re,l=>n(1,r=l));let a;return jt(()=>{n(0,a=ar(r.graphs.federate,r.graphs.data))}),[a]}class or extends De{constructor(e){super(),Se(this,e,lr,ir,Ie,{})}}function sr(t){let e,n;return{c(){e=X("p"),n=K(`Drag 'n' drop a observer generated "helics-cli.sqlite" file here, or click to select a\r
            "helics-cli.sqlite" file`)},l(r){e=U(r,"P",{});var a=Y(e);n=W(a,`Drag 'n' drop a observer generated "helics-cli.sqlite" file here, or click to select a\r
            "helics-cli.sqlite" file`),a.forEach(z)},m(r,a){R(r,e,a),j(e,n)},p:ke,d(r){r&&z(e)}}}function dt(t){let e,n,r=t[0].systeminfo.version.string+"",a;return{c(){e=X("div"),n=K("HELICS Version: "),a=K(r),this.h()},l(l){e=U(l,"DIV",{class:!0});var i=Y(e);n=W(i,"HELICS Version: "),a=W(i,r),i.forEach(z),this.h()},h(){T(e,"class","my-4")},m(l,i){R(l,e,i),j(e,n),j(e,a)},p(l,i){i&1&&r!==(r=l[0].systeminfo.version.string+"")&&be(a,r)},d(l){l&&z(e)}}}function pt(t){let e,n,r,a,l;return a=new or({}),{c(){e=X("h3"),n=K("Topology"),r=Q(),le(a.$$.fragment),this.h()},l(i){e=U(i,"H3",{class:!0});var o=Y(e);n=W(o,"Topology"),o.forEach(z),r=J(i),oe(a.$$.fragment,i),this.h()},h(){T(e,"class","font-medium leading-tight text-2xl mt-0 mb-2 text-blue-600")},m(i,o){R(i,e,o),j(e,n),R(i,r,o),se(a,i,o),l=!0},i(i){l||(F(a.$$.fragment,i),l=!0)},o(i){H(a.$$.fragment,i),l=!1},d(i){i&&z(e),i&&z(r),ue(a,i)}}}function _t(t){let e,n,r,a,l;return a=new je({props:{data:t[0].cores,columns:t[0].cores_columns}}),{c(){e=X("h3"),n=K("Cores"),r=Q(),le(a.$$.fragment),this.h()},l(i){e=U(i,"H3",{class:!0});var o=Y(e);n=W(o,"Cores"),o.forEach(z),r=J(i),oe(a.$$.fragment,i),this.h()},h(){T(e,"class","font-medium leading-tight text-2xl mt-0 mb-2 text-blue-600")},m(i,o){R(i,e,o),j(e,n),R(i,r,o),se(a,i,o),l=!0},p(i,o){const g={};o&1&&(g.data=i[0].cores),o&1&&(g.columns=i[0].cores_columns),a.$set(g)},i(i){l||(F(a.$$.fragment,i),l=!0)},o(i){H(a.$$.fragment,i),l=!1},d(i){i&&z(e),i&&z(r),ue(a,i)}}}function vt(t){let e,n,r,a,l;return a=new je({props:{data:t[0].federates,columns:t[0].federates_columns}}),{c(){e=X("h3"),n=K("Federates"),r=Q(),le(a.$$.fragment),this.h()},l(i){e=U(i,"H3",{class:!0});var o=Y(e);n=W(o,"Federates"),o.forEach(z),r=J(i),oe(a.$$.fragment,i),this.h()},h(){T(e,"class","font-medium leading-tight text-2xl mt-0 mb-2 text-blue-600")},m(i,o){R(i,e,o),j(e,n),R(i,r,o),se(a,i,o),l=!0},p(i,o){const g={};o&1&&(g.data=i[0].federates),o&1&&(g.columns=i[0].federates_columns),a.$set(g)},i(i){l||(F(a.$$.fragment,i),l=!0)},o(i){H(a.$$.fragment,i),l=!1},d(i){i&&z(e),i&&z(r),ue(a,i)}}}function bt(t){let e,n,r,a,l;return a=new je({props:{data:t[0].publications,columns:t[0].publications_columns}}),{c(){e=X("h3"),n=K("Publications"),r=Q(),le(a.$$.fragment),this.h()},l(i){e=U(i,"H3",{class:!0});var o=Y(e);n=W(o,"Publications"),o.forEach(z),r=J(i),oe(a.$$.fragment,i),this.h()},h(){T(e,"class","font-medium leading-tight text-2xl mt-0 mb-2 text-blue-600")},m(i,o){R(i,e,o),j(e,n),R(i,r,o),se(a,i,o),l=!0},p(i,o){const g={};o&1&&(g.data=i[0].publications),o&1&&(g.columns=i[0].publications_columns),a.$set(g)},i(i){l||(F(a.$$.fragment,i),l=!0)},o(i){H(a.$$.fragment,i),l=!1},d(i){i&&z(e),i&&z(r),ue(a,i)}}}function yt(t){let e,n,r,a,l;return a=new je({props:{data:t[0].inputs,columns:t[0].inputs_columns}}),{c(){e=X("h3"),n=K("Inputs"),r=Q(),le(a.$$.fragment),this.h()},l(i){e=U(i,"H3",{class:!0});var o=Y(e);n=W(o,"Inputs"),o.forEach(z),r=J(i),oe(a.$$.fragment,i),this.h()},h(){T(e,"class","font-medium leading-tight text-2xl mt-0 mb-2 text-blue-600")},m(i,o){R(i,e,o),j(e,n),R(i,r,o),se(a,i,o),l=!0},p(i,o){const g={};o&1&&(g.data=i[0].inputs),o&1&&(g.columns=i[0].inputs_columns),a.$set(g)},i(i){l||(F(a.$$.fragment,i),l=!0)},o(i){H(a.$$.fragment,i),l=!1},d(i){i&&z(e),i&&z(r),ue(a,i)}}}function wt(t){let e,n,r,a,l;return a=new je({props:{data:t[0].table,columns:t[0].table_columns}}),{c(){e=X("h3"),n=K("data"),r=Q(),le(a.$$.fragment),this.h()},l(i){e=U(i,"H3",{class:!0});var o=Y(e);n=W(o,"data"),o.forEach(z),r=J(i),oe(a.$$.fragment,i),this.h()},h(){T(e,"class","font-medium leading-tight text-2xl mt-0 mb-2 text-blue-600")},m(i,o){R(i,e,o),j(e,n),R(i,r,o),se(a,i,o),l=!0},p(i,o){const g={};o&1&&(g.data=i[0].table),o&1&&(g.columns=i[0].table_columns),a.$set(g)},i(i){l||(F(a.$$.fragment,i),l=!0)},o(i){H(a.$$.fragment,i),l=!1},d(i){i&&z(e),i&&z(r),ue(a,i)}}}function ur(t){let e,n,r,a,l,i,o,g,c,m=Object.keys(t[0].systeminfo).length!=0,f,s,v,k,p,y,b,D,P;l=new Vt({props:{multiple:"false",$$slots:{default:[sr]},$$scope:{ctx:t}}}),l.$on("drop",t[1]);let d=m&&dt(t),A=t[0].table.length!=0&&pt(),x=t[0].cores.length!=0&&_t(t),E=t[0].federates.length!=0&&vt(t),M=t[0].publications.length!=0&&bt(t),S=t[0].inputs.length!=0&&yt(t),_=t[0].table.length!=0&&wt(t);return{c(){e=X("div"),n=X("div"),r=X("div"),a=X("div"),le(l.$$.fragment),i=Q(),o=X("button"),g=K("Clear"),c=Q(),d&&d.c(),f=Q(),A&&A.c(),s=Q(),x&&x.c(),v=Q(),E&&E.c(),k=Q(),M&&M.c(),p=Q(),S&&S.c(),y=Q(),_&&_.c(),this.h()},l(w){e=U(w,"DIV",{class:!0});var B=Y(e);n=U(B,"DIV",{class:!0});var L=Y(n);r=U(L,"DIV",{class:!0});var u=Y(r);a=U(u,"DIV",{class:!0});var C=Y(a);oe(l.$$.fragment,C),i=J(C),o=U(C,"BUTTON",{type:!0,class:!0});var h=Y(o);g=W(h,"Clear"),h.forEach(z),C.forEach(z),c=J(u),d&&d.l(u),f=J(u),A&&A.l(u),s=J(u),x&&x.l(u),v=J(u),E&&E.l(u),k=J(u),M&&M.l(u),p=J(u),S&&S.l(u),y=J(u),_&&_.l(u),u.forEach(z),L.forEach(z),B.forEach(z),this.h()},h(){T(o,"type","button"),T(o,"class","inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out"),T(a,"class","flex space-x-4"),T(r,"class","py-2 inline-block w-full sm:px-6 lg:px-8"),T(n,"class","overflow-x-auto sm:-mx-6 lg:-mx-8"),T(e,"class","flex w-7/8 flex-col mt-6 mx-8")},m(w,B){R(w,e,B),j(e,n),j(n,r),j(r,a),se(l,a,null),j(a,i),j(a,o),j(o,g),j(r,c),d&&d.m(r,null),j(r,f),A&&A.m(r,null),j(r,s),x&&x.m(r,null),j(r,v),E&&E.m(r,null),j(r,k),M&&M.m(r,null),j(r,p),S&&S.m(r,null),j(r,y),_&&_.m(r,null),b=!0,D||(P=_e(o,"click",t[2]),D=!0)},p(w,[B]){const L={};B&256&&(L.$$scope={dirty:B,ctx:w}),l.$set(L),B&1&&(m=Object.keys(w[0].systeminfo).length!=0),m?d?d.p(w,B):(d=dt(w),d.c(),d.m(r,f)):d&&(d.d(1),d=null),w[0].table.length!=0?A?B&1&&F(A,1):(A=pt(),A.c(),F(A,1),A.m(r,s)):A&&(he(),H(A,1,1,()=>{A=null}),ge()),w[0].cores.length!=0?x?(x.p(w,B),B&1&&F(x,1)):(x=_t(w),x.c(),F(x,1),x.m(r,v)):x&&(he(),H(x,1,1,()=>{x=null}),ge()),w[0].federates.length!=0?E?(E.p(w,B),B&1&&F(E,1)):(E=vt(w),E.c(),F(E,1),E.m(r,k)):E&&(he(),H(E,1,1,()=>{E=null}),ge()),w[0].publications.length!=0?M?(M.p(w,B),B&1&&F(M,1)):(M=bt(w),M.c(),F(M,1),M.m(r,p)):M&&(he(),H(M,1,1,()=>{M=null}),ge()),w[0].inputs.length!=0?S?(S.p(w,B),B&1&&F(S,1)):(S=yt(w),S.c(),F(S,1),S.m(r,y)):S&&(he(),H(S,1,1,()=>{S=null}),ge()),w[0].table.length!=0?_?(_.p(w,B),B&1&&F(_,1)):(_=wt(w),_.c(),F(_,1),_.m(r,null)):_&&(he(),H(_,1,1,()=>{_=null}),ge())},i(w){b||(F(l.$$.fragment,w),F(A),F(x),F(E),F(M),F(S),F(_),b=!0)},o(w){H(l.$$.fragment,w),H(A),H(x),H(E),H(M),H(S),H(_),b=!1},d(w){w&&z(e),ue(l),d&&d.d(),A&&A.d(),x&&x.d(),E&&E.d(),M&&M.d(),S&&S.d(),_&&_.d(),D=!1,P()}}}const ve="http://127.0.0.1:5000/api/observer";function fr(t,e,n){let r;Ne(t,re,m=>n(0,r=m));function a(m){for(const f of r.cores)if(f.id==m)return f.name}function l(m){for(const f of r.federates)if(f.id==m)return f.name}async function i(){me(re,r.systeminfo=await(await fetch(`${ve}/systeminfo`)).json(),r),me(re,r.cores=await(await fetch(`${ve}/cores`)).json(),r),me(re,r.federates=await(await fetch(`${ve}/federates`)).json(),r),r.federates.map(s=>s.core_name=a(s.parent)),re.set(r),me(re,r.graphs=await(await fetch(`${ve}/graphs`)).json(),r),me(re,r.publications=await(await fetch(`${ve}/publications`)).json(),r),r.publications.map(s=>{s.source_name=l(s.source),s.target_name=l(s.target)}),re.set(r),me(re,r.inputs=await(await fetch(`${ve}/inputs`)).json(),r),r.inputs.map(s=>{s.source_name=l(s.source),s.target_name=l(s.target)}),re.set(r);function m(s){return s=="id"?"ID":s=="simulation_time"?"Simulation Time":s}me(re,r.table=await(await fetch(`${ve}/data`)).json(),r);const f=[];for(const s of Object.keys(r.table[0]))s!="updated_at"&&f.push({field:s,sortName:s,title:m(s),show:!0,sort:"ascending",sortColor:"#fff",sortActive:!0,text_center:!1});me(re,r.table_columns=f,r)}let o={accepted:[],rejected:[]};async function g(m){const{acceptedFiles:f,fileRejections:s}=m.detail;o.accepted=[...o.accepted,...f],o.rejected=[...o.rejected,...s];var v=new FormData;v.append("file",o.accepted.at(-1)),await fetch(`${ve}/database`,{method:"POST",body:v}),await i()}async function c(m){const f=r.profile;me(re,r=Yt,r),me(re,r.profile=f,r)}return[r,g,c]}class vr extends De{constructor(e){super(),Se(this,e,fr,ur,Ie,{})}}export{vr as default};
