import{C as Q}from"./Container-ee59a5fc.js";import{d as g,o as X,n as C,c as i,e as v,w as s,a0 as Z,u as l,W as I,g as u,f as c,i as b,t as _,_ as J,F as $,h as V,M as h,j as k,V as G,s as o,b as n,r as j,ag as x,ah as ee,X as A,a3 as te,a2 as w,Z as ae,z as ie,af as se}from"./index-2cc203e3.js";import{p as re,k as ne,l as Y,M as oe,i as le,c as ue}from"./VCheckbox-5e2ba96e.js";import{P as de}from"./PanelviewItemCompact-cde963cb.js";import{w as q,V as me,s as ce,y as _e}from"./VListItem-0e8aff4c.js";import{V as pe,T as ye}from"./Toolbar-8dd13369.js";import{V as K}from"./VToolbar-c4261af7.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import{V as ve}from"./VCard-b60fc702.js";/* empty css              */import"./eventbus-6574f7df.js";import"./VCheckboxBtn-682ecc08.js";import"./VList-443b6a64.js";import"./VCardText-73ade3a6.js";import"./VMenu-d17aeffc.js";const we=g({__name:"Carousel",setup(f){return X(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(t,p)=>{const a=C("swiper");return i(),v(a,{"slides-per-view":l(re)(t.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!l(I)({breakpoint:"mobile"})},{default:s(()=>[Z(t.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),be={key:0,class:"widget-row"},ge={class:"mr-3"},fe={key:1,class:"mr-3"},he=g({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(f){const t=function(e,r,m){const d=Array.isArray(e)?e:[e];ne(d,void 0,r,m)},p=function(e,r,m){if(!Y(e)){t(e,r,m);return}e.media_type==h.FOLDER?G.push({name:"browse",query:{path:e.path}}):G.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}})},a=function(e,r,m){if(!Y(e)){t(e,r,m);return}if(!o.activePlayerId){o.showPlayersMenu=!0;return}n.playMedia(e.uri,void 0)};return(e,r)=>{const m=C("swiper-slide");return e.widgetRow.items.length?(i(),u("div",be,[c(K,{class:"header",color:"transparent",style:J(e.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:r[0]||(r[0]=d=>e.widgetRow.path?e.$router.push(e.widgetRow.path):"")},{prepend:s(()=>[c(q,{icon:e.widgetRow.icon},null,8,["icon"])]),title:s(()=>[e.widgetRow.count?(i(),v(pe,{key:0,inline:"",color:"grey",content:e.widgetRow.count},{default:s(()=>[b("span",ge,_(e.$t(e.widgetRow.label)),1)]),_:1},8,["content"])):(i(),u("span",fe,_(e.$t(e.widgetRow.label)),1))]),_:1},8,["style"]),c(we,null,{default:s(()=>[(i(!0),u($,null,V(e.widgetRow.items,d=>(i(),v(m,{key:d.uri},{default:s(()=>[c(de,{item:d,"permanent-overlay":![l(h).ALBUM,l(h).TRACK,l(h).RADIO].includes(d.media_type),onMenu:t,onClick:p,onPlay:a},null,8,["item","permanent-overlay"])]),_:2},1024))),128))]),_:1})])):k("",!0)}}});const ke=P(he,[["__scopeId","data-v-00198094"]]),Ce=g({__name:"HomeWidgetRows",async setup(f){let t,p;const a=j({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}}),e=async function(){o.libraryArtistsCount=await n.getLibraryArtistsCount(),o.libraryAlbumsCount=await n.getLibraryAlbumsCount(),o.libraryPlaylistsCount=await n.getLibraryPlaylistsCount(),o.libraryRadiosCount=await n.getLibraryRadiosCount(),o.libraryTracksCount=await n.getLibraryTracksCount(),a.value.recently_played.items=await n.getRecentlyPlayedItems(10),a.value.artists.items=await n.getLibraryArtists(void 0,void 0,20,void 0,"random"),a.value.artists.count=o.libraryArtistsCount,a.value.albums.items=await n.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added_desc"),a.value.albums.count=o.libraryAlbumsCount,a.value.playlists.items=await n.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added_desc"),a.value.playlists.count=o.libraryPlaylistsCount,a.value.radios.items=await n.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added_desc"),a.value.radios.count=o.libraryRadiosCount,a.value.tracks.items=await n.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added_desc"),a.value.tracks.count=o.libraryTracksCount};return[t,p]=x(()=>e()),await t,p(),ee(()=>{e()}),(r,m)=>(i(!0),u($,null,V(a.value,d=>(i(),u("div",{key:d.label},[c(ke,{"widget-row":d},null,8,["widget-row"])]))),128))}}),qe={class:"media-thumb player-media-thumb"},Pe={style:{cursor:"pointer"}},Re={key:0},Ae={key:0},Ie={key:1},$e={key:2},Ve={style:{cursor:"pointer"},class:"line-clamp-1"},Le={key:0},Me={key:1},Se={key:2,class:"line-clamp-1"},Te={key:3,class:"line-clamp-1"},He={key:4,class:"line-clamp-1"},De={key:5,class:"line-clamp-1"},ze=g({__name:"PanelviewPlayerCard",props:{queue:{}},setup(f){return(t,p)=>(i(),v(ve,{class:ae(["panel-item",{"panel-item-selected":l(o).activePlayerId==t.queue.queue_id,"panel-item-idle":t.queue.state==l(w).PAUSED}])},{default:s(()=>[c(me,{class:"panel-item-details",flat:""},{prepend:s(()=>{var a;return[b("div",qe,[c(oe,{size:"60",item:((a=t.queue.current_item)==null?void 0:a.media_item)||t.queue.current_item,fallback:l(le),style:{cursor:"pointer"}},null,8,["item","fallback"])])]}),title:s(()=>{var a,e,r,m,d,y;return[b("div",Pe,[(a=t.queue.current_item)!=null&&a.media_item?(i(),u("div",Re,[A(_((e=t.queue.current_item)==null?void 0:e.media_item.name)+" ",1),"version"in((r=t.queue.current_item)==null?void 0:r.media_item)&&((m=t.queue.current_item)!=null&&m.media_item.version)?(i(),u("span",Ae,"("+_((d=t.queue.current_item)==null?void 0:d.media_item.version)+")",1)):k("",!0)])):t.queue.current_item?(i(),u("div",Ie,_((y=t.queue.current_item)==null?void 0:y.name),1)):(i(),u("div",$e,_(t.queue.display_name),1))])]}),subtitle:s(()=>{var a,e,r,m,d,y,R,L,M,S,T,H,D,z,B,E,N,W,F,O,U;return[b("div",Ve,[(a=t.queue.current_item)!=null&&a.media_item&&((r=(e=t.queue.current_item)==null?void 0:e.media_item)==null?void 0:r.media_type)==l(h).TRACK&&"album"in((m=t.queue.current_item)==null?void 0:m.media_item)&&((d=t.queue.current_item)!=null&&d.media_item.album)?(i(),u("div",Le,_(l(ue)((y=t.queue.current_item)==null?void 0:y.media_item.artists))+" â€¢ "+_((R=t.queue.current_item)==null?void 0:R.media_item.album.name),1)):(L=t.queue.current_item)!=null&&L.media_item&&"artists"in((M=t.queue.current_item)==null?void 0:M.media_item)&&((S=t.queue.current_item)==null?void 0:S.media_item.artists.length)>0?(i(),u("div",Me,_((T=t.queue.current_item)==null?void 0:T.media_item.artists[0].name),1)):(D=(H=t.queue.current_item)==null?void 0:H.streamdetails)!=null&&D.stream_title?(i(),u("div",Se,_((B=(z=t.queue.current_item)==null?void 0:z.streamdetails)==null?void 0:B.stream_title),1)):(N=(E=t.queue.current_item)==null?void 0:E.media_item)!=null&&N.metadata.description?(i(),u("div",Te,_((W=t.queue.current_item)==null?void 0:W.media_item.metadata.description),1)):t.queue.items==0?(i(),u("div",He,_(t.$t("queue_empty")),1)):((F=l(o).activePlayer)==null?void 0:F.active_source)!=((O=l(o).activePlayer)==null?void 0:O.player_id)?(i(),u("div",De,_(t.$t("external_source_active",[(U=l(o).activePlayer)==null?void 0:U.active_source])),1)):k("",!0)])]}),default:s(()=>[b("h6",null,_(t.queue.display_name),1)]),append:s(()=>[c(ce,{icon:"",variant:"text",onClick:p[0]||(p[0]=te(a=>l(n).queueCommandPlayPause(t.queue.queue_id),["stop"]))},{default:s(()=>[t.queue.state==l(w).PLAYING?(i(),v(q,{key:0,size:l(I)({breakpoint:"phone"})?"24":"32"},{default:s(()=>[A("mdi-pause-circle-outline")]),_:1},8,["size"])):(i(),v(q,{key:1,size:l(I)({breakpoint:"phone"})?"24":"32"},{default:s(()=>[A("mdi-play-circle-outline")]),_:1},8,["size"]))]),_:1})]),_:1})]),_:1},8,["class"]))}});const Be=P(ze,[["__scopeId","data-v-ca997964"]]),Ee={key:0,class:"widget-row"},Ne={class:"mr-3"},We=g({__name:"HomeCurrentlyPlayingRow",setup(f){const t={[w.PLAYING]:1,[w.PAUSED]:2,[w.IDLE]:2},p=ie(()=>Object.values(n.queues).filter(e=>e.active&&e.items>0&&e.queue_id in n.players&&n.players[e.queue_id].powered&&[w.PLAYING,w.PAUSED].includes(n.players[e.queue_id].state)).sort((e,r)=>e.display_name.localeCompare(r.display_name)).sort((e,r)=>t[e.state]-t[r.state]));function a(e){e&&e.queue_id in n.players&&(o.activePlayerId==e.queue_id?o.showFullscreenPlayer=!0:o.activePlayerId=e.queue_id)}return(e,r)=>{const m=C("swiper-slide"),d=C("swiper");return p.value.length?(i(),u("div",Ee,[c(K,{class:"header",color:"transparent",style:{width:"fit-content"}},{prepend:s(()=>[c(q,{icon:"mdi-play-circle-outline"})]),title:s(()=>[b("span",Ne,_(e.$t("currently_playing")),1)]),_:1}),c(d,null,{default:s(()=>[(i(!0),u($,null,V(p.value,y=>(i(),v(m,{key:y.queue_id,style:{"max-width":"400px",width:"300px"}},{default:s(()=>[c(Be,{queue:y,onClick:R=>a(y)},null,8,["queue","onClick"])]),_:2},1024))),128))]),_:1})])):k("",!0)}}});const Fe=P(We,[["__scopeId","data-v-7d6eddfa"]]),Oe=g({__name:"HomeView",setup(f){const t=j(localStorage.getItem("frontend.settings.hide_settings")=="true");return(p,a)=>{var e;return i(),u("div",null,[c(ye,{title:"Music Assistant","menu-items":t.value?[]:[{label:"settings.settings",icon:"mdi-cog-outline",action:()=>{p.$router.push({path:"settings"})}}]},null,8,["menu-items"]),(e=l(n).serverInfo.value)!=null&&e.onboard_done?(i(),v(Q,{key:0,variant:"panel"},{default:s(()=>[(i(),v(se,null,{fallback:s(()=>[c(_e,{indeterminate:""})]),default:s(()=>[b("div",null,[c(Fe),c(Ce)])]),_:1}))]),_:1})):k("",!0)])}}});const rt=P(Oe,[["__scopeId","data-v-43e3dc8a"]]);export{rt as default};
