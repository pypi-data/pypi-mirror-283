from __future__ import annotations

from typing import TYPE_CHECKING

import pytest

if TYPE_CHECKING:
    from syrupy.assertion import SnapshotAssertion

    from osservaprezzi.client import Osservaprezzi


@pytest.mark.usefixtures("client", "mock_client_get_response")
@pytest.mark.parametrize(
    "response",
    [
        {
            "loghi": [
                {
                    "bandieraId": 0,
                    "bandiera": "Flag not set",
                    "isEliminabile": None,
                    "carburantiList": None,
                    "logoMarkerList": [],
                }
            ]
        },
        {
            "loghi": [
                {
                    "bandieraId": 1,
                    "bandiera": "Service Area",
                    "isEliminabile": None,
                    "carburantiList": None,
                    "logoMarkerList": [
                        {
                            "tipoFile": "th4",
                            "estensione": "png",
                            "content": "iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABUWlDQ1BMRyBIRFIgNEsAACiRfZHNSgJxFEfPmGGURcQsDWYVQSbhB0Q7NbDIxWQKjoQ0jqaB2r9xIoSeIWodBYEPEa6CFkG0CwqhB2hRq0CCkmkxxLip3+YeDpcL917wjOlC1L1Ao2mZmVRCyWsFxfeKDw9TRFjQjZaIq2oa4LcORYL+ExLA46IuRP3qvZi7PDnTYsWV28T9W4f/M16utAzgGwgZwrRACgLqkSUskI4B2cxrBZBOAbnqcAeQSw5fA7KZzSRBegCmjZpeBukFCJaGfHWIG/VDw90Bf6WZ2wJmgABpUiissUoGhSgb8Ed/FAiQZB9BG5M9qtSwUIgjENSpoLBOE4MQQRTCLBEmmtcKijPOvZ/r2s+wvAlsuy7bg64KE+eum5+DyR24iwnd1N2v9L2t3UjYYb8Jo5+2/TELvi4MTNv+urDtQQdGenBz8AOC7WKe5RsJvAAAAAlQTFRFAAAA////////c3ilYwAAAAN0Uk5T//8A18oNQQAAAAlwSFlzAAEQhAABEIQBP0VFYAAABpJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMC1jMDAwIDc5LjE3MWMyN2ZhYiwgMjAyMi8wOC8xNi0yMjozNTo0MSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDI0LTA3LTAyVDE1OjQyOjU5KzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyNC0wNy0wMlQxNTo0NToyNCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyNC0wNy0wMlQxNTo0NToyNCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDJkZWNmNmYtOTYzMS00MTZlLWExN2EtYTliYjIwOTMyZTVkIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBmMTg4MDVjLTViZjctNDU4Yy04MmE1LTI0N2M0NTJiZDc4OCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjBmMTg4MDVjLTViZjctNDU4Yy04MmE1LTI0N2M0NTJiZDc4OCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MGYxODgwNWMtNWJmNy00NThjLTgyYTUtMjQ3YzQ1MmJkNzg4IiBzdEV2dDp3aGVuPSIyMDI0LTA3LTAyVDE1OjQyOjU5KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWZiNzE1MjUtZTkxYi00ZDE4LTg1MDAtYjYzZWVjOWVkNDA1IiBzdEV2dDp3aGVuPSIyMDI0LTA3LTAyVDE1OjQ0OjA3KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDJkZWNmNmYtOTYzMS00MTZlLWExN2EtYTliYjIwOTMyZTVkIiBzdEV2dDp3aGVuPSIyMDI0LTA3LTAyVDE1OjQ1OjI0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7eYCBXAAAAiElEQVQ4jb2TSRLAIAgE2yn//2QqBzVxA1M5xJPgAA1qEmAMS7MxnY92XoIMTFjzCGxMqqIyltCpsoWCB8UT3PBuhqbwS1RFwFA4NgIFVo3qjbz6onybowNkLBBAkgNQ78zP0Oa8F3TPyL/uF5C/CII2tWw+lCijyjHBYZggsvta6vdLJ7ZjFxcjTBtGQrar9gAAAABJRU5ErkJggg==",
                        },
                        {
                            "tipoFile": "logo",
                            "estensione": "png",
                            "content": "iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABUWlDQ1BMRyBIRFIgNEsAACiRfZHNSgJxFEfPmGGURcQsDWYVQSbhB0Q7NbDIxWQKjoQ0jqaB2r9xIoSeIWodBYEPEa6CFkG0CwqhB2hRq0CCkmkxxLip3+YeDpcL917wjOlC1L1Ao2mZmVRCyWsFxfeKDw9TRFjQjZaIq2oa4LcORYL+ExLA46IuRP3qvZi7PDnTYsWV28T9W4f/M16utAzgGwgZwrRACgLqkSUskI4B2cxrBZBOAbnqcAeQSw5fA7KZzSRBegCmjZpeBukFCJaGfHWIG/VDw90Bf6WZ2wJmgABpUiissUoGhSgb8Ed/FAiQZB9BG5M9qtSwUIgjENSpoLBOE4MQQRTCLBEmmtcKijPOvZ/r2s+wvAlsuy7bg64KE+eum5+DyR24iwnd1N2v9L2t3UjYYb8Jo5+2/TELvi4MTNv+urDtQQdGenBz8AOC7WKe5RsJvAAAAAlQTFRFAAAA////////c3ilYwAAAAN0Uk5T//8A18oNQQAAAAlwSFlzAAEQhAABEIQBP0VFYAAABpJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMC1jMDAwIDc5LjE3MWMyN2ZhYiwgMjAyMi8wOC8xNi0yMjozNTo0MSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDI0LTA3LTAyVDE1OjQyOjU5KzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyNC0wNy0wMlQxNTo0NToyNCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyNC0wNy0wMlQxNTo0NToyNCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDJkZWNmNmYtOTYzMS00MTZlLWExN2EtYTliYjIwOTMyZTVkIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBmMTg4MDVjLTViZjctNDU4Yy04MmE1LTI0N2M0NTJiZDc4OCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjBmMTg4MDVjLTViZjctNDU4Yy04MmE1LTI0N2M0NTJiZDc4OCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MGYxODgwNWMtNWJmNy00NThjLTgyYTUtMjQ3YzQ1MmJkNzg4IiBzdEV2dDp3aGVuPSIyMDI0LTA3LTAyVDE1OjQyOjU5KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWZiNzE1MjUtZTkxYi00ZDE4LTg1MDAtYjYzZWVjOWVkNDA1IiBzdEV2dDp3aGVuPSIyMDI0LTA3LTAyVDE1OjQ0OjA3KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDJkZWNmNmYtOTYzMS00MTZlLWExN2EtYTliYjIwOTMyZTVkIiBzdEV2dDp3aGVuPSIyMDI0LTA3LTAyVDE1OjQ1OjI0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7eYCBXAAAAiElEQVQ4jb2TSRLAIAgE2yn//2QqBzVxA1M5xJPgAA1qEmAMS7MxnY92XoIMTFjzCGxMqqIyltCpsoWCB8UT3PBuhqbwS1RFwFA4NgIFVo3qjbz6onybowNkLBBAkgNQ78zP0Oa8F3TPyL/uF5C/CII2tWw+lCijyjHBYZggsvta6vdLJ7ZjFxcjTBtGQrar9gAAAABJRU5ErkJggg==",
                        },
                    ],
                },
            ]
        },
    ],
)
async def test_brands(
    client: Osservaprezzi,
    snapshot: SnapshotAssertion,
) -> None:
    assert snapshot(name="brands") == await client.get_brands()
