import{_ as x,Z as v,$ as m,Y as p,a0 as f,T as i,al as j,am as M,an as re,ao as ie,ap as R,X as J,E as le,F as B,aq as K,ar as de,P as I,as as ce,r as q,h as $,S as W,at as H,V as P,au as A,av as ue,aw as me,ax as be,i as fe,ay as Z,az as ve,aA as pe,aB as we,aC as ge,aD as h,aE as _e,aF as he,L as ye,aG as Te,D as E,W as Ve,l as Se,aH as k,aI as X,aJ as Ae,aK as xe,aL as Ce,aM as De,q as ke}from"./admin-drawer-panel-Can9sQIk.js";import{S as $e,V as Pe,a as Be,b as Ie}from"./settings-drawer-D_S8wFKC.js";import{u as We}from"./main-hKTXzzX1.js";import{m as Le,V as z,a as Ue,b as G}from"./VWindowItem-IDCZgODl.js";import{m as Ee,V as Y}from"./VSlideGroup-Bv0lRnhB.js";import{U as Me,V as ze}from"./unauthorized-BMsnj48f.js";import"./copy-to-clipboard-DoUvDJVx.js";import"./VDialog-DPlcZ188.js";import"./change-password-dialog-BKyyB0i6.js";import"./VTextField-DhIkxARQ.js";import"./VSelectionControl-BpvvZpBd.js";const Ge={name:"AdminTitleToolbar",components:{SettingsDrawerButton:$e},computed:{mdAndDown(){return this.$vuetify.display.mdAndDown}}};function Re(e,s,l,t,o,r){const a=v("SettingsDrawerButton");return m(),p(Be,{id:"titleBar",class:M(["codexToolbar",{drawerMargin:!r.mdAndDown}]),density:"compact",elevation:"8"},{default:f(()=>[i(Pe,{class:"codexToolbarTitle"},{default:f(()=>[j(" Codex Administration ")]),_:1}),(m(),p(a,{key:r.mdAndDown,class:M({invisible:!r.mdAndDown}),disabled:!r.mdAndDown},null,8,["class","disabled"]))]),_:1},8,["class"])}const Fe=x(Ge,[["render",Re],["__scopeId","data-v-355452b0"]]),Oe={name:"AdminSettingsPanel",components:{DrawerItem:re},data(){return{mdiBookshelf:ie}},computed:{...R(We,["lastRoute"])}};function Ne(e,s,l,t,o,r){const a=v("DrawerItem");return m(),p(a,{to:e.lastRoute,"prepend-icon":o.mdiBookshelf,title:"Browser"},null,8,["to","prepend-icon"])}const qe=x(Oe,[["render",Ne]]),He={name:"AdminSettingsDrawer",components:{SettingsDrawer:Ie,AdminSettingsPanel:qe},computed:{mdAndDown(){return this.$vuetify.display.mdAndDown}},watch:{mdAndDown(e){e||this.setSettingsDrawerOpen(!0)}},mounted(){this.mdAndDown||this.setSettingsDrawerOpen(!0)},methods:{...J(le,["setSettingsDrawerOpen"])}};function Xe(e,s,l,t,o,r){const a=v("AdminSettingsPanel"),n=v("SettingsDrawer");return m(),p(n,{title:"Admin",temporary:r.mdAndDown},{panel:f(()=>[i(a)]),_:1},8,["temporary"])}const Ye=x(He,[["render",Xe]]),F=Symbol.for("vuetify:v-tabs"),je=B({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...K(de({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Q=I()({name:"VTab",props:je(),setup(e,s){let{slots:l,attrs:t}=s;const{textColorClasses:o,textColorStyles:r}=ce(e,"sliderColor"),a=q(),n=q(),u=$(()=>e.direction==="horizontal"),_=$(()=>{var w,d;return((d=(w=a.value)==null?void 0:w.group)==null?void 0:d.isSelected.value)??!1});function L(w){var c,g;let{value:d}=w;if(d){const b=(g=(c=a.value)==null?void 0:c.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),U=n.value;if(!b||!U)return;const ee=getComputedStyle(b).color,y=b.getBoundingClientRect(),T=U.getBoundingClientRect(),C=u.value?"x":"y",D=u.value?"X":"Y",O=u.value?"right":"bottom",V=u.value?"width":"height",te=y[C],ae=T[C],S=te>ae?y[O]-T[O]:y[C]-T[C],se=Math.sign(S)>0?u.value?"right":"bottom":Math.sign(S)<0?u.value?"left":"top":"center",oe=(Math.abs(S)+(Math.sign(S)<0?y[V]:T[V]))/Math.max(y[V],T[V])||0,ne=y[V]/T[V]||0,N=1.5;me(U,{backgroundColor:[ee,"currentcolor"],transform:[`translate${D}(${S}px) scale${D}(${ne})`,`translate${D}(${S/N}px) scale${D}(${(oe-1)/N+1})`,"none"],transformOrigin:Array(3).fill(se)},{duration:225,easing:be})}}return W(()=>{const w=H.filterProps(e);return i(H,A({symbol:F,ref:a,class:["v-tab",e.class],style:e.style,tabindex:_.value?0:-1,role:"tab","aria-selected":String(_.value),active:!1},w,t,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":L}),{...l,default:()=>{var d;return i(P,null,[((d=l.default)==null?void 0:d.call(l))??e.text,!e.hideSlider&&i("div",{ref:n,class:["v-tab__slider",o.value],style:r.value},null)])}})}),ue({},a)}}),Je=B({...K(Le(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Ke=I()({name:"VTabsWindow",props:Je(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:l}=s;const t=fe(F,null),o=Z(e,"modelValue"),r=$({get(){var a;return o.value!=null||!t?o.value:(a=t.items.value.find(n=>t.selected.value.includes(n.id)))==null?void 0:a.value},set(a){o.value=a}});return W(()=>{const a=z.filterProps(e);return i(z,A({_as:"VTabsWindow"},a,{modelValue:r.value,"onUpdate:modelValue":n=>r.value=n,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),l)}),{}}}),Ze=B({...Ue()},"VTabsWindowItem"),Qe=I()({name:"VTabsWindowItem",props:Ze(),setup(e,s){let{slots:l}=s;return W(()=>{const t=G.filterProps(e);return i(G,A({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),l)}),{}}});function et(e){return e?e.map(s=>Te(s)?s:{text:s,value:s}):[]}const tt=B({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ee({mandatory:"force",selectedClass:"v-tab-item--selected"}),...ve(),...pe()},"VTabs"),at=I()({name:"VTabs",props:tt(),emits:{"update:modelValue":e=>!0},setup(e,s){let{attrs:l,slots:t}=s;const o=Z(e,"modelValue"),r=$(()=>et(e.items)),{densityClasses:a}=we(e),{backgroundColorClasses:n,backgroundColorStyles:u}=ge(h(e,"bgColor")),{scopeId:_}=_e();return he({VTab:{color:h(e,"color"),direction:h(e,"direction"),stacked:h(e,"stacked"),fixed:h(e,"fixedTabs"),sliderColor:h(e,"sliderColor"),hideSlider:h(e,"hideSlider")}}),W(()=>{const L=Y.filterProps(e),w=!!(t.window||e.items.length>0);return i(P,null,[i(Y,A(L,{modelValue:o.value,"onUpdate:modelValue":d=>o.value=d,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},a.value,n.value,e.class],style:[{"--v-tabs-height":ye(e.height)},u.value,e.style],role:"tablist",symbol:F},_,l),{default:()=>{var d;return[((d=t.default)==null?void 0:d.call(t))??r.value.map(c=>{var g;return((g=t.tab)==null?void 0:g.call(t,{item:c}))??i(Q,A(c,{key:c.text,value:c.value}),{default:t[`tab.${c.value}`]?()=>{var b;return(b=t[`tab.${c.value}`])==null?void 0:b.call(t,{item:c})}:void 0})})]}}),w&&i(Ke,A({modelValue:o.value,"onUpdate:modelValue":d=>o.value=d,key:"tabs-window"},_),{default:()=>{var d;return[r.value.map(c=>{var g;return((g=t.item)==null?void 0:g.call(t,{item:c}))??i(Qe,{value:c.value},{default:()=>{var b;return(b=t[`item.${c.value}`])==null?void 0:b.call(t,{item:c})}})}),(d=t.window)==null?void 0:d.call(t)]}})])}),{}}}),st={name:"AdminTabs",data(){return{activeTab:"Libraries",tabs:["Users","Groups","Libraries","Flags","Tasks","Stats"]}},computed:{...R(E,["comicLibrariesEmpty"]),...Ve(E,{librariesLoaded:e=>!!e.libraries}),mdAndDown(){return this.$vuetify.display.mdAndDown}},watch:{$route(e){const l=e.path.split("/").at(-1);this.activeTab=Se.startCase(l)}},mounted(){this.librariesLoaded||this.loadTables(["Library"])},methods:{...J(E,["loadTables"])}},ot={id:"tabContainer"},nt={key:0,id:"noLibraries"};function rt(e,s,l,t,o,r){const a=v("router-view");return m(),k("div",ot,[i(at,{class:M(["adminTabs",{drawerMargin:!r.mdAndDown}]),grow:"","show-arrows":""},{default:f(()=>[(m(!0),k(P,null,X(o.tabs,n=>(m(),p(Q,{key:n,modelValue:o.activeTab,"onUpdate:modelValue":s[0]||(s[0]=u=>o.activeTab=u),to:n.toLowerCase()},{default:f(()=>[j(Ae(n),1)]),_:2},1032,["modelValue","to"]))),128))]),_:1},8,["class"]),i(z,{id:"tabItems",modelValue:o.activeTab,"onUpdate:modelValue":s[1]||(s[1]=n=>o.activeTab=n),touch:!1},{default:f(()=>[(m(!0),k(P,null,X(o.tabs,n=>(m(),p(a,{key:n},{default:f(({Component:u})=>[i(G,{value:n,class:"tabItemContainer"},{default:f(()=>[(m(),p(xe(u)))]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["modelValue"]),e.comicLibrariesEmpty?Ce("",!0):(m(),k("div",nt," Codex has no libraries. Select the Libraries tab and add a comic library. "))])}const it=x(st,[["render",rt],["__scopeId","data-v-9a6023ab"]]),lt={name:"MainAdmin",components:{AdminTitleToolbar:Fe,AdminTabs:it,AdminSettingsDrawer:Ye,Unauthorized:Me},data(){return{mdiLogin:De}},computed:{...R(ke,["isUserAdmin"])}};function dt(e,s,l,t,o,r){const a=v("AdminTitleToolbar"),n=v("AdminTabs"),u=v("AdminSettingsDrawer"),_=v("Unauthorized");return e.isUserAdmin?(m(),p(ze,{key:0},{default:f(()=>[i(a),i(n),i(u)]),_:1})):(m(),p(_,{key:1}))}const Tt=x(lt,[["render",dt]]);export{Tt as default};
