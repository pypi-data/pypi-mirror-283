"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3937],{56069:function(e,t,n){n.d(t,{R:function(){return g}});var r=n(90849),i=n(90089),o=n(28841),s=n(79894),l=n.n(s),a=n(24246),c=["backPath"],u=["onClick"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=e.onClick,n=(0,i.Z)(e,u);return(0,a.jsxs)(o.kCb,f(f({alignItems:"center",mt:-4,mb:3,onClick:t,cursor:"pointer"},n),{},{children:[(0,a.jsx)(o.hU,{"aria-label":"Back",icon:(0,a.jsx)(o.Rpv,{}),mr:2,size:"xs",variant:"outline"}),(0,a.jsx)(o.xvT,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})]}))};t.Z=function(e){var t=e.backPath,n=(0,i.Z)(e,c);return(0,a.jsxs)(o.kCb,f(f({alignItems:"center",mb:6},n),{},{children:[(0,a.jsx)(l(),{href:t,passHref:!0,children:(0,a.jsx)(o.hU,{"aria-label":"Back",icon:(0,a.jsx)(o.Rpv,{}),mr:2,size:"xs",variant:"outline"})}),(0,a.jsx)(l(),{href:t,passHref:!0,children:(0,a.jsx)(o.xvT,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})})]}))}},48778:function(e,t,n){n.d(t,{$:function(){return I}});var r=n(55732),i=n(90849),o=n(97865),s=n(34707),l=n.n(s),a=n(92222),c=n(59003),u=n(90768),d=n(78624),f=n(49938),g=n(24753),h=n(28841),p=n(86677),b=n(27378),x=n(6848),m=n(2458),j=n(60709),v=n(36523),C=n(44047),w=n(24246);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=e.onChange,n=e.displayText,r=e.isChecked,i=e.value;return(0,w.jsx)(h.XZJ,{id:"checkbox-".concat(i),value:i,height:"20px",mb:3,isChecked:r,onChange:t,colorScheme:"complimentary",mr:5,children:(0,w.jsx)(h.xvT,{fontSize:"sm",lineHeight:5,height:"20px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:n})},i)},k={GVL:!1,AC:!1,COMPASS:!1},P=function(e){var t=e.isOpen,n=e.onClose,r=e.tableInstance,i=(0,b.useState)(k),o=i[0],s=i[1];(0,b.useMemo)((function(){var e={id:"vendor_id",value:[]};o.GVL&&e.value.push("gvl"),o.AC&&e.value.push("gacp"),r.setColumnFilters([e])}),[o,r]);return(0,w.jsxs)(h.u_l,{isOpen:t,onClose:n,isCentered:!0,size:"2xl",children:[(0,w.jsx)(h.ZAr,{}),(0,w.jsxs)(h.hzk,{children:[(0,w.jsx)(h.xBx,{children:"Filters"}),(0,w.jsx)(h.olH,{}),(0,w.jsx)(h.izJ,{}),(0,w.jsxs)(h.fef,{maxH:"85vh",px:6,py:4,overflowX:"auto",children:[(0,w.jsx)(h.xvT,{fontSize:"md",fontWeight:"bold",mb:2,children:"Sources"}),(0,w.jsx)(S,{onChange:function(){s((function(e){return O(O({},e),{},{GVL:!e.GVL})}))},displayText:d.iC.gvl.fullName,isChecked:o.GVL,value:"gvl"}),(0,w.jsx)(S,{onChange:function(){s((function(e){return O(O({},e),{},{AC:!e.AC})}))},displayText:d.iC.gacp.fullName,isChecked:o.AC,value:"gacp"})]}),(0,w.jsx)(h.mzw,{children:(0,w.jsxs)(h.xuv,{display:"flex",justifyContent:"space-between",width:"100%",children:[(0,w.jsx)(h.zxk,{variant:"outline",size:"sm",mr:3,onClick:function(){r.setColumnFilters([]),s(k)},flexGrow:1,children:"Reset Filters"}),(0,w.jsx)(h.zxk,{"data-testid":"filter-done-btn",colorScheme:"primary",size:"sm",onClick:n,flexGrow:1,children:"Done"})]})})]})]})};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){var t,n=e.value,r=(0,d.cj)(n),i=null!==(t=d.iC[r])&&void 0!==t?t:{label:"",fullName:""};return(0,w.jsx)(h.kCb,{alignItems:"center",justifyContent:"center",height:"100%",mr:"2",children:(0,w.jsx)(h.ua7,{label:i.fullName,placement:"top",children:(0,w.jsx)(h.Cts,{children:i.label})})})},D=(0,a.Cl)(),_=function(){return(0,w.jsxs)(h.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",children:[(0,w.jsxs)(h.gCW,{children:[(0,w.jsx)(h.xvT,{fontSize:"md",fontWeight:"600",children:"No results found."}),(0,w.jsx)(h.xvT,{fontSize:"sm",children:'Can\'t find the vendor you are looking for? Add custom systems or unlisted\n      vendors by selecting the "Add custom vendor" button below.'})]}),(0,w.jsx)(v.Z,{buttonLabel:"Add custom vendor"})]})},I=function(e){var t=e.redirectRoute,n="Vendor",i=(0,h.pmc)(),s=(0,u.hz)(),y=s.dictionaryService,O=s.tcf,S=(0,C.x8)().isLoading,k=(0,p.useRouter)(),R=(0,C.iN)(void 0,{skip:!y}).isLoading,I=(0,C.Qk)(),A=(0,o.Z)(I,2),F=A[0],M=A[1],T=M.isLoading,N=M.isSuccess,Z=(0,x.C)(C.gG),G=(0,b.useState)(),V=G[0],W=G[1],E=(0,h.qY0)(),H=E.isOpen,B=E.onOpen,Y=E.onClose,$=(0,h.qY0)(),U=$.isOpen,X=$.onClose,q=$.onOpen,J=(0,b.useState)(!1),Q=J[0],K=J[1],ee=Z.every((function(e){return e.linked_system})),te=(0,b.useMemo)((function(){return[D.display({id:"select",header:function(e){var t=e.table;return(0,w.jsx)(f.k,{dataTestId:"select-page-checkbox",isChecked:t.getIsAllPageRowsSelected(),isDisabled:ee||t.getPaginationRowModel().rows.filter((function(e){return e.original.linked_system})).length===t.getState().pagination.pageSize,isIndeterminate:t.getPaginationRowModel().rows.filter((function(e){return e.getCanSelect()})).some((function(e){return!e.getIsSelected()})),onChange:function(){t.setRowSelection((function(e){var n=z({},e);return t.getRowModel().rows.forEach((function(e){e.getCanSelect()&&(n[e.id]=!n[e.id])})),n})),K((function(e){return!e}))}})},cell:function(e){var t=e.row;return(0,w.jsx)(f.k,{isChecked:t.getIsSelected(),isDisabled:!t.getCanSelect(),isIndeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler()})}}),D.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,w.jsx)(f.G3,{value:e.getValue()})},header:function(e){return(0,w.jsx)(f.Rr,z({value:n},e))}}),D.accessor((function(e){return e.vendor_id}),{id:"vendor_id",cell:function(e){return(0,w.jsx)(L,{value:e.getValue()})},header:function(e){return(0,w.jsx)(f.Rr,z({value:"Source"},e))},enableColumnFilter:O,filterFn:"arrIncludesSome"})]}),[ee,n,O]),ne=(0,c.b7)({columns:te,data:Z,getCoreRowModel:(0,a.sC)(),getSortedRowModel:(0,a.tj)(),getFilteredRowModel:(0,a.vL)(),getPaginationRowModel:(0,a.G_)(),onGlobalFilterChange:W,enableRowSelection:function(e){return!e.original.linked_system},enableSorting:!0,enableGlobalFilter:!0,state:{globalFilter:V,columnVisibility:{vendor_id:O}},initialState:{pagination:{pageSize:f.W3[0]},columnSizing:{select:0,vendor_id:0}},enableColumnResizing:!0,columnResizeMode:"onChange"});(0,b.useEffect)((function(){var e={};Z.forEach((function(t,n){t.linked_system&&(e[n]=!0)})),Object.keys(e).length&&ne.setRowSelection(e)}),[Z,ne]);var re=(0,f.bX)(ne),ie=re.totalRows,oe=re.onPreviousPageClick,se=re.isPreviousPageDisabled,le=re.onNextPageClick,ae=re.isNextPageDisabled,ce=re.setPageSize,ue=re.startRange,de=re.endRange,fe=function(){var e=(0,r.Z)(l().mark((function e(){var r,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=ne.getSelectedRowModel().rows.filter((function(e){return!e.original.linked_system})).map((function(e){return e.original.vendor_id}))).length>0)){e.next=7;break}return e.next=4,F(r);case 4:o=e.sent,k.push(t),(0,d.D4)(o)?i((0,g.Vo)((0,d.e$)(o.error))):i((0,g.t5)("Successfully added ".concat(r.length," ").concat(n.toLocaleLowerCase())));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=ne.getSelectedRowModel().rows.some((function(e){return!e.original.linked_system})),he=(0,b.useMemo)((function(){return!(!ge||ee)}),[ge,ee]);if(!y&&!S)return k.push(j.gp),null;if(T||N)return(0,w.jsx)(h.kCb,{height:"100%",justifyContent:"center",alignItems:"center",children:(0,w.jsx)(h.$jN,{})});if(R)return(0,w.jsx)(f.I4,{rowHeight:36,numRows:15});var pe=ee?"All ".concat(n.toLocaleLowerCase()," have already been added"):"Select a ".concat(n.toLocaleLowerCase()," "),be=ne.getSelectedRowModel().rows.filter((function(e){return!e.original.linked_system})).length,xe=ne.getState().columnFilters.length>0?ne.getState().columnFilters.filter((function(e){return"vendor_id"===e.id}))[0].value.length:0;return(0,w.jsxs)(h.kCb,{flex:1,direction:"column",overflow:"auto","data-testid":"add-multiple-systems-tbl",children:[(0,w.jsx)(m.Z,{isOpen:U,isCentered:!0,onCancel:X,onClose:X,onConfirm:fe,title:"Confirmation",message:"You are about to add ".concat(be.toLocaleString("en")," ").concat(n.toLocaleLowerCase()).concat(be>1?"s":"")}),(0,w.jsx)(P,{isOpen:H,onClose:Y,tableInstance:ne}),(0,w.jsxs)(f.Q$,{children:[(0,w.jsxs)(h.kCb,{alignItems:"center",grow:1,children:[(0,w.jsx)(h.xuv,{maxW:"420px",width:"100%",children:(0,w.jsx)(f.HO,{globalFilter:V,setGlobalFilter:W,placeholder:"Search"})}),be>0?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(h.xvT,{fontWeight:"700",fontSize:"sm",lineHeight:"2",ml:4,children:[be.toLocaleString("en")," selected"]}),(0,w.jsx)(h.ua7,{label:pe,shouldWrapChildren:!0,placement:"top",isDisabled:he,children:(0,w.jsx)(h.zxk,{onClick:q,"data-testid":"add-multiple-systems-btn",size:"xs",variant:"outline",disabled:!ge,ml:4,children:"Add"})})]}):null]}),(0,w.jsxs)(h.Ugi,{spacing:4,alignItems:"center",children:[(0,w.jsx)(v.Z,{buttonLabel:"Add custom vendor",buttonVariant:"outline"}),O?(0,w.jsx)("span",{children:(0,w.jsxs)(h.zxk,{onClick:B,"data-testid":"filter-multiple-systems-btn",size:"xs",variant:"outline",children:["Filter"," ",xe>0?(0,w.jsxs)(h.Vp9,{borderRadius:"full",size:"sm",ml:2,children:[" ",xe," "]}):null]})}):null]})]}),(0,w.jsx)(f.ZK,{tableInstance:ne,rowActionBar:(0,w.jsx)(f.AA,{tableInstance:ne,selectedRows:be,isOpen:Q}),renderRowTooltipLabel:function(e){if(!e.getCanSelect())return"This vendor has already been added. You can view the properties of this vendor by going to View Systems."},emptyTableNotice:(0,w.jsx)(_,{})}),(0,w.jsx)(f.s8,{pageSizes:f.W3,totalRows:ie,onPreviousPageClick:oe,isPreviousPageDisabled:se,onNextPageClick:le,isNextPageDisabled:ae,setPageSize:ce,startRange:ue,endRange:de})]})}}}]);