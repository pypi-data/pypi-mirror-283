(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[354],{57595:function(e,t,n){"use strict";var r=n(90849),i=n(28841),s=n(24246);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.Z=function(e){return(0,s.jsx)(i.rUS,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isExternal:!0,color:"complimentary.500"},e))}},68512:function(e,t,n){"use strict";var r=n(90849),i=n(28841),s=n(88038),a=n.n(s),o=(n(27378),n(24246));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.children,n=e.title,r=e.mainProps;return(0,o.jsxs)(i.kCb,{"data-testid":n,direction:"column",height:"calc(100vh - 48px)",width:"calc(100vw - 200px)",children:[(0,o.jsxs)(a(),{children:[(0,o.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,o.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsx)(i.kCb,l(l({pt:6,as:"main",overflow:"auto",direction:"column",flex:1,minWidth:0},r),{},{children:t}))]})}},63238:function(e,t,n){"use strict";n.d(t,{Tg:function(){return a}});var r=n(6848),i=n(67788),s=n(24246),a=function(e){return(0,r.C)(i.uu).filter((function(t){return e.includes(t)})).length>0};t.ZP=function(e){var t=e.scopes,n=e.children;return a(t)?(0,s.jsx)(s.Fragment,{children:n}):null}},91381:function(e,t,n){"use strict";n.d(t,{JA:function(){return x},JL:function(){return j},PS:function(){return w},jN:function(){return m}});var r=n(55732),i=n(97865),s=n(90849),a=n(90089),o=n(34707),c=n.n(o),l=n(28841),u=(n(27378),n(64429)),d=n(57984),p=n(20800),f=n(15749),h=n(24246),b=["tooltip"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t,n=null!==(t=p.ye.get(e))&&void 0!==t?t:e;return(0,h.jsx)(l.Cts,{size:"sm",width:"fit-content","data-testid":"status-badge",textTransform:"uppercase",fontWeight:"400",color:"gray.600",px:2,children:n})},j=function(e){if(!e)return[];var t=[];return e.forEach((function(e){var n=u.NA.get(e);void 0!==n&&t.push(n)})),t},v={available:{backgroundColor:"orange.100",color:"orange.800",tooltip:"This notice is associated with a system + data use and can be enabled"},enabled:{backgroundColor:"green.100",color:"green.800",tooltip:"This notice is active and available for consumers"},inactive:{backgroundColor:"gray.100",color:"gray.800",tooltip:"This privacy notice cannot be enabled because it either does not have a data use or the linked data use has not been assigned to a system"}},m=function(e){var t,n=e.row.original,r=n.systems_applicable,i=n.disabled,s=(t=n.data_uses&&r?i?"available":"enabled":"inactive")?v[t]:{},o=s.tooltip,c=void 0===o?void 0:o,u=(0,a.Z)(s,b);return(0,h.jsx)(l.ua7,{label:c,children:(0,h.jsx)(l.Cts,y(y({size:"sm",width:"fit-content"},u),{},{"data-testid":"status-badge",textTransform:"uppercase",fontWeight:"400",color:"gray.600",px:2,children:t}))})},w=function(e){var t=e.row,n=e.getValue,s=(0,f.vK)(),a=(0,i.Z)(s,1)[0],o=n(),l=function(){var e=(0,r.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a({id:t.original.id,disabled:!n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=t.original,p=u.systems_applicable,b=u.disabled,g=u.data_uses,y=b&&!p||!!!g;return(0,h.jsx)(d.S1,{enabled:!o,isDisabled:y,onToggle:l,title:"Disable privacy notice",message:"Are you sure you want to disable this privacy notice? Disabling this notice means your users will no longer see this explanation about your data uses which is necessary to ensure compliance."})}},20800:function(e,t,n){"use strict";n.d(t,{B8:function(){return s},Ep:function(){return a},ye:function(){return i}});var r=n(4938),i=new Map([[r.J7.OPT_IN,"Opt in"],[r.J7.NOTICE_ONLY,"Notice only"],[r.J7.OPT_OUT,"Opt out"]]),s=new Map([[r.QT.SYSTEM_WIDE,"System wide"],[r.QT.FRONTEND,"Front end"],[r.QT.NOT_APPLICABLE,"Not applicable"]]),a=new Map([["gpp_us_national","GPP US National"],["gpp_us_state","GPP US State"]])},33976:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return K}});var r=n(28841),i=n(27378),s=n(68512),a=n(90849),o=n(92222),c=n(59003),l=n(49938),u=n(79894),d=n.n(u),p=n(86677),f=n(60709),h=n(63238),b=n(55732),g=n(97865),y=n(34707),x=n.n(y),j=n(44833),v=n(57595),m=n(78624),w=n(24753),O=n(44047),P=n(24246);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e){var t=e.isOpen,n=e.onClose,s=e.testId,a=void 0===s?"custom-asset-modal":s,o=e.assetType,c=(0,i.useRef)(null),l=(0,i.useState)(null),u=l[0],d=l[1],p=(0,r.pmc)(),f=(0,j.uI)({onDrop:function(e){var t;"css"===(null===(t=e[0].name.split(".").pop())||void 0===t?void 0:t.toLowerCase())?d(e[0]):p((0,w.Vo)("Only css files are allowed."))}}),h=f.getRootProps,y=f.getInputProps,C=f.isDragActive,T=(0,O.JQ)(),_=(0,g.Z)(T,2),E=_[0],k=_[1].isLoading,D=function(){var e=(0,b.Z)(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=9;break}return e.next=3,E({assetType:o,file:u});case 3:if(t=e.sent,!(0,m.D4)(t)){e.next=7;break}return p((0,w.Vo)((0,m.e$)(t.error))),e.abrupt("return");case 7:p((0,w.t5)("Stylesheet uploaded successfully")),n();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,P.jsxs)(r.u_l,{initialFocusRef:c,isOpen:t,onClose:n,size:"2xl",children:[(0,P.jsx)(r.ZAr,{}),(0,P.jsxs)(r.hzk,{textAlign:"left",p:2,"data-testid":a,children:[(0,P.jsx)(r.xBx,{tabIndex:-1,ref:c,children:"Upload stylesheet"}),(0,P.jsxs)(r.fef,{children:[(0,P.jsxs)(r.xvT,{fontSize:"sm",mb:4,children:["To customize the appearance of your consent experiences, you may upload a CSS stylesheet. To download a template as a helpful starting point, click"," ",(0,P.jsx)(v.Z,{href:"https://raw.githubusercontent.com/ethyca/fides/main/clients/fides-js/src/components/fides.css",isExternal:!0,children:"here"}),"."," ",(0,P.jsx)(v.Z,{href:"https://fid.es/customize-styles",isExternal:!0,children:"Learn more"}),"."]}),(0,P.jsxs)(r.xuv,S(S({},h()),{},{bg:C?"gray.100":"gray.50",border:"2px dashed",borderColor:C?"gray.300":"gray.200",borderRadius:"md",cursor:"pointer",minHeight:"150px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",children:[(0,P.jsx)("input",S({},y())),u?(0,P.jsx)(r.xvT,{children:u.name}):C?(0,P.jsx)(r.xvT,{children:"Drop the file here..."}):(0,P.jsx)(r.xvT,{children:"Click or drag and drop your file here."})]}))]}),(0,P.jsx)(r.mzw,{children:(0,P.jsxs)(r.hE2,{size:"sm",spacing:"2",width:"100%",display:"flex",justifyContent:"right",children:[(0,P.jsx)(r.zxk,{variant:"outline",onClick:n,"data-testid":"cancel-btn",isDisabled:k,children:"Cancel"}),(0,P.jsx)(r.zxk,{colorScheme:"primary",type:"submit",isDisabled:!u||k,onClick:D,"data-testid":"submit-btn",children:"Submit"})]})})]})]})},_=function(e){var t=e.assetType,n=(0,r.qY0)();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.zxk,{variant:"outline",size:"xs",ml:2,onClick:n.onOpen,children:"Upload stylesheet"}),(0,P.jsx)(T,{isOpen:n.isOpen,onClose:n.onClose,assetType:t})]})},E=n(57984),k=new Map([["overlay","Overlay"],["privacy_center","Privacy center"],["tcf_overlay","TCF overlay"],["modal","Modal"],["banner_and_modal","Banner and modal"]]),D=(new Map([["always_enabled","Always enabled"],["always_disabled","Always disabled"],["enabled_where_required","Enabled where legally required"]]),n(49841)),z=function(e){var t=e.row,n=e.getValue,r=(0,D.o3)(),i=(0,g.Z)(r,1)[0],s=function(){var e=(0,b.Z)(x().mark((function e(n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({id:t.original.id,disabled:!n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=n(),o=t.original.regions,c=!!o&&o.length>1,l=c?"Disabling multiple states":"Disabling experience",u=c?"Warning, you are about to disable this privacy experience for multiple locations. If you continue, your privacy notices will not be accessible to users in these locations.":"Warning, you are about to disable this privacy experience. If you continue, your privacy notices will not be accessible to users in this location.";return(0,P.jsx)(E.S1,{enabled:!a,onToggle:s,title:l,message:u})},R=n(56602),I=n(90768),Z=n(91728),N="{privacy-center-hostname-and-path}",A='<script src="https://'.concat(N,'/fides.js"><\/script>'),M="<script>Fides.gtm()<\/script>",F=function(){var e=(0,r.qY0)(),t=(0,i.useRef)(null),n=(0,I.hz)().fidesCloud,s=(0,O.Vh)(void 0,{skip:!n}),a=s.data,o=s.isSuccess,c=(0,i.useMemo)((function(){return n&&o&&null!==a&&void 0!==a&&a.privacy_center_url?A.replace(N,a.privacy_center_url):A}),[null===a||void 0===a?void 0:a.privacy_center_url,n,o]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.zxk,{onClick:e.onOpen,variant:"outline",size:"xs",rightIcon:(0,P.jsx)(Z.TI,{}),"data-testid":"js-tag-btn",children:"Get JavaScript tag"}),(0,P.jsxs)(r.u_l,{isOpen:e.isOpen,onClose:e.onClose,isCentered:!0,size:"xl",initialFocusRef:t,children:[(0,P.jsx)(r.ZAr,{}),(0,P.jsxs)(r.hzk,{"data-testid":"copy-js-tag-modal",children:[(0,P.jsx)(r.xBx,{tabIndex:-1,ref:t,pb:0,children:"Copy JavaScript tag"}),(0,P.jsx)(r.fef,{pt:3,pb:6,children:(0,P.jsxs)(r.Kqy,{spacing:3,children:[(0,P.jsx)(r.xvT,{children:"Copy the code below and paste it onto every page of your website, as high up in the <head> as possible. Replace the bracketed component with your privacy center's hostname and path."}),(0,P.jsxs)(r.EKh,{display:"flex",justifyContent:"space-between",alignItems:"center",p:0,children:[(0,P.jsx)(r.xvT,{p:4,children:c}),(0,P.jsx)(R.Z,{copyText:c})]}),(0,P.jsx)(r.xvT,{children:"Optionally, you can enable Google Tag Manager for managing tags on your website by including the script tag below along with the Fides.js tag. Place it below the Fides.js script tag."}),(0,P.jsxs)(r.EKh,{display:"flex",justifyContent:"space-between",alignItems:"center",p:0,children:[(0,P.jsx)(r.xvT,{p:4,children:M}),(0,P.jsx)(R.Z,{copyText:M})]}),(0,P.jsxs)(r.xvT,{children:["For more information about adding a JavaScript tag to your website, please visit"," ",(0,P.jsx)(r.rUS,{color:"complimentary.500",href:"https://docs.ethyca.com/tutorials/consent-management-configuration/install-fides#install-fidesjs-script-on-your-website",isExternal:!0,children:"docs.ethyca.com"})]})]})})]})]})]})},L=n(91381),W=n(4938);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J={items:[],total:0,page:1,size:25,pages:1},G=function(){return(0,P.jsxs)(r.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,P.jsxs)(r.gCW,{children:[(0,P.jsx)(r.xvT,{fontSize:"md",fontWeight:"600",children:"No privacy experiences found."}),(0,P.jsx)(r.xvT,{fontSize:"sm",children:'Click "Create new experience" to add your first privacy experience to Fides.'})]}),(0,P.jsx)(d(),{href:"".concat(f.w0,"/new"),children:(0,P.jsx)(r.zxk,{size:"xs",colorScheme:"primary","data-testid":"add-privacy-experience-btn",children:"Create new experience"})})]})},q=(0,o.Cl)(),B=function(){var e=(0,O.x8)().isLoading,t=(0,p.useRouter)(),n=(0,h.Tg)([W.Sh.PRIVACY_EXPERIENCE_UPDATE]),s=(0,l.oi)(),a=s.PAGE_SIZES,u=s.pageSize,b=s.setPageSize,g=s.onPreviousPageClick,y=s.isPreviousPageDisabled,x=s.onNextPageClick,j=s.isNextPageDisabled,v=s.startRange,m=s.endRange,w=s.pageIndex,C=s.setTotalPages,S=(0,D.cq)({page:w,size:u}),T=S.isFetching,R=S.isLoading,I=S.data,Z=(0,i.useMemo)((function(){return I||J}),[I]),N=Z.items,A=Z.total,M=Z.pages;(0,i.useEffect)((function(){C(M)}),[M,C]);var U=(0,i.useMemo)((function(){return[q.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,P.jsx)(l.G3,{value:e.getValue()})},header:function(e){return(0,P.jsx)(l.Rr,V({value:"Title"},e))}}),q.accessor((function(e){return e.component}),{id:"component",cell:function(e){return function(e){var t,n=null!==(t=k.get(e))&&void 0!==t?t:e;return(0,P.jsx)(E.G3,{value:n})}(e.getValue())},header:function(e){return(0,P.jsx)(l.Rr,V({value:"Component"},e))}}),q.accessor((function(e){return e.regions}),{id:"regions",cell:function(e){return(0,P.jsx)(l.WP,V({suffix:"Locations",value:(0,L.JL)(e.getValue())},e))},header:function(e){return(0,P.jsx)(l.Rr,V({value:"Locations"},e))},meta:{displayText:"Locations",showHeaderMenu:!0}}),q.accessor((function(e){return e.properties.map((function(e){return e.name}))}),{id:"properties",cell:function(e){return(0,P.jsx)(l.WP,V({suffix:"Properties",value:e.getValue()},e))},header:function(e){return(0,P.jsx)(l.Rr,V({value:"Properties"},e))},meta:{displayText:"Properties",showHeaderMenu:!0}}),q.accessor((function(e){return e.updated_at}),{id:"updated_at",cell:function(e){return(0,P.jsx)(l.G3,{value:new Date(e.getValue()).toDateString()})},header:function(e){return(0,P.jsx)(l.Rr,V({value:"Last update"},e))}}),n&&q.accessor((function(e){return e.disabled}),{id:"enable",cell:z,header:function(e){return(0,P.jsx)(l.Rr,V({value:"Enable"},e))},meta:{disableRowClick:!0}})].filter(Boolean)}),[n]),B=(0,c.b7)({getCoreRowModel:(0,o.sC)(),getGroupedRowModel:(0,o.qe)(),getExpandedRowModel:(0,o.rV)(),columns:U,manualPagination:!0,data:N,state:{expanded:!0}});return R||e?(0,P.jsx)(l.I4,{rowHeight:36,numRows:15}):(0,P.jsx)("div",{children:(0,P.jsxs)(r.kCb,{flex:1,direction:"column",overflow:"auto",children:[n&&(0,P.jsxs)(l.Q$,{children:[(0,P.jsxs)(r.Ugi,{alignItems:"center",spacing:4,children:[(0,P.jsx)(F,{}),(0,P.jsx)(h.ZP,{scopes:[W.Sh.CUSTOM_ASSET_UPDATE],children:(0,P.jsx)(_,{assetType:W.Db.CUSTOM_FIDES_CSS})})]}),(0,P.jsx)(d(),{href:"".concat(f.w0,"/new"),children:(0,P.jsx)(r.zxk,{size:"xs",colorScheme:"primary","data-testid":"add-privacy-experience-btn",children:"Create new experience"})})]}),(0,P.jsx)(l.ZK,{tableInstance:B,onRowClick:n?function(e){var r=e.id;n&&t.push("".concat(f.w0,"/").concat(r))}:void 0,emptyTableNotice:(0,P.jsx)(G,{})}),(0,P.jsx)(l.s8,{totalRows:A,pageSizes:a,setPageSize:b,onPreviousPageClick:g,isPreviousPageDisabled:y||T,onNextPageClick:x,isNextPageDisabled:j||T,startRange:v,endRange:m})]})})},K=function(){return(0,P.jsxs)(s.Z,{title:"Privacy experiences",mainProps:{padding:"24px 40px"},children:[(0,P.jsx)(r.xuv,{mb:4,"data-testid":"privacy-experience-page",children:(0,P.jsx)(r.X6q,{fontSize:"2xl",fontWeight:"semibold",mb:2,"data-testid":"header",children:"Privacy experience"})}),(0,P.jsx)(r.xvT,{fontSize:"sm",mb:8,width:{base:"100%",lg:"70%"},children:"Based on your privacy notices, Fides has created the banner and modal privacy experience configuration below. Each experience contains privacy notices and locations where the notices will be displayed. Edit each banner, modal, or privacy center to adjust the included privacy notices, locations, and text that is displayed to your users. When you\u2019re ready to include these privacy notices on your website, copy the JavaScript using the button on this page and place it on your website."}),(0,P.jsx)(r.xuv,{children:(0,P.jsx)(B,{})})]})}},55173:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/consent/privacy-experience",function(){return n(33976)}])}},function(e){e.O(0,[146,4833,9938,4429,9774,2888,179],(function(){return t=55173,e(e.s=t);var t}));var t=e.O();_N_E=t}]);