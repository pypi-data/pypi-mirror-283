(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{78624:function(n,t,e){"use strict";e.d(t,{D4:function(){return o.D4},MM:function(){return g},Ot:function(){return c},c6:function(){return d},cj:function(){return v},e$:function(){return u},fn:function(){return s},iC:function(){return p},nU:function(){return f},tB:function(){return l}});var i,r=e(90849),o=e(60041),a="An unexpected error occurred. Please try again.",u=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if((0,o.Bw)(n)){if((0,o.hE)(n.data))return n.data.detail;if((0,o.cz)(n.data)){var e,i=null===(e=n.data.detail)||void 0===e?void 0:e[0];return"".concat(null===i||void 0===i?void 0:i.msg,": ").concat(null===i||void 0===i?void 0:i.loc)}if(409===n.status&&(0,o.Dy)(n.data))return"".concat(n.data.detail.error," (").concat(n.data.detail.fides_key,")");if(404===n.status&&(0,o.XD)(n.data))return"".concat(n.data.detail.error," (").concat(n.data.detail.fides_key,")")}return t};function s(n){return"object"===typeof n&&null!=n&&"status"in n}function c(n){return"object"===typeof n&&null!=n&&"data"in n&&"string"===typeof n.data.detail}function l(n){return"object"===typeof n&&null!=n&&"data"in n&&Array.isArray(n.data.detail)}var d,f=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:a};if((0,o.oK)(n))return{status:n.originalStatus,message:n.data};if((0,o.Bw)(n)){var e=n.status;return{status:e,message:u(n,t.message)}}return t},g=function(n){return Object.entries(n).map((function(n){return{value:n[1],label:n[1]}}))};!function(n){n.GVL="gvl",n.AC="gacp",n.COMPASS="compass"}(d||(d={}));var p=(i={},(0,r.Z)(i,d.GVL,{label:"GVL",fullName:"Global Vendor List"}),(0,r.Z)(i,d.AC,{label:"AC",fullName:"Google Additional Consent List"}),(0,r.Z)(i,d.COMPASS,{label:"",fullName:""}),i),v=function(n){var t=n.split(".")[0];return t===d.AC?d.AC:t===d.GVL?d.GVL:d.COMPASS}},42851:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return L}});var i,r=e(28841),o=e(27378),a=e(44204),u=e(67860),s=e(51471),c=e(57928),l=e(30646),d=e(40757),f=e(91083),g=e(24246),p=function(n){var t=n.integrationType,e=n.onConfigure,i=n.onCancel;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Z,{integration:null===t||void 0===t?void 0:t.placeholder,onConfigureClick:e}),null===t||void 0===t?void 0:t.overview,(0,g.jsxs)(r.kCb,{children:[(0,g.jsx)(r.LZC,{}),(0,g.jsx)(r.zxk,{variant:"outline",onClick:i,size:"sm",children:"Cancel"})]})]})},v=e(89592);!function(n){n.ALL="All",n.DATABASE="Database",n.DATA_WAREHOUSE="Data Warehouse"}(i||(i={}));var x,h=function(n){var t,e=Object.values(i),r=(0,o.useState)(0),a=r[0],u=r[1],s=e[a],c=(0,o.useState)(!1),l=c[0],d=c[1],f=s!==i.ALL,g=null!==(t=null===n||void 0===n?void 0:n.filter((function(n){return!f||n.category===s})))&&void 0!==t?t:[];return{tabs:e,tabIndex:a,anyFiltersApplied:f,isFiltering:l,onChangeFilter:function(n){d(!0),u(n),setTimeout((function(){return d(!1)}),100)},filteredTypes:g}},C=function(n){var t=n.onCancel,e=n.onDetailClick,i=n.onConfigureClick,o=h(v.FO),s=o.tabIndex,c=o.onChangeFilter,l=o.isFiltering,d=o.filteredTypes,p=o.tabs;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(r.mQc,{index:s,onChange:c,mb:4,children:(0,g.jsx)(r.tdY,{children:p.map((function(n){return(0,g.jsx)(a.q,{label:n},n)}))})}),l?(0,g.jsx)(u.Z,{}):(0,g.jsx)(r.kCb,{direction:"column",children:d.map((function(n){return(0,g.jsx)(f.Z,{integration:n.placeholder,onConfigureClick:function(){return i(n)},otherButtons:(0,g.jsx)(r.zxk,{onClick:function(){return e(n)},variant:"outline",children:"Details"})},n.placeholder.key)}))}),(0,g.jsxs)(r.kCb,{children:[(0,g.jsx)(r.LZC,{}),(0,g.jsx)(r.zxk,{variant:"outline",onClick:t,size:"sm",children:"Cancel"})]})]})},m=e(47524);!function(n){n.LIST_VIEW="list-view",n.DETAIL="detail",n.FORM="form"}(x||(x={}));var y=function(n){var t=n.isOpen,e=n.onClose,i=(0,o.useState)(x.LIST_VIEW),r=i[0],a=i[1],u=(0,o.useState)(),s=u[0],c=u[1],f=(0,m.Z)(null===s||void 0===s?void 0:s.placeholder.connection_type),v=function(){a(x.LIST_VIEW),c(void 0),e()},h=s?"".concat(s.placeholder.name," Integration"):"Add integration";return(0,g.jsxs)(l.Z,{isOpen:t,onClose:v,title:h,children:[r===x.LIST_VIEW&&(0,g.jsx)(C,{onCancel:v,onDetailClick:function(n){a(x.DETAIL),c(n)},onConfigureClick:function(n){a(x.FORM),c(n)}}),r===x.DETAIL&&(0,g.jsx)(p,{integrationType:s,onConfigure:function(){return a(x.FORM)},onCancel:v}),r===x.FORM&&(0,g.jsx)(d.Z,{connectionOption:f,onCancel:v})]})},j=e(86677),b=e(60709),A=function(n){var t=n.isFiltered,e=n.onOpenAddModal;return(0,g.jsxs)(r.kCb,{direction:"column",alignItems:"center","data-testid":"empty-state",children:[(0,g.jsx)(r.xvT,{color:"gray.700",fontWeight:"semibold",fontSize:"md",children:"No integrations"}),(0,g.jsx)(r.xvT,{color:"gray.700",fontSize:"sm",marginTop:"8px",children:t?"No integrations match your filters":"You have not configured any integrations"}),(0,g.jsx)(r.xvT,{color:"gray.700",fontSize:"sm",children:'Click "Add integration" to connect and configure systems now.'}),(0,g.jsx)(r.zxk,{variant:"primary",size:"sm",marginTop:"16px",onClick:e,children:"Add integration"})]})},k=function(n){var t=n.integrations,e=n.isFiltered,i=n.onOpenAddModal,o=(0,j.useRouter)();return(0,g.jsx)(r.xuv,{marginTop:"24px",children:t.length?t.map((function(n){return(0,g.jsx)(f.Z,{integration:n,showTestNotice:!0,configureButtonLabel:"Manage",onConfigureClick:function(){return o.push("".concat(b.KH,"/").concat(n.key))}},n.key)})):(0,g.jsx)(A,{onOpenAddModal:i,isFiltered:e})})},L=function(){var n,t,e=(0,c.AZ)({connection_type:v.jq}),i=e.data,o=e.isLoading,l=(0,r.qY0)(),d=l.onOpen,f=l.isOpen,p=l.onClose,x=h(null===i||void 0===i||null===(n=i.items)||void 0===n?void 0:n.map((function(n){return(0,v.ZP)(n.connection_type)}))),C=x.tabIndex,m=x.onChangeFilter,j=x.anyFiltersApplied,b=x.isFiltering,A=x.filteredTypes,L=x.tabs,_=null!==(t=null===i||void 0===i?void 0:i.items.filter((function(n){return A.some((function(t){return t.placeholder.connection_type===n.connection_type}))})))&&void 0!==t?t:[];return(0,g.jsxs)(s.Z,{title:"Integrations",children:[(0,g.jsx)(r.X6q,{mb:2,fontSize:"2xl",fontWeight:"semibold",children:"Integrations"}),(0,g.jsxs)(r.xuv,{"data-testid":"integration-tabs",display:"flex",children:[(0,g.jsx)(r.mQc,{index:C,onChange:m,w:"full",children:(0,g.jsx)(r.tdY,{children:L.map((function(n){return(0,g.jsx)(a.q,{label:n},n)}))})}),(0,g.jsx)(r.xuv,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,g.jsxs)(r.zxk,{size:"sm",variant:"outline",onClick:d,"data-testid":"add-integration-btn",children:["Add Integration",(0,g.jsx)(r.xPt,{marginLeft:"8px"})]})})]}),o||b?(0,g.jsx)(u.Z,{}):(0,g.jsx)(k,{integrations:_,onOpenAddModal:d,isFiltered:j}),(0,g.jsx)(y,{isOpen:f,onClose:p})]})}},60041:function(n,t,e){"use strict";e.d(t,{Bw:function(){return a},D4:function(){return r},Dy:function(){return s},XD:function(){return c},cz:function(){return l},hE:function(){return u},oK:function(){return o}});var i=e(76649),r=function(n){return"error"in n},o=function(n){return(0,i.Ln)({status:"string"},n)&&"PARSING_ERROR"===n.status},a=function(n){return(0,i.Ln)({status:"number",data:{}},n)},u=function(n){return(0,i.Ln)({detail:"string"},n)},s=function(n){return(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n)},c=function(n){return(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n)},l=function(n){return(0,i.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},n)}},9387:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/integrations",function(){return e(42851)}])},76649:function(n,t,e){"use strict";e.d(t,{Ln:function(){return i},uX:function(){return a}});const i=(n,t)=>o(n,t),r=Symbol("SOME"),o=(n,t)=>{if("string"==typeof n)return n===typeof t;if(Array.isArray(n))return r in n?n.some((n=>o(n,t))):!!Array.isArray(t)&&(0===n.length||t.every((t=>n.some((n=>o(n,t))))));if("object"!=typeof t||null===t)return!1;const e=t;return Object.entries(n).every((([n,t])=>o(t,e[n])))},a=n=>t=>i(n,t);class u{static narrow(n){return new u((t=>i(n,t)))}constructor(n){this.NF=void 0,this.NF=n}satisfied(n){return this.NF(n)}build(n){return n}and(n){const t=this.NF,e=n instanceof u?n.NF:n instanceof Function?n:t=>i(n,t);return new u((n=>t(n)&&e(n)))}}new u((n=>!0))}},function(n){n.O(0,[9662,9774,2888,179],(function(){return t=9387,n(n.s=t);var t}));var t=n.O();_N_E=t}]);