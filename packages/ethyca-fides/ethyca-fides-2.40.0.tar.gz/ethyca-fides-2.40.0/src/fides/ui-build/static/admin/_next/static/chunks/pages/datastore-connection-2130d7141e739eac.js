(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1850],{77198:function(e,n,t){"use strict";var i=t(90849),r=t(90089),o=t(28841),c=t(24246),s=["connected"];function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}n.Z=function(e){var n=e.connected,t=(0,r.Z)(e,s),l="red.500";return null==n?l="gray.300":n&&(l="green.500"),(0,c.jsx)(o.xuv,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({width:"12px",height:"12px",borderRadius:"6px",backgroundColor:l},t))}},51471:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var i=t(90849),r=t(28841),o=t(88038),c=t.n(o),s=t(86677),a=(t(27378),t(90768)),l=t(51365),u=t(60709),d=t(24246),p=function(){var e=(0,s.useRouter)();return(0,d.jsx)(r.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,d.jsxs)(r.xuv,{children:[(0,d.jsxs)(r.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,d.jsx)(r.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,d.jsx)(r.zxk,{size:"sm",variant:"outline",onClick:function(){e.push(u.fz)},children:"Configure"})]}),(0,d.jsxs)(r.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})};function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var x=function(e){var n=e.children,t=e.title,i=e.padded,o=void 0===i||i,u=e.mainProps,h=(0,a.hz)(),x=(0,s.useRouter)(),g="/privacy-requests"===x.pathname||"/datastore-connection"===x.pathname,j=!(h.flags.privacyRequestsConfiguration&&g),m=(0,l.JE)(void 0,{skip:j}).data,v=(0,l.PW)(void 0,{skip:j}).data,b=h.flags.privacyRequestsConfiguration&&(!m||!v)&&g;return(0,d.jsxs)(r.kCb,{"data-testid":t,direction:"column",h:"100vh",children:[(0,d.jsxs)(c(),{children:[(0,d.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,d.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsxs)(r.kCb,f(f({as:"main",direction:"column",py:o?6:0,px:o?10:0,h:o?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},u),{},{children:[b?(0,d.jsx)(p,{}):null,n]}))]})}},45232:function(e,n,t){"use strict";var i=t(97865),r=t(73679),o=t(28841),c=t(27378),s=t(24246);n.Z=function(e){var n=e.defaultValues,t=e.items,a=e.onSelection,l=(0,c.useState)(t),u=l[0],d=l[1],p=function(){a(u)};return(0,s.jsxs)(o.qyq,{lineHeight:"1rem",pt:"0",children:[(0,s.jsxs)(o.kCb,{borderBottom:"1px",borderColor:"gray.200",cursor:"auto",p:"8px",children:[(0,s.jsx)(o.zxk,{onClick:function(){d(t),a(new Map)},size:"xs",variant:"outline",children:"Clear"}),(0,s.jsx)(o.LZC,{}),(0,s.jsx)(o.zxk,{backgroundColor:"primary.800",color:"white",onClick:p,size:"xs",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Done"})]}),(0,s.jsx)(o.xuv,{maxH:"360px",overflow:"auto",children:(0,s.jsx)(o.cOn,{colorScheme:"purple",defaultValue:n,onChange:function(e){var n=new Map(u);n.forEach((function(e,t){n.set(t,!1)})),e.forEach((function(e){n.set(e,!0)})),d(n)},children:(0,r.Z)(t).sort().map((function(e){var n=(0,i.Z)(e,1)[0];return(0,s.jsx)(o.sNh,{p:0,onKeyPress:function(e){" "===e.key&&e.currentTarget.getElementsByTagName("input")[0].click(),"Enter"===e.key&&p()},children:(0,s.jsx)(o.XZJ,{isChecked:t.get(n),spacing:2,value:n,width:"100%",fontSize:"0.75rem",paddingTop:"10px",paddingRight:"8.5px",paddingBottom:"10px",paddingLeft:"8.5px",onClick:function(e){return e.stopPropagation()},children:n})},n)}))})})]})}},92364:function(e,n,t){"use strict";var i=t(90849),r=t(97865),o=t(73679),c=t(28841),s=t(27378),a=t(24246);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n,t=e.disabled,i=void 0!==t&&t,l=e.enableSorting,d=void 0===l||l,p=e.hasClear,h=void 0===p||p,f=e.label,x=e.list,g=e.menuButtonProps,j=e.onChange,m=e.selectedValue,v=(0,s.useState)(!1),b=v[0],y=v[1],O=function(){y(!1)},w=null===(n=(0,o.Z)(x).find((function(e){return(0,r.Z)(e,2)[1].value===m})))||void 0===n?void 0:n[0];return(0,a.jsxs)(c.v2r,{isLazy:!0,onClose:O,onOpen:function(){y(!0)},strategy:"fixed",children:[(0,a.jsx)(c.j2t,u(u({"aria-label":null!==w&&void 0!==w?w:f,as:c.zxk,color:w?"complimentary.500":void 0,disabled:i,fontWeight:"normal",rightIcon:(0,a.jsx)(c.mCO,{}),size:"sm",variant:"outline",_active:{bg:"none"},_hover:{bg:"none"}},g),{},{"data-testid":"select-dropdown-btn",children:(0,a.jsx)(c.xvT,{isTruncated:!0,children:null!==w&&void 0!==w?w:f})})),b?(0,a.jsxs)(c.qyq,{lineHeight:"1rem",p:"0","data-testid":"select-dropdown-list",children:[h&&(0,a.jsx)(c.kCb,{borderBottom:"1px",borderColor:"gray.200",cursor:"auto",p:"8px",children:(0,a.jsx)(c.zxk,{onClick:function(){j(void 0),O()},size:"xs",variant:"outline",children:"Clear"})}),(d?(0,o.Z)(x).sort():(0,o.Z)(x)).map((function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1];return(0,a.jsx)(c.ua7,{"aria-label":i.toolTip,hasArrow:!0,label:i.toolTip,placement:"auto-start",openDelay:500,shouldWrapChildren:!0,children:(0,a.jsx)(c.sNh,{color:m===i.value?"complimentary.500":void 0,isDisabled:i.isDisabled,onClick:function(){return j(i.value)},paddingTop:"10px",paddingRight:"8.5px",paddingBottom:"10px",paddingLeft:"8.5px",_focus:{bg:"gray.100"},children:(0,a.jsx)(c.xvT,{fontSize:"0.75rem",children:t})})},t)}))]}):null]})}},43890:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var i=t(90849),r=t(97865),o=t(73679),c=t(90089),s=t(28841),a=(t(27378),t(4938)),l=t(77986),u=function(e){return void 0!==e.connection_type},d=function(e){return void 0!==e.encoded_icon},p=t(24246),h=["data"];function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}var x=function(e){var n=e.data,t=(0,c.Z)(e,h);return(0,p.jsx)(s.Eep,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({boxSize:"32px",objectFit:"cover",src:function(){if(d(n)&&n.encoded_icon)return"data:image/svg+xml;base64,".concat(n.encoded_icon);var e;if(u(n))e=(0,o.Z)(l.iW).find((function(e){var t,i,o=(0,r.Z)(e,1)[0];return n.connection_type.toString()!==a.Rj.SAAS&&n.connection_type.toString()===o||n.connection_type.toString()===a.Rj.SAAS&&(null===(t=n.saas_config)||void 0===t||null===(i=t.type)||void 0===i?void 0:i.toString())===o.toString()}));else if(d(n)){var t=n.identifier;e=(0,o.Z)(l.iW).find((function(e){return(0,r.Z)(e,1)[0].toLowerCase()===t.toLowerCase()}))}return e?l.Ny+e[1]:l.VD}(),fallbackSrc:l.VD,alt:function(){var e;return u(n)?null!==(e=n.name)&&void 0!==e?e:n.key:d(n)?n.human_readable:n}()},t))}},66156:function(e,n,t){"use strict";t(27378);var i=t(51471),r=t(24246);n.Z=function(e){var n=e.children;return(0,r.jsx)(i.Z,{title:"Connections",children:n})}},31744:function(e,n,t){"use strict";var i=t(55732),r=t(97865),o=t(34707),c=t.n(o),s=t(28841),a=(t(27378),t(57928)),l=t(24246);n.Z=function(e){var n=e.connection_key,t=e.disabled,o=e.name,u=e.access_type,d=e.connection_type,p=e.isSwitch,h=(0,s.qY0)(),f=h.isOpen,x=h.onOpen,g=h.onClose,j=(0,a.XX)(),m=(0,r.Z)(j,2),v=m[0],b=m[1],y=function(){var e=(0,i.Z)(c().mark((function e(){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!t,e.next=3,v({key:n,name:o,disabled:i,access:u,connection_type:d});case 3:g();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){b.isLoading||g()};return(0,l.jsxs)(l.Fragment,{children:[p?(0,l.jsxs)(s.kCb,{justifyContent:"space-between",alignItems:"center",children:[(0,l.jsx)(s.xvT,{fontSize:"sm",children:"Enable integration"}),(0,l.jsx)(s.rsf,{marginLeft:"8px",colorScheme:"complimentary",isChecked:!t,onChange:x})]}):(0,l.jsx)(s.sNh,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:x,children:(0,l.jsx)(s.xvT,{fontSize:"sm",children:t?"Enable":"Disable"})}),(0,l.jsxs)(s.u_l,{isCentered:!0,isOpen:f,onClose:O,children:[(0,l.jsx)(s.ZAr,{}),(0,l.jsxs)(s.hzk,{children:[(0,l.jsxs)(s.xBx,{children:[t?"Enable":"Disable"," Connection"]}),(0,l.jsx)(s.olH,{}),(0,l.jsx)(s.fef,{pb:6,children:(0,l.jsx)(s.Kqy,{direction:"column",spacing:"15px",children:(0,l.jsxs)(s.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:[t?"Enabling":"Disabling"," a connection may impact any privacy request that is currently in progress. Do you wish to proceed?"]})})}),(0,l.jsxs)(s.mzw,{children:[(0,l.jsx)(s.zxk,{onClick:O,marginRight:"10px",size:"sm",variant:"solid",bg:"white",width:"50%",children:"Cancel"}),(0,l.jsxs)(s.zxk,{onClick:y,isLoading:b.isLoading,mr:3,size:"sm",variant:"solid",bg:"primary.800",color:"white",width:"50%",children:[t?"Enable":"Disable"," Connection"]})]})]})]})]})}},27089:function(e,n,t){"use strict";var i=t(28841),r=t(77198),o=t(1326),c=t(24246);n.Z=function(e){var n=e.succeeded,t=e.timestamp,s=t?(0,o.p6)(t):"",a=t?"Last tested on ".concat(s):"This connection has not been tested yet";return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.Z,{connected:n}),(0,c.jsx)(i.xvT,{color:"gray.500",fontSize:"xs",fontWeight:"semibold",lineHeight:"16px",ml:"10px",children:a})]})}},91292:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return U}});var i=t(1326),r=t(28841),o=t(27378),c=t(6848),s=t(86700),a=t(90849),l=t(60245),u=t(57928),d=t(97865),p=t(73679),h=t(45232),f=t(24246),x=function(e){var n=e.closeOnSelect,t=void 0!==n&&n,i=e.list,c=e.onChange,s=e.selectedList,a=e.label,l=e.tooltipDisabled,u=void 0!==l&&l,x=e.tooltipPlacement,g=void 0===x?"auto":x,j=e.width,m=new Map(i),v=(0,o.useState)(!1),b=v[0],y=v[1],O=function(){y(!1)},w=function(){return u?a:s.size>0?(0,p.Z)(s.keys()).sort().join(", "):a};return(0,f.jsx)(r.xuv,{children:(0,f.jsx)(r.v2r,{closeOnSelect:t,isLazy:!0,onClose:O,onOpen:function(){y(!0)},strategy:"fixed",children:function(e){var n=e.onClose;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.ua7,{fontSize:".75rem",hasArrow:!0,"aria-label":"",label:w(),lineHeight:"1.25rem",isDisabled:u||!(s.size>0),placement:g,children:(0,f.jsxs)(r.j2t,{"aria-label":w(),as:r.zxk,fontWeight:"normal",rightIcon:(0,f.jsx)(r.mCO,{}),size:"sm",variant:"outline",_active:{bg:"none"},_hover:{bg:"none"},children:[!u&&(0,f.jsx)(r.xvT,{display:"inline-block",isTruncated:!0,width:j,children:w()}),u&&(0,f.jsxs)(r.Ugi,{children:[(0,f.jsx)(r.xvT,{children:w()}),s.size>0&&(0,f.jsx)(r.xvT,{color:"complimentary.500",children:s.size})]})]})}),b&&(0,f.jsx)(h.Z,{defaultValues:(0,p.Z)(s.keys()),items:m,onSelection:function(e){!function(e){var n=new Map((0,p.Z)(e).filter((function(e){return!0===(0,d.Z)(e,2)[1]})));c((0,p.Z)(n.keys())),O()}(e),n()}})]})}})})},g=function(e){var n=e.width,t=(0,c.C)(s.ZZ).connectionOptions,i=(0,c.C)(u.dR).connection_type,r=(0,o.useCallback)((function(){var e=new Map;return t.forEach((function(n){var t=!1;null!==i&&void 0!==i&&i.includes(n.identifier)&&(t=!0),e.set(n.human_readable,t)})),e}),[t,i]),a=(0,o.useMemo)((function(){return r()}),[r]),l=new Map((0,p.Z)(a).filter((function(e){return!0===(0,d.Z)(e,2)[1]}))),h=(0,c.T)();return(0,f.jsx)(x,{label:"Connection Type",list:a,onChange:function(e){var n=t.filter((function(n){return e.includes(n.human_readable)}));h((0,u.Iw)(n.map((function(e){return e.identifier}))))},selectedList:l,tooltipDisabled:!0,width:n})},j=t(92364),m=t(77986),v=function(e){var n=e.width,t=(0,l.v9)(u.dR).disabled_status,c=(0,o.useMemo)((function(){return function(){var e=new Map;return Object.values(m.QI).sort().forEach((function(n){e.set((0,i.kC)(n),{value:n})})),e}()}),[]),s=(0,l.I0)();return(0,f.jsx)(r.xuv,{children:(0,f.jsx)(j.Z,{label:"Status",list:c,menuButtonProps:{width:n},onChange:function(e){s((0,u.Ru)(e||""))},selectedValue:null===t||void 0===t?void 0:t.toString()})})},b=t(13717),y=function(e){var n=e.width,t=(0,l.v9)(u.dR).system_type,i=new Map(b.yI);i.delete("Show all");var o=(0,c.T)();return(0,f.jsx)(r.xuv,{children:(0,f.jsx)(j.Z,{enableSorting:!1,label:"System Type",list:i,menuButtonProps:{width:n},onChange:function(e){o((0,u.zq)(e||""))},selectedValue:null===t||void 0===t?void 0:t.toString()})})},O=function(e){var n=e.width,t=(0,l.v9)(u.dR).test_status,c=(0,o.useMemo)((function(){return function(){var e=new Map;return Object.values(m.i0).sort().forEach((function(n){e.set((0,i.kC)(n),{value:n})})),e}()}),[]),s=(0,l.I0)();return(0,f.jsx)(r.xuv,{children:(0,f.jsx)(j.Z,{label:"Testing Status",list:c,menuButtonProps:{width:n},onChange:function(e){s((0,u.Ri)(e||""))},selectedValue:null===t||void 0===t?void 0:t.toString()})})};function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}var C=function(){var e=(0,l.v9)(u.dR),n=(0,l.I0)();return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({handleSearchChange:function(e){return n((0,u.qP)(e.target.value))}},e)},k=function(){var e=C(),n=e.handleSearchChange,t=e.search;return(0,f.jsxs)(r.kCb,{minWidth:"fit-content",alignItems:"center",gap:"4",mb:6,flexWrap:"wrap",children:[(0,f.jsxs)(r.BZy,{size:"sm",minWidth:"308px",children:[(0,f.jsx)(r.Z8_,{pointerEvents:"none",children:(0,f.jsx)(r.PTu,{color:"gray.300",w:"17px",h:"17px"})}),(0,f.jsx)(r.IIB,{autoComplete:"off",autoFocus:!0,type:"search",minWidth:200,placeholder:"Search connection name or description",size:"sm",borderRadius:"md",value:t,name:"search",onChange:n})]}),(0,f.jsx)(g,{}),(0,f.jsx)(y,{}),(0,f.jsx)(O,{}),(0,f.jsx)(v,{})]})},P=function(e){var n=e.page,t=e.size,i=e.total,o=e.handleNextPage,c=e.handlePreviousPage,s=(n-1)*t+1,a=Math.min(i,n*t);return(0,f.jsxs)(r.kCb,{justifyContent:"space-between",mt:6,children:[(0,f.jsx)(r.xvT,{fontSize:"xs",color:"gray.600",children:i>0?(0,f.jsxs)(f.Fragment,{children:["Showing ",Number.isNaN(s)?0:s," to"," ",Number.isNaN(a)?0:a," of"," ",Number.isNaN(i)?0:i," results"]}):"0 results"}),(0,f.jsxs)("div",{children:[(0,f.jsx)(r.zxk,{disabled:n<=1,onClick:c,mr:2,size:"sm",children:"Previous"}),(0,f.jsx)(r.zxk,{disabled:n*t>=i,onClick:o,size:"sm",children:"Next"})]})]})},_=t(35851),S=t.n(_),z=t(79894),Z=t.n(z),D=t(60709),T=function(e){var n=e.connection_key,t=(0,r.qY0)(),i=t.isOpen,o=t.onOpen,c=t.onClose,s=(0,u.R5)(),a=(0,d.Z)(s,2),l=a[0],p=a[1],h=function(){p.isLoading||c()};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.sNh,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:o,children:(0,f.jsx)(r.xvT,{fontSize:"sm",children:"Delete"})}),(0,f.jsxs)(r.u_l,{isCentered:!0,isOpen:i,onClose:h,children:[(0,f.jsx)(r.ZAr,{}),(0,f.jsxs)(r.hzk,{children:[(0,f.jsx)(r.xBx,{children:"Delete Connection"}),(0,f.jsx)(r.olH,{}),(0,f.jsx)(r.fef,{pb:6,children:(0,f.jsx)(r.Kqy,{direction:"column",spacing:"15px",children:(0,f.jsx)(r.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:"Deleting a connection may impact any privacy request that is currently in progress. Do you wish to proceed?"})})}),(0,f.jsxs)(r.mzw,{children:[(0,f.jsx)(r.zxk,{onClick:h,marginRight:"10px",size:"sm",variant:"solid",bg:"white",width:"50%",children:"Cancel"}),(0,f.jsx)(r.zxk,{onClick:function(){n&&l(n)},isLoading:p.isLoading,mr:3,size:"sm",variant:"solid",bg:"primary.800",color:"white",width:"50%",_loading:{opacity:1,div:{opacity:.4}},_hover:{bg:"gray.100",color:"gray.600"},children:"Delete connection"})]})]})]})]})},E=t(31744),N=function(e){var n=e.connection_key,t=e.disabled,i=e.connection_type,o=e.access_type,c=e.name;return(0,f.jsxs)(r.v2r,{children:[(0,f.jsx)(r.j2t,{as:r.zxk,size:"xs",bg:"white","data-testid":"connection-menu-btn",children:(0,f.jsx)(r.nXP,{color:"gray.700",w:18,h:18})}),(0,f.jsx)(r.h_i,{children:(0,f.jsxs)(r.qyq,{fontSize:"sm",shadow:"xl","data-testid":"connection-menu-".concat(c),children:[(0,f.jsx)(Z(),{href:"".concat(D.JR,"/").concat(encodeURIComponent(n)),children:(0,f.jsx)(r.sNh,{_focus:{color:"complimentary.500",bg:"gray.100"},"data-testid":"configure-btn",children:"Configure"})}),(0,f.jsx)(E.Z,{connection_key:n,disabled:t,connection_type:i,access_type:o,name:c,isSwitch:!1}),(0,f.jsx)(T,{connection_key:n})]})})]})},R=function(e){var n=e.disabled,t=n?"gray.500":"green.500",i=n?"DISABLED":"ACTIVE";return(0,f.jsx)(r.Cts,{color:"white",bg:t,height:"18px",lineHeight:"18px",textAlign:"center",borderRadius:"2px",mr:"4px",children:i})},I=t(43890),L=t(27089),W=function(e){var n,t=e.connectionData,a=(0,u.h2)(),l=(0,d.Z)(a,2),p=l[0],h=l[1],x=(0,c.C)(s.ZZ).connectionOptions,g=(0,o.useMemo)((function(){return x.find((function(e){return e.identifier===t.connection_type||t.saas_config&&e.identifier===t.saas_config.type}))||"ethyca"}),[t,x]);return(0,f.jsxs)(r.xuv,{width:"100%",height:136,p:"18px 16px 16px 16px","data-testid":"connection-grid-item-".concat(t.name),children:[(0,f.jsxs)(r.kCb,{justifyContent:"center",alignItems:"center",children:[(0,f.jsx)(I.Z,{data:g}),(0,f.jsx)(r.xvT,{color:"gray.900",fontSize:"md",fontWeight:"medium",m:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:t.name}),(0,f.jsx)(r.LZC,{}),(0,f.jsx)(R,{disabled:!!t.disabled}),(0,f.jsx)(N,{connection_key:t.key,disabled:!!t.disabled,name:null!==(n=t.name)&&void 0!==n?n:t.key,connection_type:t.connection_type,access_type:t.access})]}),(0,f.jsx)(r.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:t.description?t.description:(0,f.jsx)("br",{})}),(0,f.jsxs)(r.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:["Edited on ",(0,i.p6)(t.updated_at)]}),(0,f.jsxs)(r.kCb,{mt:"0px",justifyContent:"center",alignItems:"center",children:[(0,f.jsx)(L.Z,{succeeded:t.last_test_succeeded,timestamp:t.last_test_timestamp||""}),(0,f.jsx)(r.LZC,{}),(0,f.jsx)(r.zxk,{size:"xs",variant:"outline",onClick:function(){p(t.key)},loadingText:"Test",isLoading:h.isLoading||h.isFetching,spinnerPlacement:"end",children:"Test"})]})]})};function q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?q(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var A=function(e){var n=e.items,t=void 0===n?[]:n,i=e.total,o=void 0===i?0:i,s=function(){var e=(0,l.I0)(),n=(0,c.C)(u.dR);return B(B({},n),{},{handleNextPage:function(){e((0,u.YA)(n.page+1))},handlePreviousPage:function(){e((0,u.YA)(n.page-1))}})}(),a=s.page,d=s.size,p=s.handleNextPage,h=s.handlePreviousPage,x=(0,r.yo_)(t,3);return(0,f.jsxs)(f.Fragment,{children:[x.map((function(e,n,t){var i=t.length;return(0,f.jsx)(r.xuv,{className:S()["grid-row"],borderBottomWidth:i>1&&n===i-1&&3===e.length?"0.5px":void 0,"data-testid":"connection-grid",children:(0,f.jsx)(r.MIq,{columns:3,children:e.map((function(e){return(0,f.jsx)(r.xuv,{className:S()["grid-item"],children:(0,f.jsx)(W,{connectionData:e})},e.key)}))})},JSON.stringify(e))})),(0,f.jsx)(P,{page:a,size:d,total:o,handleNextPage:p,handlePreviousPage:h})]})},H=function(){return(0,f.jsxs)(r.kCb,{bg:"gray.50",width:"100%",height:"340px",justifyContent:"center",alignItems:"center",flexDirection:"column","data-testid":"connections-empty-state",children:[(0,f.jsx)(r.xvT,{color:"black",fontSize:"x-large",lineHeight:"32px",fontWeight:"600",mb:"7px",children:"All of your connections have been linked!"}),(0,f.jsx)(r.xvT,{color:"gray.600",fontSize:"sm",lineHeight:"20px",mb:"11px",children:"You are ready to upgrade Fides"})]})},M=t(90768),F=function(){return(0,f.jsx)(Z(),{href:b.Ss[1].href,passHref:!0,children:(0,f.jsx)(r.zxk,{bg:"primary.800",color:"white",flexShrink:0,size:"sm",variant:"solid",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Create new connection"})})},V=function(){var e=(0,M.hz)();return(0,f.jsxs)(r.kCb,{mb:"24px",flexDirection:"column",justifyContent:"center",alignItems:"left",children:[(0,f.jsxs)(r.kCb,{children:[(0,f.jsx)(r.X6q,{marginBottom:4,fontSize:"2xl",fontWeight:"semibold",children:"Unlinked Connections"}),(0,f.jsx)(r.LZC,{}),e.flags.standaloneConnections&&(0,f.jsx)(F,{})]}),(0,f.jsx)(r.xuv,{maxWidth:"450px",children:(0,f.jsxs)(r.xvT,{fontSize:"sm",children:["Connections are now created in the"," ",(0,f.jsx)(r.rUS,{color:"complimentary.500",href:D.xo,children:"system configuration"})," ","section. You can link existing connections to a new or existing system."]})})]})},X=function(){var e,n=(0,o.useRef)(!1),t=(0,c.T)(),a=(0,c.C)(s.ZZ).connectionOptions,l=(0,c.C)(u.dR),d=(0,o.useState)(l),p=d[0],h=d[1],x=(0,o.useRef)((0,i.Ds)((function(e){return h(e)}),250)),g=(0,s.$I)({search:""},{skip:a.length>0}).data,j=(0,u.AZ)(p),m=j.data,v=j.isFetching,b=j.isLoading,y=j.isSuccess,O=(null===m||void 0===m||null===(e=m.items)||void 0===e?void 0:e.length)>0;return(0,o.useEffect)((function(){t((0,u.um)(!0))}),[t]),(0,o.useEffect)((function(){return n.current=!0,0===a.length&&null!==g&&void 0!==g&&g.items&&t((0,s.fP)(g.items)),x.current(l),function(){n.current=!1}}),[a.length,null===g||void 0===g?void 0:g.items,t,l]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(V,{}),n.current&&(0,f.jsx)(k,{}),(v||b)&&(0,f.jsx)(r.M5Y,{children:(0,f.jsx)(r.$jN,{})}),n.current&&y&&(O?(0,f.jsx)(A,{items:null===m||void 0===m?void 0:m.items,total:null===m||void 0===m?void 0:m.total}):(0,f.jsx)(H,{}))]})},Y=t(66156),U=function(){return(0,f.jsx)(Y.Z,{children:(0,f.jsx)(X,{})})}},98720:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datastore-connection",function(){return t(91292)}])},35851:function(e){e.exports={"grid-row":"ConnectionGrid_grid-row__pjx_I","grid-item":"ConnectionGrid_grid-item__HdQkZ"}}},function(e){e.O(0,[9774,2888,179],(function(){return n=98720,e(e.s=n);var n}));var n=e.O();_N_E=n}]);