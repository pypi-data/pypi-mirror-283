"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8921],{63238:function(e,n,t){t.d(n,{Tg:function(){return u}});var r=t(6848),i=t(67788),o=t(24246),u=function(e){return(0,r.C)(i.uu).filter((function(n){return e.includes(n)})).length>0};n.ZP=function(e){var n=e.scopes,t=e.children;return u(n)?(0,o.jsx)(o.Fragment,{children:t}):null}},86054:function(e,n,t){var r=t(90849),i=t(90089),o=t(28841),u=t(38687),a=t(24246),s=["title","tooltip","children"];function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.title,t=e.tooltip,r=e.children,c=(0,i.Z)(e,s);return(0,a.jsxs)(o.xuv,l(l({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},c),{},{children:[(0,a.jsxs)(o.X6q,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[n,t?(0,a.jsx)(o.xvT,{as:"span",mx:1,children:(0,a.jsx)(u.Z,{label:t})}):void 0]}),(0,a.jsx)(o.Kqy,{p:6,spacing:6,children:r})]}))}},2458:function(e,n,t){var r=t(90849),i=t(28841),o=t(24246);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.isOpen,t=e.onClose,r=e.onConfirm,u=e.onCancel,s=e.title,c=e.message,l=e.cancelButtonText,d=e.cancelButtonThemingProps,f=e.continueButtonText,p=e.continueButtonThemingProps,v=e.isLoading,h=e.returnFocusOnClose,y=e.isCentered,x=e.testId,m=void 0===x?"confirmation-modal":x,b=e.icon;return(0,o.jsxs)(i.u_l,{isOpen:n,onClose:t,size:"lg",returnFocusOnClose:null===h||void 0===h||h,isCentered:y,children:[(0,o.jsx)(i.ZAr,{}),(0,o.jsxs)(i.hzk,{textAlign:"center",p:6,"data-testid":m,children:[b?(0,o.jsx)(i.M5Y,{mb:2,children:b}):null,s?(0,o.jsx)(i.xBx,{fontWeight:"medium",pb:0,children:s}):null,c?(0,o.jsx)(i.fef,{children:c}):null,(0,o.jsx)(i.mzw,{children:(0,o.jsxs)(i.MIq,{columns:2,width:"100%",children:[(0,o.jsx)(i.zxk,a(a({variant:"outline",mr:3,onClick:function(){u&&u(),t()},"data-testid":"cancel-btn",isDisabled:v},d),{},{children:l||"Cancel"})),(0,o.jsx)(i.zxk,a(a({colorScheme:"primary",onClick:r,"data-testid":"continue-btn",isLoading:v},p),{},{children:f||"Continue"}))]})})]})]})}},49494:function(e,n,t){var r=t(55732),i=t(97865),o=t(34707),u=t.n(o),a=t(28841),s=t(86677),c=t.n(s),l=t(27378),d=t(78624),f=t(2458),p=t(60709),v=t(63238),h=t(24753),y=t(31589),x=t(4938),m=t(24246);n.Z=function(e){var n=e.property,t=e.triggerComponent,o=(0,a.pmc)(),s=(0,a.qY0)(),b=(0,y.YW)(),g=(0,i.Z)(b,1)[0],j=n.experiences.length>0,O=function(){var e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.onClose(),e.next=3,g(n.id);case 3:if(t=e.sent,!(0,d.D4)(t)){e.next=7;break}return o((0,h.Vo)((0,d.e$)(t.error))),e.abrupt("return");case 7:c().push("".concat(p.ru)),o((0,h.t5)("Property ".concat(n.name," deleted successfully")));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)(v.ZP,{scopes:[x.Sh.PROPERTY_DELETE],children:[(0,m.jsx)(a.ua7,{label:"All of the experiences on this property must be unlinked before the property can be deleted.",placement:"right",isDisabled:!j,children:(0,m.jsx)("span",{children:l.cloneElement(t,{onClick:function(e){e.stopPropagation(),j||s.onOpen()},isDisabled:j})})}),(0,m.jsx)(f.Z,{isOpen:s.isOpen,onClose:s.onClose,onConfirm:O,title:"Delete ".concat(n.name),message:(0,m.jsxs)(a.xvT,{color:"gray.500",children:["You are about to delete property ",n.name,". This action is not reversible and will result in ",n.name," no longer being available for your data governance. Are you sure you want to proceed?"]}),continueButtonText:"Ok",isCentered:!0,icon:(0,m.jsx)(a.aNP,{})})]})}},21980:function(e,n,t){var r=t(28841),i=t(34090),o=t(86677),u=t(27378),a=t(6848),s=t(86054),c=t(43139),l=t(78624),d=t(60709),f=t(85375),p=t(49841),v=t(4938),h=t(49494),y=t(24246),x=function(){var e,n=(0,a.C)(p.Zp),t=(0,a.C)(p.G1);(0,p.cq)({page:n,size:t});var r=(0,a.C)(p.w4),o=(0,i.u6)(),u=o.values,c=o.setFieldValue;return(0,y.jsx)(s.Z,{title:"Experiences",children:(0,y.jsx)(f.Z,{addButtonLabel:"Add experience",idField:"id",nameField:"name",allItems:r.map((function(e){return{id:e.id,name:e.name}})),values:null!==(e=u.experiences)&&void 0!==e?e:[],setValues:function(e){return c("experiences",e)},draggable:!0,baseTestId:"experience"})})};n.Z=function(e){var n=e.property,t=e.handleSubmit,a=(0,o.useRouter)(),f=function(){a.push(d.ru)},p=(0,u.useMemo)((function(){return n||{name:"",type:v.uS.WEBSITE,experiences:[],messaging_templates:[],paths:[]}}),[n]);return(0,y.jsx)(i.J9,{enableReinitialize:!0,initialValues:p,onSubmit:t,children:function(e){var t=e.dirty,o=e.isValid,u=e.isSubmitting;return(0,y.jsxs)(i.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,y.jsx)(r.xuv,{py:3,children:(0,y.jsxs)(s.Z,{title:"Property details",children:[(0,y.jsx)(c.j0,{isRequired:!0,label:"Property name",name:"name",tooltip:"Unique name to identify this property",variant:"stacked"}),(0,y.jsx)(c.AP,{isRequired:!0,label:"Type",name:"type",options:(0,l.MM)(v.uS),variant:"stacked"})]})}),(0,y.jsx)(r.xuv,{py:3,children:(0,y.jsx)(x,{})}),n&&(0,y.jsx)(r.xuv,{py:3,children:(0,y.jsx)(s.Z,{title:"Advanced settings",children:(0,y.jsx)(c.Io,{label:"Property ID",name:"id",tooltip:"Automatically generated unique ID for this property, used for developer configurations",variant:"stacked",readOnly:!0})})}),(0,y.jsxs)(r.kCb,{justifyContent:"space-between",width:"100%",paddingTop:2,children:[n&&(0,y.jsx)(h.Z,{property:n,triggerComponent:(0,y.jsx)(r.zxk,{"data-testid":"delete-property-button",size:"sm",variant:"outline",isLoading:!1,mr:3,children:"Delete"})}),(0,y.jsxs)(r.kCb,{justifyContent:"right",width:"100%",paddingTop:2,children:[(0,y.jsx)(r.zxk,{size:"sm",variant:"outline",isLoading:!1,mr:3,onClick:f,children:"Cancel"}),(0,y.jsx)(r.zxk,{size:"sm",type:"submit",colorScheme:"primary",isDisabled:u||!t||!o,isLoading:u,children:"Save"})]})]})]})}})}},33167:function(e,n,t){t.d(n,{isAPIError:function(){return r.Bw},isErrorResult:function(){return r.D4}});var r=t(60041)},89871:function(e,n,t){t.d(n,{t:function(){return P}});var r=t(59312),i=t(76065),o=t(27378),u=(0,o.createContext)(null),a=t(58897),s=t(96681),c=t(88577),l=t(10010);var d=(0,o.forwardRef)((function(e,n){var t=e.children,d=e.as,v=void 0===d?"ul":d,h=e.axis,y=void 0===h?"y":h,x=e.onReorder,m=e.values,b=(0,r._T)(e,["children","as","axis","onReorder","values"]),g=(0,s.h)((function(){return(0,a.E)(v)})),j=[],O=(0,o.useRef)(!1);(0,i.k)(Boolean(m),"Reorder.Group must be provided a values prop");var C={axis:y,registerItem:function(e,n){n&&-1===j.findIndex((function(n){return e===n.value}))&&(j.push({value:e,layout:n[y]}),j.sort(p))},updateOrder:function(e,n,t){if(!O.current){var r=function(e,n,t,r){if(!r)return e;var i=e.findIndex((function(e){return e.value===n}));if(-1===i)return e;var o=r>0?1:-1,u=e[i+o];if(!u)return e;var a=e[i],s=u.layout,d=(0,c.C)(s.min,s.max,.5);return 1===o&&a.layout.max+t>d||-1===o&&a.layout.min+t<d?(0,l.uo)(e,i,i+o):e}(j,e,n,t);j!==r&&(O.current=!0,x(r.map(f).filter((function(e){return-1!==m.indexOf(e)}))))}}};return(0,o.useEffect)((function(){O.current=!1})),o.createElement(g,(0,r.pi)({},b,{ref:n}),o.createElement(u.Provider,{value:C},t))}));function f(e){return e.value}function p(e,n){return e.layout.min-n.layout.min}var v=t(33234),h=t(16014);function y(e){var n=(0,s.h)((function(){return(0,v.B)(e)}));if((0,o.useContext)(h._).isStatic){var t=(0,r.CR)((0,o.useState)(e),2)[1];(0,o.useEffect)((function(){return n.onChange(t)}),[])}return n}var x=t(46912),m=function(e){return function(e){return"object"===typeof e&&e.mix}(e)?e.mix:void 0};var b=t(54735);function g(e,n){var t=y(n()),r=function(){return t.set(n())};return r(),function(e,n){(0,o.useEffect)((function(){var t=e.map((function(e){return e.onChange(n)}));return function(){return t.forEach((function(e){return e()}))}}))}(e,(function(){return b.ZP.update(r,!1,!0)})),t}function j(e,n,t,i){var o="function"===typeof n?n:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=!Array.isArray(e[0]),i=t?0:-1,o=e[0+i],u=e[1+i],a=e[2+i],s=e[3+i],c=(0,x.s)(u,a,(0,r.pi)({mixer:m(a[0])},s));return t?c(o):c}(n,t,i);return Array.isArray(e)?O(e,o):O([e],(function(e){var n=(0,r.CR)(e,1)[0];return o(n)}))}function O(e,n){var t=(0,s.h)((function(){return[]}));return g(e,(function(){t.length=0;for(var r=e.length,i=0;i<r;i++)t[i]=e[i].get();return n(t)}))}var C=t(40406);function w(e,n){return void 0===n&&(n=0),(0,C.i)(e)?e:y(n)}var P={Group:d,Item:(0,o.forwardRef)((function(e,n){var t=e.children,c=e.style,l=e.value,d=e.as,f=void 0===d?"li":d,p=e.onDrag,v=(0,r._T)(e,["children","style","value","as","onDrag"]),h=(0,s.h)((function(){return(0,a.E)(f)})),y=(0,o.useContext)(u),x={x:w(null===c||void 0===c?void 0:c.x),y:w(null===c||void 0===c?void 0:c.y)},m=j([x.x,x.y],(function(e){var n=(0,r.CR)(e,2),t=n[0],i=n[1];return t||i?1:"unset"})),b=(0,o.useRef)(null);(0,i.k)(Boolean(y),"Reorder.Item must be a child of Reorder.Group");var g=y,O=g.axis,C=g.registerItem,P=g.updateOrder;return(0,o.useEffect)((function(){C(l,b.current)}),[y]),o.createElement(h,(0,r.pi)({drag:O},v,{dragSnapToOrigin:!0,style:(0,r.pi)((0,r.pi)({},c),{x:x.x,y:x.y,zIndex:m}),layout:!0,onDrag:function(e,n){var t=n.velocity;t[O]&&P(l,x[O].get(),t[O]),null===p||void 0===p||p(e,n)},onLayoutMeasure:function(e){b.current=e},ref:n}),t)}))}},60153:function(e,n,t){t.d(n,{o:function(){return u}});var r=t(96681),i=function(){function e(){this.componentControls=new Set}return e.prototype.subscribe=function(e){var n=this;return this.componentControls.add(e),function(){return n.componentControls.delete(e)}},e.prototype.start=function(e,n){this.componentControls.forEach((function(t){t.start(e.nativeEvent||e,n)}))},e}(),o=function(){return new i};function u(){return(0,r.h)(o)}},76649:function(e,n,t){t.d(n,{Ln:function(){return r},uX:function(){return u}});const r=(e,n)=>o(e,n),i=Symbol("SOME"),o=(e,n)=>{if("string"==typeof e)return e===typeof n;if(Array.isArray(e))return i in e?e.some((e=>o(e,n))):!!Array.isArray(n)&&(0===e.length||n.every((n=>e.some((e=>o(e,n))))));if("object"!=typeof n||null===n)return!1;const t=n;return Object.entries(e).every((([e,n])=>o(n,t[e])))},u=e=>n=>r(e,n);class a{static narrow(e){return new a((n=>r(e,n)))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){const n=this.NF,t=e instanceof a?e.NF:e instanceof Function?e:n=>r(e,n);return new a((e=>n(e)&&t(e)))}}new a((e=>!0))}}]);