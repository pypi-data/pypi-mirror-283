(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6412],{72011:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var r=n(4),o=n(1),i=n(2),a={addUnnecessaryBendpoints:"de.cau.cs.kieler.klay.layered.unnecessaryBendpoints",alignment:"de.cau.cs.kieler.alignment",aspectRatio:"de.cau.cs.kieler.aspectRatio",borderSpacing:"borderSpacing",compactComponents:"de.cau.cs.kieler.klay.layered.components.compact",compactionStrategy:"de.cau.cs.kieler.klay.layered.nodeplace.compactionStrategy",contentAlignment:"de.cau.cs.kieler.klay.layered.contentAlignment",crossingMinimization:"de.cau.cs.kieler.klay.layered.crossMin",cycleBreaking:"de.cau.cs.kieler.klay.layered.cycleBreaking",debugMode:"de.cau.cs.kieler.debugMode",direction:"de.cau.cs.kieler.direction",edgeLabelSideSelection:"de.cau.cs.kieler.klay.layered.edgeLabelSideSelection",edgeRouting:"de.cau.cs.kieler.edgeRouting",edgeSpacingFactor:"de.cau.cs.kieler.klay.layered.edgeSpacingFactor",feedbackEdges:"de.cau.cs.kieler.klay.layered.feedBackEdges",fixedAlignment:"de.cau.cs.kieler.klay.layered.fixedAlignment",greedySwitchCrossingMinimization:"de.cau.cs.kieler.klay.layered.greedySwitch",hierarchyHandling:"de.cau.cs.kieler.hierarchyHandling",inLayerSpacingFactor:"de.cau.cs.kieler.klay.layered.inLayerSpacingFactor",interactiveReferencePoint:"de.cau.cs.kieler.klay.layered.interactiveReferencePoint",layerConstraint:"de.cau.cs.kieler.klay.layered.layerConstraint",layoutHierarchy:"de.cau.cs.kieler.layoutHierarchy",linearSegmentsDeflectionDampening:"de.cau.cs.kieler.klay.layered.linearSegmentsDeflectionDampening",mergeEdges:"de.cau.cs.kieler.klay.layered.mergeEdges",mergeHierarchyCrossingEdges:"de.cau.cs.kieler.klay.layered.mergeHierarchyEdges",noLayout:"de.cau.cs.kieler.noLayout",nodeLabelPlacement:"de.cau.cs.kieler.nodeLabelPlacement",nodeLayering:"de.cau.cs.kieler.klay.layered.nodeLayering",nodePlacement:"de.cau.cs.kieler.klay.layered.nodePlace",portAlignment:"de.cau.cs.kieler.portAlignment",portAlignmentEastern:"de.cau.cs.kieler.portAlignment.east",portAlignmentNorth:"de.cau.cs.kieler.portAlignment.north",portAlignmentSouth:"de.cau.cs.kieler.portAlignment.south",portAlignmentWest:"de.cau.cs.kieler.portAlignment.west",portConstraints:"de.cau.cs.kieler.portConstraints",portLabelPlacement:"de.cau.cs.kieler.portLabelPlacement",portOffset:"de.cau.cs.kieler.offset",portSide:"de.cau.cs.kieler.portSide",portSpacing:"de.cau.cs.kieler.portSpacing",postCompaction:"de.cau.cs.kieler.klay.layered.postCompaction",priority:"de.cau.cs.kieler.priority",randomizationSeed:"de.cau.cs.kieler.randomSeed",routeSelfLoopInside:"de.cau.cs.kieler.selfLoopInside",separateConnectedComponents:"de.cau.cs.kieler.separateConnComp",sizeConstraint:"de.cau.cs.kieler.sizeConstraint",sizeOptions:"de.cau.cs.kieler.sizeOptions",spacing:"de.cau.cs.kieler.spacing",splineSelfLoopPlacement:"de.cau.cs.kieler.klay.layered.splines.selfLoopPlacement",thoroughness:"de.cau.cs.kieler.klay.layered.thoroughness",wideNodesOnMultipleLayers:"de.cau.cs.kieler.klay.layered.wideNodesOnMultipleLayers"},c=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r],i=a[o],c=e[o];n[i]=c}return n},s={interactiveReferencePoint:"CENTER"},u=function(e){for(var t=e.parent(),n=e.scratch("klay"),r={x:n.x,y:n.y};t.nonempty();){var o=t.scratch("klay");r.x+=o.x,r.y+=o.y,t=t.parent()}return r},l=function(e,t){var n=e.layoutDimensions(t),r=e.numericStyle("padding"),o={_cyEle:e,id:e.id(),padding:{top:r,left:r,bottom:r,right:r}};return e.isParent()||(o.width=n.w,o.height=n.h),e.scratch("klay",o),o},d=function(e,t){var n={_cyEle:e,id:e.id(),source:e.data("source"),target:e.data("target"),properties:{}},r=t.priority(e);return null!=r&&(n.properties.priority=r),e.scratch("klay",n),n};function p(e){var t=e.klay;this.options=o({},i,e),this.options.klay=o({},i.klay,t,s)}p.prototype.run=function(){var e=this.options,t=e.eles,n=t.nodes(),o=function(e,t,n){for(var r=[],o=[],i={},a={id:"root",children:[],edges:[]},c=0;c<e.length;c++){var s=e[c],u=l(s,n);r.push(u),i[s.id()]=u}for(var p=0;p<t.length;p++){var f=t[p],y=d(f,n);o.push(y),i[f.id()]=y}for(var g=0;g<r.length;g++){var h=r[g],m=h._cyEle;if(m.isChild()){var v=i[m.parent().id()];(v.children=v.children||[]).push(h)}else a.children.push(h)}for(var k=0;k<o.length;k++){var b=o[k],x=b._cyEle;x.source().parent(),x.target().parent(),a.edges.push(b)}return a}(n,t.edges(),e);return r.layout({graph:o,options:c(e.klay),success:function(){},error:function(e){throw e}}),n.filter((function(e){return!e.isParent()})).layoutPositions(this,e,u),this},p.prototype.stop=function(){return this},p.prototype.destroy=function(){return this},e.exports=p},function(e,t,n){"use strict";e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.filter((function(e){return null!=e})).forEach((function(t){Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}},function(e,t,n){"use strict";var r={nodeDimensionsIncludeLabels:!1,fit:!0,padding:20,animate:!1,animateFilter:function(e,t){return!0},animationDuration:500,animationEasing:void 0,transform:function(e,t){return t},ready:void 0,stop:void 0,klay:{addUnnecessaryBendpoints:!1,aspectRatio:1.6,borderSpacing:20,compactComponents:!1,crossingMinimization:"LAYER_SWEEP",cycleBreaking:"GREEDY",direction:"UNDEFINED",edgeRouting:"ORTHOGONAL",edgeSpacingFactor:.5,feedbackEdges:!1,fixedAlignment:"NONE",inLayerSpacingFactor:1,layoutHierarchy:!1,linearSegmentsDeflectionDampening:.3,mergeEdges:!1,mergeHierarchyCrossingEdges:!0,nodeLayering:"NETWORK_SIMPLEX",nodePlacement:"BRANDES_KOEPF",randomizationSeed:1,routeSelfLoopInside:!1,separateConnectedComponents:!0,spacing:20,thoroughness:7},priority:function(e){return null}};e.exports=r},function(e,t,n){"use strict";var r=n(0),o=function(e){e&&e("layout","klay",r)};"undefined"!==typeof cytoscape&&o(cytoscape),e.exports=o},function(t,n){t.exports=e}])},e.exports=r(n(73552))},87251:function(e,t,n){e.exports=n(21208)},21208:function(e,t){var n,r,o;(function(){var i,a,c,s,u,l,d,p,f,y,g,h,m,v,k;c=Math.floor,y=Math.min,a=function(e,t){return e<t?-1:e>t?1:0},f=function(e,t,n,r,o){var i;if(null==n&&(n=0),null==o&&(o=a),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=e.length);n<r;)o(t,e[i=c((n+r)/2)])<0?r=i:n=i+1;return[].splice.apply(e,[n,n-n].concat(t)),t},l=function(e,t,n){return null==n&&(n=a),e.push(t),v(e,0,e.length-1,n)},u=function(e,t){var n,r;return null==t&&(t=a),n=e.pop(),e.length?(r=e[0],e[0]=n,k(e,0,t)):r=n,r},p=function(e,t,n){var r;return null==n&&(n=a),r=e[0],e[0]=t,k(e,0,n),r},d=function(e,t,n){var r;return null==n&&(n=a),e.length&&n(e[0],t)<0&&(t=(r=[e[0],t])[0],e[0]=r[1],k(e,0,n)),t},s=function(e,t){var n,r,o,i,s,u;for(null==t&&(t=a),i=function(){u=[];for(var t=0,n=c(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)u.push(t);return u}.apply(this).reverse(),s=[],r=0,o=i.length;r<o;r++)n=i[r],s.push(k(e,n,t));return s},m=function(e,t,n){var r;if(null==n&&(n=a),-1!==(r=e.indexOf(t)))return v(e,0,r,n),k(e,r,n)},g=function(e,t,n){var r,o,i,c,u;if(null==n&&(n=a),!(o=e.slice(0,t)).length)return o;for(s(o,n),i=0,c=(u=e.slice(t)).length;i<c;i++)r=u[i],d(o,r,n);return o.sort(n).reverse()},h=function(e,t,n){var r,o,i,c,l,d,p,g,h;if(null==n&&(n=a),10*t<=e.length){if(!(i=e.slice(0,t).sort(n)).length)return i;for(o=i[i.length-1],c=0,d=(p=e.slice(t)).length;c<d;c++)n(r=p[c],o)<0&&(f(i,r,0,null,n),i.pop(),o=i[i.length-1]);return i}for(s(e,n),h=[],l=0,g=y(t,e.length);0<=g?l<g:l>g;0<=g?++l:--l)h.push(u(e,n));return h},v=function(e,t,n,r){var o,i,c;for(null==r&&(r=a),o=e[n];n>t&&r(o,i=e[c=n-1>>1])<0;)e[n]=i,n=c;return e[n]=o},k=function(e,t,n){var r,o,i,c,s;for(null==n&&(n=a),o=e.length,s=t,i=e[t],r=2*t+1;r<o;)(c=r+1)<o&&!(n(e[r],e[c])<0)&&(r=c),e[t]=e[r],r=2*(t=r)+1;return e[t]=i,v(e,s,t,n)},i=function(){function e(e){this.cmp=null!=e?e:a,this.nodes=[]}return e.push=l,e.pop=u,e.replace=p,e.pushpop=d,e.heapify=s,e.updateItem=m,e.nlargest=g,e.nsmallest=h,e.prototype.push=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pop=function(){return u(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return p(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return d(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return s(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return m(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),r=[],void 0===(o="function"===typeof(n=function(){return i})?n.apply(t,r):n)||(e.exports=o)}).call(this)},71928:function(e,t,n){var r=n(88799),o=n(85638),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},78859:function(e,t,n){var r=n(71928),o=n(76747),i=n(42383),a=n(11611),c=n(37948);e.exports=function(e,t,n,s){if(!a(e))return e;for(var u=-1,l=(t=o(t,e)).length,d=l-1,p=e;null!=p&&++u<l;){var f=c(t[u]),y=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(u!=d){var g=p[f];void 0===(y=s?s(g,f,p):void 0)&&(y=a(g)?g:i(t[u+1])?[]:{})}r(p,f,y),p=p[f]}return e}},74833:function(e,t,n){var r=n(56127),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},37561:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},56127:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},66726:function(e,t,n){var r=n(11611),o=n(82846),i=n(91936),a=Math.max,c=Math.min;e.exports=function(e,t,n){var s,u,l,d,p,f,y=0,g=!1,h=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=s,r=u;return s=u=void 0,y=t,d=e.apply(r,n)}function k(e){return y=e,p=setTimeout(x,t),g?v(e):d}function b(e){var n=e-f;return void 0===f||n>=t||n<0||h&&e-y>=l}function x(){var e=o();if(b(e))return S(e);p=setTimeout(x,function(e){var n=t-(e-f);return h?c(n,l-(e-y)):n}(e))}function S(e){return p=void 0,m&&s?v(e):(s=u=void 0,d)}function O(){var e=o(),n=b(e);if(s=arguments,u=this,f=e,n){if(void 0===p)return k(f);if(h)return clearTimeout(p),p=setTimeout(x,t),v(f)}return void 0===p&&(p=setTimeout(x,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(h="maxWait"in n)?a(i(n.maxWait)||0,t):l,m="trailing"in n?!!n.trailing:m),O.cancel=function(){void 0!==p&&clearTimeout(p),y=0,s=f=u=p=void 0},O.flush=function(){return void 0===p?d:S(o())},O}},82846:function(e,t,n){var r=n(77400);e.exports=function(){return r.Date.now()}},47215:function(e,t,n){var r=n(78859);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},91936:function(e,t,n){var r=n(74833),o=n(11611),i=n(55193),a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},40110:function(e,t,n){var r=n(66070),o=n(37561),i=n(19785),a=n(55193),c=n(23419),s=n(37948),u=n(65567);e.exports=function(e){return i(e)?r(e,s):a(e)?[e]:o(c(u(e)))}},53027:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(73679),o=n(28841),i=n(27378),a=n(90849),c=n(35315),s=n.n(c),u=n(72011),l=n.n(u),d=n(65218),p=n.n(d),f=n(66521),y=n(24246);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=p()((function(){return n.e(7062).then(n.bind(n,37062))}),{ssr:!1,loadableGenerated:{webpack:function(){return[37062]}}});s().use(l()),s().warnings(!1);var v=function(e){var t=e.data,n=e.setSelectedSystemId,a=function(e){var t=e.data,n=(0,i.useMemo)((function(){var e=t.nodes.map((function(e){return{data:h({label:e.name},e),grabbable:!1,classes:"center-center multiline-auto outline"}})),n=t.links.map((function(e){return{data:{source:e.source,target:e.target}}}));return[].concat((0,r.Z)(e),(0,r.Z)(n))}),[t.links,t.nodes]),o=(0,i.useMemo)((function(){return{name:"klay",nodeDimensionsIncludeLabels:!0,klay:{thoroughness:20,borderSpacing:100,direction:"DOWN",edgeRouting:"SPLINES",edgeSpacingFactor:1.3}}}),[]),a="#f7fafc";return{elements:n,layoutConfig:o,styleSheet:(0,i.useMemo)((function(){return[{selector:"node[label]",style:{label:"data(label)"}},{selector:"node",style:{shape:"ellipse",width:"45px",height:"45px",backgroundColor:a}},{selector:"edge[label]",style:{label:"data(label)",width:3}},{selector:"edge",style:{"curve-style":"bezier","target-arrow-shape":"triangle","line-color":"#888","target-arrow-color":"#888",opacity:.5}},{selector:"node",style:{"background-image":"/images/DatabaseIcon.svg"}},{selector:"node:selected",style:{"background-image":"/images/SelectedDatabaseIcon.svg"}},{selector:".center-center",style:{"text-valign":"center","text-halign":"right"}},{selector:".multiline-auto",style:{"text-wrap":"wrap","text-max-width":"40"}},{selector:".outline",style:{color:"#8d91b4","text-outline-color":"#fff","text-outline-width":1}}]}),[]),backgroundColor:a}}({data:t}),c=a.elements,s=a.layoutConfig,u=a.styleSheet,l=a.backgroundColor,d=(0,i.useContext)(f.Y),p=(0,i.useState)(!1),g=p[0],v=p[1];return(0,i.useEffect)((function(){var e=function(e){var t=e.target._private.data;n(t.id)};return d.current&&(d.current.on("click","node",e),d.current.on("layoutstop",(function(){d.current&&(d.current.maxZoom(2.5),d.current.fit(),d.current.maxZoom(100))}))),function(){d.current&&d.current.off("click","node",e)}}),[d.current,n]),(0,i.useEffect)((function(){return function(){d.current=void 0}}),[d]),(0,i.useEffect)((function(){var e,t,n,r;g&&(null===(e=d.current)||void 0===e||e.layout(s).stop(),null===(t=d.current)||void 0===t||t.layout(s).removeAllListeners(),null===(n=d.current)||void 0===n||n.layout(s),null===(r=d.current)||void 0===r||r.layout(s).run())}),[g,c,d,s]),(0,y.jsx)(o.xuv,{boxSize:"100%","data-testid":"cytoscape-graph",position:"absolute",children:(0,y.jsx)(o.xuv,{boxSize:"100%",bgColor:"gray.50",children:(0,y.jsx)(m,{cy:function(e){g||(v(!0),d.current=e)},elements:c,style:{height:"100%",width:"100%",backgroundColor:l},stylesheet:u,wheelSensitivity:.085,layout:s})})})},k=i.memo(v),b=n(62853),x=function(e){var t=e.setSelectedSystemId,n=(0,i.useContext)(b.Z).tableInstance;if(!n)return null;var a=function(e){var t=(0,i.useMemo)((function(){return new Set(null===e||void 0===e?void 0:e.map((function(e){return e.original["system.fides_key"]})))}),[e]),n=(0,i.useMemo)((function(){return e.reduce((function(e,t){var n=t.original["system.fides_key"];return e[n]||(e[n]={name:t.original["system.name"],description:t.original["system.description"],ingress:t.original["system.ingress"]?t.original["system.ingress"].split(", "):[],egress:t.original["system.egress"]?t.original["system.egress"].split(", "):[],id:t.original["system.fides_key"]}),e}),{})}),[e]);return{data:(0,i.useMemo)((function(){var e=[],t=new Set([]);return n&&(e=Object.values(n)).map((function(e){return[].concat((0,r.Z)(e.ingress.filter((function(e){return n[e]})).map((function(t){return{source:t,target:e.id}}))),(0,r.Z)(e.egress.filter((function(e){return n[e]})).map((function(t){return{source:e.id,target:t}}))))})).flatMap((function(e){return e})).forEach((function(e){return t.add(JSON.stringify(e))})),{nodes:e,links:Array.from(t).map((function(e){return JSON.parse(e)}))}}),[n]),highlightedNodes:t}}(n.getRowModel().rows),c=a.data;return(0,y.jsx)(o.xuv,{boxSize:"100%",minHeight:"600px",position:"relative",children:(0,y.jsx)(k,{data:c,setSelectedSystemId:t})})}}}]);