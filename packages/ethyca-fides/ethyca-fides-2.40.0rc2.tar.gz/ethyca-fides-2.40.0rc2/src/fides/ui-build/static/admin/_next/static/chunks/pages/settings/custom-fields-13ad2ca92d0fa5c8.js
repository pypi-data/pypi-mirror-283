(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4065],{92315:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var n=r(28841),i=r(24246),o=(0,n.IUT)({displayName:"TrashCanOutlineIcon",viewBox:"0 0 11 12",path:(0,i.jsx)("path",{d:"M4.5166 1.60859L4.1084 2.21875H7.22363L6.81543 1.60859C6.7832 1.56133 6.72949 1.53125 6.67148 1.53125H4.6584C4.60039 1.53125 4.54668 1.55918 4.51445 1.60859H4.5166ZM7.6748 1.03711L8.46328 2.21875H8.75977H9.79102H9.96289C10.2486 2.21875 10.4785 2.44863 10.4785 2.73438C10.4785 3.02012 10.2486 3.25 9.96289 3.25H9.79102V9.78125C9.79102 10.7309 9.02188 11.5 8.07227 11.5H3.25977C2.31016 11.5 1.54102 10.7309 1.54102 9.78125V3.25H1.36914C1.0834 3.25 0.853516 3.02012 0.853516 2.73438C0.853516 2.44863 1.0834 2.21875 1.36914 2.21875H1.54102H2.57227H2.86875L3.65723 1.03496C3.88066 0.701953 4.25664 0.5 4.6584 0.5H6.67148C7.07324 0.5 7.44922 0.701953 7.67266 1.03496L7.6748 1.03711ZM2.57227 3.25V9.78125C2.57227 10.1615 2.87949 10.4688 3.25977 10.4688H8.07227C8.45254 10.4688 8.75977 10.1615 8.75977 9.78125V3.25H2.57227ZM4.29102 4.625V9.09375C4.29102 9.28281 4.13633 9.4375 3.94727 9.4375C3.7582 9.4375 3.60352 9.28281 3.60352 9.09375V4.625C3.60352 4.43594 3.7582 4.28125 3.94727 4.28125C4.13633 4.28125 4.29102 4.43594 4.29102 4.625ZM6.00977 4.625V9.09375C6.00977 9.28281 5.85508 9.4375 5.66602 9.4375C5.47695 9.4375 5.32227 9.28281 5.32227 9.09375V4.625C5.32227 4.43594 5.47695 4.28125 5.66602 4.28125C5.85508 4.28125 6.00977 4.43594 6.00977 4.625ZM7.72852 4.625V9.09375C7.72852 9.28281 7.57383 9.4375 7.38477 9.4375C7.1957 9.4375 7.04102 9.28281 7.04102 9.09375V4.625C7.04102 4.43594 7.1957 4.28125 7.38477 4.28125C7.57383 4.28125 7.72852 4.43594 7.72852 4.625Z",fill:"currentColor"})})},51471:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(90849),i=r(28841),o=r(88038),s=r.n(o),l=r(86677),a=(r(27378),r(90768)),c=r(51365),u=r(60709),d=r(24246),p=function(){var e=(0,l.useRouter)();return(0,d.jsx)(i.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,d.jsxs)(i.xuv,{children:[(0,d.jsxs)(i.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,d.jsx)(i.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,d.jsx)(i.zxk,{size:"sm",variant:"outline",onClick:function(){e.push(u.fz)},children:"Configure"})]}),(0,d.jsxs)(i.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})};function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){var t=e.children,r=e.title,n=e.padded,o=void 0===n||n,u=e.mainProps,f=(0,a.hz)(),m=(0,l.useRouter)(),h="/privacy-requests"===m.pathname||"/datastore-connection"===m.pathname,x=!(f.flags.privacyRequestsConfiguration&&h),v=(0,c.JE)(void 0,{skip:x}).data,g=(0,c.PW)(void 0,{skip:x}).data,j=f.flags.privacyRequestsConfiguration&&(!v||!g)&&h;return(0,d.jsxs)(i.kCb,{"data-testid":r,direction:"column",h:"100vh",children:[(0,d.jsxs)(s(),{children:[(0,d.jsxs)("title",{children:["Fides Admin UI - ",r]}),(0,d.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsxs)(i.kCb,b(b({as:"main",direction:"column",py:o?6:0,px:o?10:0,h:o?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},u),{},{children:[j?(0,d.jsx)(p,{}):null,t]}))]})}},63238:function(e,t,r){"use strict";r.d(t,{Tg:function(){return s}});var n=r(6848),i=r(67788),o=r(24246),s=function(e){return(0,n.C)(i.uu).filter((function(t){return e.includes(t)})).length>0};t.ZP=function(e){var t=e.scopes,r=e.children;return s(t)?(0,o.jsx)(o.Fragment,{children:r}):null}},86054:function(e,t,r){"use strict";var n=r(90849),i=r(90089),o=r(28841),s=r(38687),l=r(24246),a=["title","tooltip","children"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.title,r=e.tooltip,n=e.children,c=(0,i.Z)(e,a);return(0,l.jsxs)(o.xuv,u(u({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},c),{},{children:[(0,l.jsxs)(o.X6q,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[t,r?(0,l.jsx)(o.xvT,{as:"span",mx:1,children:(0,l.jsx)(s.Z,{label:r})}):void 0]}),(0,l.jsx)(o.Kqy,{p:6,spacing:6,children:n})]}))}},2964:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return de}});var n=r(51471),i=r(28841),o=r(27378),s=r(90849),l=r(55732),a=r(97865),c=r(31099),u=r(34707),d=r.n(u),p=r(92222),f=r(59003),b=r(6848),m=r(78624),h=r(63238),x=r(49938),v=r(24753),g=r(57984),j=r(4938),y=new Map([["string","Single Select"],["string[]","Multi Select"],["open-text","Open Text"]]),O=new Map([[j.P6.SYSTEM,"system:information"],[j.P6.DATA_USE,"taxonomy:data use"],[j.P6.DATA_CATEGORY,"taxonomy:data category"],[j.P6.DATA_SUBJECT,"taxonomy:data subject"],[j.P6.PRIVACY_DECLARATION,"system:data use"]]),w=r(44047),_=r(24246);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=function(e){var t=e.getValue;return(0,_.jsx)(g.G3,{value:t()})},S=function(e){var t,r=null!==(t=O.get(e.getValue()))&&void 0!==t?t:e.getValue();return(0,_.jsx)(g.G3,P(P({},e),{},{value:r}))},T=function(e){var t=e.row,r=e.getValue,n=t.original.allow_list_id?r():"open-text",i=y.get(n)||n;return(0,_.jsx)(g.A4,{value:i})},D=function(e){var t=e.row,r=e.getValue,n=e.isDisabled,i=!!r(),o=(0,w.yM)(),s=(0,a.Z)(o,1)[0],c=function(){var e=(0,l.Z)(d().mark((function e(r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s(P(P({},t.original),{},{active:r})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,_.jsx)(g.S1,{enabled:i,onToggle:c,title:"Disable custom field",message:"Are you sure you want to disable this custom field?",isDisabled:n,"aria-label":i?"Disable custom field":"Enable custom field"})},k=r(90089),L=r(92315),Z=r(2458),R=["customField","onEdit","onDelete"];function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var z=function(e){var t=e.customField,r=e.onEdit,n=e.onDelete,o=(0,k.Z)(e,R),s=(0,i.qY0)();return(0,_.jsxs)(i.xuv,I(I({},o),{},{children:[(0,_.jsx)(i.hU,{"aria-label":"Edit property","data-testid":"edit-property-button",variant:"outline",size:"xs",marginRight:"10px",icon:(0,_.jsx)(i.dY8,{}),onClick:function(e){e.stopPropagation(),r(t,e)}}),(0,_.jsx)(i.hU,{"aria-label":"Delete property","data-testid":"delete-property-button",variant:"outline",size:"xs",marginRight:"10px",icon:(0,_.jsx)(L.q,{}),onClick:function(e){e.stopPropagation(),s.onOpen()}}),(0,_.jsx)(Z.Z,{isOpen:s.isOpen,onClose:s.onClose,onConfirm:function(){n(t),s.onClose()},title:"Delete custom field",message:(0,_.jsx)(i.xvT,{color:"gray.500",children:"Are you sure you want to delete this custom field? This will remove the custom field and all stored values and this action can't be undone."}),continueButtonText:"Confirm",isCentered:!0,icon:(0,_.jsx)(i.aNP,{})})]}))},N=r(82547),U=r(9408),F=r(34090),M=r(14633),H=r(83640),q=r(7280),V=r(86054),W=r(43139),G=r(96156);function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=Y(Y({},H.s),{},{minWidth:"unset"}),J=function(e){var t=e.values,r=e.validationSchema,n=e.errors,s=e.dirty,a=e.isValid,c=e.isSubmitting,u=e.isLoading,p=e.onClose,f=e.handleDropdownChange,b=e.isEditing,m=(0,F.u6)().validateForm;return(0,o.useEffect)((function(){m()}),[r,m]),(0,_.jsxs)(F.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,_.jsx)(i.xuv,{py:3,children:(0,_.jsxs)(V.Z,{title:"Field Information",children:[(0,_.jsx)(H.Z,{displayHelpIcon:!0,isRequired:!0,label:"Name",name:"name",customLabelProps:B}),(0,_.jsx)(H.Z,{displayHelpIcon:!0,label:"Description",name:"description",customLabelProps:B}),(0,_.jsx)(W.AP,{label:"Location",name:"resource_type",options:N.C7,labelProps:B,isDisabled:b})]})}),(0,_.jsx)(i.xuv,{py:3,children:(0,_.jsxs)(V.Z,{title:"Configuration",children:[(0,_.jsx)(W.AP,{label:"Field Type",name:"field_type",options:N.Hn,onChange:function(){var e=(0,l.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(t.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),t.field_type!==N.Uv.OPEN_TEXT?(0,_.jsx)(i.kCb,{flexDirection:"column",gap:"12px",paddingTop:"6px",paddingBottom:"24px",children:(0,_.jsx)(F.F2,{name:"allow_list.allowed_values",render:function(e){var r=t.allow_list.allowed_values;return(0,_.jsxs)(i.kCb,{flexDirection:"column",gap:"6",pl:"6",children:[(0,_.jsx)(i.kCb,{flexDirection:"column",children:r.map((function(t,n){return(0,_.jsxs)(i.kCb,{flexGrow:1,gap:"3",mt:n>0?3:void 0,children:[(0,_.jsx)(H.Z,{customLabelProps:{color:"gray.600",fontSize:"sm",fontWeight:"500",lineHeight:"20px",minW:"126px",pr:"8px"},displayHelpIcon:!1,isRequired:!0,label:"List item ".concat(n+1),name:"allow_list.allowed_values[".concat(n,"]")}),(0,_.jsx)(i.hU,{"aria-label":"Remove this list value","data-testid":"remove-list-value-btn-".concat(n),icon:(0,_.jsx)(G.l,{}),isDisabled:r.length<=1,onClick:function(){return e.remove(n)},size:"sm",variant:"ghost"})]},n)}))}),(0,_.jsxs)(i.kCb,{alignItems:"center",children:[(0,_.jsx)(i.xvT,{color:"gray.600",fontSize:"xs",fontWeight:"500",lineHeight:"16px",pr:"8px",children:"Add a list value"}),(0,_.jsx)(i.hU,{"aria-label":"Add a list value","data-testid":"add-list-value-btn",icon:(0,_.jsx)(q.d,{h:"7px",w:"7px"}),onClick:function(){e.push("")},size:"xs",variant:"outline"}),0===r.length&&null!==n&&void 0!==n&&n.allow_list?(0,_.jsx)(i.xvT,{color:"red.500",pl:"18px",size:"sm",children:n.allow_list.allowed_values}):null]})]})}})}):null]})}),(0,_.jsxs)(i.kCb,{justifyContent:"space-between",width:"100%",children:[(0,_.jsx)(i.zxk,{size:"sm",variant:"outline",mr:3,onClick:p,"data-testid":"cancel-btn",isDisabled:u||c,children:"Cancel"}),(0,_.jsx)(i.zxk,{size:"sm",type:"submit",colorScheme:"primary","data-testid":"save-btn",isLoading:u,isDisabled:!s||!a||c,children:"Save"})]})]})};function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Q={description:"",field_type:N.Uv.OPEN_TEXT,name:"",resource_type:j.P6.SYSTEM,allow_list:{name:"",description:"",allowed_values:[]}},ee=M.IX(M.Z_().optional().label("allowed_values")),te=M.IX(M.Z_().required("List item is required")).min(1,"Must add at least one list value").label("allowed_values"),re=M.Ry().shape({name:M.Z_().required("Name is required").trim(),allow_list:M.Ry().shape({allowed_values:ee})}),ne=M.Ry().shape({name:M.Z_().required("Name is required").trim(),allow_list:M.Ry().shape({allowed_values:te})}),ie=function(e){var t=e.isOpen,r=e.onClose,n=e.isLoading,s=e.customField,c=(0,U.VY)(),u=c.errorAlert,p=c.successAlert,f=(0,w.Ld)(),b=(0,a.Z)(f,1)[0],h=(0,w.yM)(),x=(0,a.Z)(h,1)[0],v=(0,w.Nt)(),g=(0,a.Z)(v,1)[0],y=(0,w.vA)(null===s||void 0===s?void 0:s.allow_list_id,{skip:!(null!==s&&void 0!==s&&s.allow_list_id)}),O=y.data,C=y.isLoading,P=(0,o.useState)(re),E=P[0],S=P[1];if(C||!t)return null;var T=function(e,t){var r,n,i;if(e){var o;e.field_type!==j.AL.STRING||e.allow_list_id||(o=N.Uv.OPEN_TEXT),e.field_type===j.AL.STRING&&e.allow_list_id&&(o=N.Uv.SINGLE_SELECT),e.field_type===j.AL.STRING_&&e.allow_list_id&&(o=N.Uv.MULTIPLE_SELECT);var s=t?{name:null!==(r=t.name)&&void 0!==r?r:"",description:null!==(n=t.description)&&void 0!==n?n:"",allowed_values:null!==(i=t.allowed_values)&&void 0!==i?i:[]}:Q.allow_list;return $($({},e),{},{field_type:o||N.Uv.OPEN_TEXT,allow_list:s})}}(s,O),D=!!T,k=T||Q,L=function(e){e===N.Uv.OPEN_TEXT?S(re):S(ne)},Z=function(){var e=(0,l.Z)(d().mark((function e(t){var n,i,o,l,a,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(![N.Uv.SINGLE_SELECT,N.Uv.MULTIPLE_SELECT].includes(t.field_type)){e.next=12;break}if(!(new Set(null===(n=t.allow_list)||void 0===n?void 0:n.allowed_values.map((function(e){return e.toLowerCase().trim()})).map((function(e){return e}))).size<t.allow_list.allowed_values.length)){e.next=5;break}return u("List item value must be unique"),e.abrupt("return");case 5:return i=t.allow_list,t.allow_list_id&&(i.id=t.allow_list_id),i.name||(i.name=Date.now().toString()+Math.random().toString()),e.next=10,g(i);case 10:"error"in(o=e.sent)||t.allow_list_id||(t.allow_list_id=null===(l=o.data)||void 0===l?void 0:l.id);case 12:if(t.field_type===N.Uv.OPEN_TEXT&&(t.allow_list_id=void 0),[N.Uv.SINGLE_SELECT,N.Uv.OPEN_TEXT].includes(t.field_type)&&(t.field_type=j.AL.STRING),t.field_type===N.Uv.MULTIPLE_SELECT&&(t.field_type=j.AL.STRING_),delete(a=$({},t)).allow_list,!s){e.next=23;break}return e.next=20,x(a);case 20:e.t0=e.sent,e.next=26;break;case 23:return e.next=25,b(a);case 25:e.t0=e.sent;case 26:"error"in(c=e.t0)?u((0,m.e$)(c.error),"Custom field has failed to save due to the following:"):(r(),p("Custom field successfully saved"));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,_.jsxs)(i.u_l,{id:"custom-field-modal-hello-world",isOpen:t,onClose:r,size:"lg",returnFocusOnClose:!1,isCentered:!0,children:[(0,_.jsx)(i.ZAr,{}),(0,_.jsxs)(i.hzk,{id:"modal-content",textAlign:"center","data-testid":"custom-field-modal",maxHeight:"80%",overflowY:"auto",children:[(0,_.jsx)(i.xBx,{id:"modal-header",fontWeight:"semibold",lineHeight:5,fontSize:"sm",textAlign:"left",py:"18px",px:6,height:"56px",backgroundColor:"gray.50",borderColor:"gray.200",borderWidth:"0px 0px 1px 1p",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",boxSizing:"border-box",children:s?"Manage Custom Field":"Add a custom field"}),(0,_.jsx)(i.fef,{px:6,py:0,children:(0,_.jsx)(F.J9,{initialValues:k,validationSchema:E,onSubmit:Z,enableReinitialize:!0,validateOnChange:!0,children:function(e){return(0,_.jsx)(J,$({isEditing:D,validationSchema:E,isLoading:n,onClose:r,handleDropdownChange:L},e))}})})]})]})};function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var le="Add a custom field",ae=function(){return(0,_.jsx)(i.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",textAlign:"center",children:(0,_.jsxs)(i.gCW,{children:[(0,_.jsx)(i.xvT,{fontSize:"md",fontWeight:"600",children:"It looks like it\u2019s your first time here!"}),(0,_.jsxs)(i.xvT,{fontSize:"sm",children:["You haven\u2019t created any custom fields yet.",(0,_.jsx)("br",{}),"To create a custom field, click on the"," ",(0,_.jsxs)("strong",{children:['"',le,'"']})," button"]})]})})},ce=(0,p.Cl)(),ue=function(e){var t=(0,c.Z)({},e),r=(0,i.pmc)(),n=(0,w.GH)().isLoading,s=(0,b.C)(w.fN),u=(0,w.UF)(),g=(0,a.Z)(u,1)[0],y=(0,i.qY0)(),O=y.isOpen,C=y.onClose,P=y.onOpen,k=(0,o.useState)(),L=k[0],Z=k[1],R=(0,o.useState)(),A=R[0],I=R[1],N=(0,h.Tg)([j.Sh.CUSTOM_FIELD_UPDATE]),U=(0,h.Tg)([j.Sh.CUSTOM_FIELD_DELETE]),F=function(e){N&&(Z(e),P())},M=function(){var e=(0,l.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U||!t.id){e.next=8;break}return e.next=3,g({id:t.id});case 3:if(n=e.sent,!(0,m.D4)(n)){e.next=7;break}return r((0,v.Vo)((0,m.e$)(n.error))),e.abrupt("return");case 7:r((0,v.t5)("Custom field deleted"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=(0,o.useMemo)((function(){return[ce.accessor((function(e){return e.name}),{id:"name",cell:E,header:function(e){return(0,_.jsx)(x.Rr,se({value:"Label"},e))}}),ce.accessor((function(e){return e.description}),{id:"description",cell:E,header:function(e){return(0,_.jsx)(x.Rr,se({value:"Description"},e))}}),ce.accessor((function(e){return e.field_type}),{id:"field_type",cell:T,header:function(e){return(0,_.jsx)(x.Rr,se({value:"Field Type"},e))}}),ce.accessor((function(e){return e.resource_type}),{id:"resource_type",cell:S,header:function(e){return(0,_.jsx)(x.Rr,se({value:"Locations"},e))}}),N&&ce.accessor((function(e){return e.active}),{id:"enable",cell:D,header:function(e){return(0,_.jsx)(x.Rr,se({value:"Enable"},e))},meta:{disableRowClick:!0}}),(N||U)&&ce.display({id:"actions",header:"Actions",cell:function(e){var t=e.row;return(0,_.jsx)(z,{customField:t.original,onEdit:F,onDelete:M})},meta:{disableRowClick:!0}})].filter(Boolean)}),[U,N]),q=(0,f.b7)({getCoreRowModel:(0,p.sC)(),getFilteredRowModel:(0,p.vL)(),getSortedRowModel:(0,p.tj)(),onGlobalFilterChange:I,globalFilterFn:"includesString",columns:H,data:s,state:{globalFilter:A}}),V=function(){return(0,_.jsx)(h.ZP,{scopes:[j.Sh.CUSTOM_FIELD_DEFINITION_CREATE],children:(0,_.jsx)(i.zxk,{size:"xs",colorScheme:"primary","data-testid":"add-custom-field-btn",onClick:P,children:le})})};return(0,_.jsxs)(i.xuv,se(se({},t),{},{children:[(0,_.jsx)(i.xuv,{maxWidth:600,children:(0,_.jsx)(i.xvT,{mb:10,fontSize:"sm",children:s.length>0?"Custom fields enable you to capture metrics specific to your organization and have those metrics appear in the data map and in reports.":"Custom fields provide organizations with the capability to capture metrics that are unique to their specific needs, allowing them to create customized reports. These fields can be added to either systems or elements within a taxonomy, and once added, they become reportable fields that are visible on the data map."})}),(0,_.jsxs)(i.xuv,{"data-testid":"custom-fields-page",children:[(0,_.jsxs)(x.Q$,{children:[(0,_.jsx)(x.HO,{globalFilter:A,setGlobalFilter:I,placeholder:"Search for a custom field"}),(0,_.jsx)(i.Ugi,{alignItems:"center",spacing:4,children:(0,_.jsx)(V,{})})]}),n?(0,_.jsx)(i.xuv,{p:2,borderWidth:1,children:(0,_.jsx)(x.I4,{rowHeight:26,numRows:10})}):(0,_.jsx)(x.ZK,{tableInstance:q,onRowClick:N?F:void 0,emptyTableNotice:(0,_.jsx)(ae,{}),enableSorting:!0}),O&&(0,_.jsx)(ie,{customField:L,isOpen:O,onClose:function(){Z(void 0),C()},isLoading:!1})]})]}))},de=function(){return(0,_.jsx)(n.Z,{title:"Custom fields",children:(0,_.jsxs)(i.xuv,{"data-testid":"custom-fields-management",children:[(0,_.jsx)(i.X6q,{marginBottom:4,fontSize:"2xl",children:"Manage custom fields"}),(0,_.jsx)(ue,{})]})})}},70378:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/custom-fields",function(){return r(2964)}])}},function(e){e.O(0,[146,9938,2547,9774,2888,179],(function(){return t=70378,e(e.s=t);var t}));var t=e.O();_N_E=t}]);