(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8905],{14565:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return E}});var t=n(28841),i=n(86677),u=n(27378),a=n(90849),s=n(55732),c=n(97865),o=n(34707),d=n.n(o),l=n(60245),f=n(27153),p=n(45802),v=n(63238),b=n(4938),h=n(30002),j=n(24246);function y(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function O(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?y(Object(n),!0).forEach((function(r){(0,a.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var _=function(e){var r=function(e){var r,n,t,i,u=(0,l.v9)(p.dy),a=(0,h.Gl)(),o=(0,c.Z)(a,1)[0],f={username:null!==(r=e.username)&&void 0!==r?r:"",email_address:null!==(n=e.email_address)&&void 0!==n?n:"",first_name:null!==(t=e.first_name)&&void 0!==t?t:"",last_name:null!==(i=e.last_name)&&void 0!==i?i:"",password:"",id:e.id},j=function(){var r=(0,s.Z)(d().mark((function r(n){var t;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=O(O({},e),n),r.abrupt("return",o(t));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),y=!!u&&u.id===e.id,_=(0,v.Tg)([b.Sh.USER_UPDATE]);return{handleSubmit:j,isOwnProfile:y,canUpdateUser:!!y||_,initialValues:f}}(e.user),n=r.handleSubmit,t=r.canUpdateUser,i=r.initialValues;return(0,j.jsx)("div",{children:(0,j.jsx)("main",{children:(0,j.jsx)(f.Z,{onSubmit:n,initialValues:i,canEditNames:t})})})},m=n(72086),w=n(6848),E=function(){var e=(0,i.useRouter)(),r=(0,w.T)(),n="";n=e.query.id?Array.isArray(e.query.id)?e.query.id[0]:e.query.id:"";var a=(0,h.Fk)(n),s=a.data,c=a.isLoading,o=(0,w.C)(p.dy),d=!(!o||!s)&&o.id===s.id,l=(0,v.Tg)([b.Sh.USER_UPDATE])||d;return(0,u.useEffect)((function(){s&&r((0,h.Vv)(s.id))}),[r,s,l]),(0,u.useEffect)((function(){s&&!l&&e.push("/")}),[e,l,s]),c?(0,j.jsx)(m.Z,{children:(0,j.jsx)(t.$jN,{})}):null==s?(0,j.jsx)(m.Z,{children:"Could not find profile ID."}):(0,j.jsx)(m.Z,{children:(0,j.jsx)(_,{user:s})})}},16967:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user-management/profile/[id]",function(){return n(14565)}])}},function(e){e.O(0,[4301,2373,9774,2888,179],(function(){return r=16967,e(e.s=r);var r}));var r=e.O();_N_E=r}]);