"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2547],{96156:function(e,r,t){t.d(r,{l:function(){return o}});var n=t(28841),i=t(24246),o=(0,n.IUT)({displayName:"TrashCanSolidIcon",viewBox:"0 0 12 15",path:(0,i.jsx)("path",{d:"M8.37857 1.18083C8.23393 0.892838 7.93661 0.710938 7.6125 0.710938H4.3875C4.06339 0.710938 3.76607 0.892838 3.62143 1.18083L3.42857 1.56094H0.857143C0.383036 1.56094 -1.19209e-07 1.94158 -1.19209e-07 2.41094C-1.19209e-07 2.8803 0.383036 3.26094 0.857143 3.26094H11.1429C11.6162 3.26094 12 2.8803 12 2.41094C12 1.94158 11.6162 1.56094 11.1429 1.56094H8.57143L8.37857 1.18083ZM11.167 4.11094H0.857143V12.6109C0.857143 13.5486 1.62589 14.3109 2.57143 14.3109H9.45268C10.3754 14.3109 11.167 13.5486 11.167 12.6109V4.11094ZM9.02411 6.23594V12.1859C9.02411 12.4197 8.80714 12.6109 8.59554 12.6109C8.33571 12.6109 8.16696 12.4197 8.16696 12.1859V6.23594C8.16696 6.00219 8.33571 5.81094 8.59554 5.81094C8.80714 5.81094 9.02411 6.00219 9.02411 6.23594ZM6.45268 6.23594V12.1859C6.45268 12.4197 6.23571 12.6109 6.02411 12.6109C5.76429 12.6109 5.57143 12.4197 5.57143 12.1859V6.23594C5.57143 6.00219 5.76429 5.81094 6.02411 5.81094C6.23571 5.81094 6.45268 6.00219 6.45268 6.23594ZM3.85714 6.23594V12.1859C3.85714 12.4197 3.66429 12.6109 3.42857 12.6109C3.19286 12.6109 3 12.4197 3 12.1859V6.23594C3 6.00219 3.19286 5.81094 3.42857 5.81094C3.66429 5.81094 3.85714 6.00219 3.85714 6.23594Z",fill:"currentColor"})})},83640:function(e,r,t){t.d(r,{s:function(){return p}});var n=t(90849),i=t(97865),o=t(90089),s=t(28841),l=t(34090),a=t(24246),u=["customLabelProps","disabled","displayHelpIcon","helpIconVisibility","isRequired","label","type"];function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var p={color:"gray.600",fontSize:"14px",fontWeight:"semibold",minWidth:"150px"};r.Z=function(e){var r=e.customLabelProps,t=e.disabled,n=void 0!==t&&t,c=e.displayHelpIcon,f=void 0===c||c,m=e.helpIconVisibility,v=void 0!==m&&m,x=e.isRequired,b=void 0!==x&&x,h=e.label,j=e.type,g=void 0===j?"text":j,y=(0,o.Z)(e,u),O=(0,l.U$)(y),C=(0,i.Z)(O,2),w=C[0],_=C[1],P="custom-input-".concat(w.name);return(0,a.jsxs)(s.NIc,{display:"flex",isRequired:b,isInvalid:!(!_.error||!_.touched),children:[h&&(0,a.jsx)(s.lXp,d(d({htmlFor:y.id||y.name},r||p),{},{children:h})),(0,a.jsxs)(s.gCW,{align:"flex-start",w:"inherit",children:["number"===g&&(0,a.jsxs)(s.Y2U,{allowMouseWheel:!0,color:"gray.700",defaultValue:0,min:0,size:"sm",children:[(0,a.jsx)(s.zuI,d(d({},w),{},{autoComplete:"off",autoFocus:y.autoFocus,"data-testid":P})),(0,a.jsxs)(s.FiK,{children:[(0,a.jsx)(s.WQu,{}),(0,a.jsx)(s.Y_d,{})]})]}),"text"===g&&(0,a.jsx)(s.IIB,d(d({},w),{},{autoComplete:"off",autoFocus:y.autoFocus,color:"gray.700",isDisabled:n,placeholder:y.placeholder,size:"sm","data-testid":P})),"textarea"===g&&(0,a.jsx)(s.gxH,d(d({},w),{},{autoComplete:"off",autoFocus:y.autoFocus,color:"gray.700",placeholder:y.placeholder,resize:"none",size:"sm",value:w.value||"","data-testid":P})),(0,a.jsx)(s.J1D,{children:_.error})]}),f&&(0,a.jsx)(s.kCb,{alignContent:"center",h:"32px",visibility:v?"visible":"hidden",children:(0,a.jsx)(s.ITP,{marginLeft:"8px",_hover:{cursor:"pointer"}})})]})}},49416:function(e,r,t){t.d(r,{k:function(){return o}});var n=t(76649),i=function(e){return(0,n.Ln)({id:"string"},e)},o=function(e){return(null!==e&&void 0!==e?e:[]).filter(i)}},1261:function(e,r,t){t.d(r,{m:function(){return x}});var n=t(55732),i=t(73679),o=t(90849),s=t(97865),l=t(34707),a=t.n(l),u=t(27378),c=t(90768),d=t(9408),p=t(44047),f=t(49416);function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var x=function(e){var r=e.resourceFidesKey,t=e.resourceType,o=(0,d.VY)().errorAlert,l=(0,c.hz)().plus,m=(0,u.useMemo)((function(){return null!==r&&void 0!==r?r:""}),[]),x=(0,p.YU)(!0,{skip:!l}),b=(0,p.VN)(t,{skip:!l}),h=(0,p.PV)(null!==r&&void 0!==r?r:"",{skip:""!==m&&!(l&&m)}),j=h.data,g=h.isLoading,y=h.error,O=h.isError,C=(0,p._D)(),w=(0,s.Z)(C,1)[0],_=x.isLoading||b.isLoading||g,P=(0,u.useMemo)((function(){return new Map((0,f.k)(x.data).map((function(e){var r;return[e.id,v(v({},e),{},{options:(null!==(r=e.allowed_values)&&void 0!==r?r:[]).map((function(e){return{value:e,label:e}}))})]})))}),[x.data]),S=(0,u.useMemo)((function(){var e;return null===(e=b.data)||void 0===e?void 0:e.filter((function(e){return e.active}))}),[b.data]),D=(0,u.useMemo)((function(){return new Map((0,f.k)(S).map((function(e){return[e.id,e]})))}),[S]),T=(0,u.useMemo)((function(){return O&&404===(null===y||void 0===y?void 0:y.status)?new Map:new Map((0,f.k)(j).map((function(e){return[e.custom_field_definition_id,e]})))}),[j,O,y]),k=(0,u.useMemo)((function(){var e=(0,i.Z)(D.keys());return e.sort(),e}),[D]),E=(0,u.useMemo)((function(){var e={};return S&&T&&S.forEach((function(r){var t=T.get(r.id||"");t&&(r.allow_list_id&&"string[]"===r.field_type?e[t.custom_field_definition_id]=t.value:e[t.custom_field_definition_id]=t.value.toString())})),e}),[S,T]),A=(0,u.useCallback)(function(){var e=(0,n.Z)(a().mark((function e(n){var i,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:if(i="fides_key"in n&&""!==n.fides_key?n.fides_key:r){e.next=5;break}return e.abrupt("return");case 5:if((s=n.customFieldValues)&&0!==Object.keys(s).length){e.next=8;break}return e.abrupt("return");case 8:return u=[],c=[],k.forEach((function(e){var r=T.get(e),t=s[e];void 0===t||""===t||Array.isArray(t)&&0===t.length?null!==r&&void 0!==r&&r.id&&c.push(r.id):u.push({custom_field_definition_id:e,resource_id:i,id:null===r||void 0===r?void 0:r.id,value:t})})),e.prev=11,e.next=14,w({resource_type:t,resource_id:i,upsert:u,delete:c});case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(11),o("One or more custom fields have failed to save, please try again."),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(r){return e.apply(this,arguments)}}(),[l,T,o,r,k,w,t]);return{customFieldValues:E,definitionIdToCustomField:T,idToAllowListWithOptions:P,idToCustomFieldDefinition:D,isEnabled:l,isLoading:_,sortedCustomFieldDefinitionIds:k,upsertCustomFields:A}}},7280:function(e,r,t){t.d(r,{d:function(){return o}});var n=t(28841),i=t(24246),o=(0,n.IUT)({displayName:"AddIcon",viewBox:"0 0 10 10",path:(0,i.jsx)("path",{d:"M4.33331 4.33398V0.333984H5.66665V4.33398H9.66665V5.66732H5.66665V9.66732H4.33331V5.66732H0.333313V4.33398H4.33331Z",fill:"currentColor"})})},82547:function(e,r,t){t.d(r,{uc:function(){return N},Hn:function(){return C},Uv:function(){return y},C7:function(){return w},mZ:function(){return M.m}});var n=t(90849),i=t(55732),o=t(97865),s=t(34707),l=t.n(s),a=t(28841),u=t(34090),c=t(27378),d=t(78624),p=t(9408),f=t(44047),m=t(24246),v=function(e){var r=e.children;return(0,m.jsx)(a.gCW,{alignItems:"stretch",flexShrink:0,gap:"18px",overflow:"auto",children:r})};function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var h,j={customFieldDefinitions:[]},g=((0,a.Gpc)((function(e,r){var t=e.onSubmitComplete,n=e.resourceType,s=(0,p.VY)(),x=s.errorAlert,h=s.successAlert,g=(0,c.useRef)(null),y=(0,f.VN)(n),O=y.data,C=y.isFetching,w=y.isLoading,_=y.isSuccess,P=(0,f.yM)(),S=(0,o.Z)(P,1)[0];j.customFieldDefinitions=(0,c.useMemo)((function(){return O||[]}),[O]);var D=function(){var e=(0,i.Z)(l().mark((function e(r,n){var i,o,s,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(o=r.customFieldDefinitions.filter((function(e){return j.customFieldDefinitions.some((function(r){return r.id===e.id&&r.active!==e.active}))}))).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Promise.all(o.map((function(e){return S(e)})));case 5:s=e.sent,"error"in(a=null!==(i=s.find((function(e){return"error"in e})))&&void 0!==i?i:s[0])?x((0,d.e$)(a.error),"One or more custom field(s) failed to update due to the following:",{containerStyle:{maxWidth:"max-content"}}):(n.resetForm(),h("Custom field(s) successfully saved")),t();case 9:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();return(0,c.useImperativeHandle)(r,(function(){return{getDirty:function(){var e=!1;return g.current&&(e=g.current.dirty),e},submitForm:function(){g.current&&g.current.submitForm()}}}),[]),(0,m.jsxs)(v,{children:[(C||w)&&(0,m.jsx)(a.M5Y,{children:(0,m.jsx)(a.$jN,{})}),_&&O&&(0,m.jsx)(u.J9,{enableReinitialize:!0,initialValues:j,innerRef:g,onSubmit:D,validationOnBlur:!1,validationOnChange:!1,children:function(e){return(0,m.jsx)(u.l0,{"data-testid":"choose-from-library-form",noValidate:!0,children:(0,m.jsx)(a.kCb,{flexDirection:"column",gap:"12px",paddingTop:"6px",paddingBottom:"24px",children:(0,m.jsx)(u.F2,{name:"customFieldDefinitions",render:function(){var r=e.values.customFieldDefinitions;return(0,m.jsx)(a.kCb,{flexDirection:"column",gap:"24px",children:(0,m.jsx)(a.kCb,{flexDirection:"column",children:r.map((function(e,r){return(0,m.jsxs)(a.kCb,{alignItems:"baseline",flexGrow:1,gap:"12px",mt:r>0?"12px":void 0,mr:"16px",children:[(0,m.jsx)(a.NIc,{display:"flex",children:(0,m.jsx)(a.lXp,{htmlFor:"customFieldDefinitions[".concat(r,"]"),color:"gray.600",fontSize:"14px",fontWeight:"medium",minWidth:"150px",children:e.name})}),(0,m.jsx)(a.LZC,{}),(0,m.jsx)(u.gN,{name:"customFieldDefinitions[".concat(r,"].active"),children:function(r){var t=r.field;return(0,m.jsx)(a.rsf,b(b({},t),{},{colorScheme:"secondary",isChecked:e.active,onChange:function(e){t.onChange(e)},size:"sm"}))}})]},e.id)}))})})}})})})}})]})})),t(4938));!function(e){e[e.CREATE_CUSTOM_FIELDS=0]="CREATE_CUSTOM_FIELDS",e[e.CREATE_CUSTOM_LISTS=1]="CREATE_CUSTOM_LISTS",e[e.CHOOSE_FROM_LIBRARY=2]="CHOOSE_FROM_LIBRARY"}(h||(h={}));var y,O=[{label:"Single select",value:g.AL.STRING},{label:"Multiple select",value:g.AL.STRING_}];!function(e){e.SINGLE_SELECT="singleSelect",e.MULTIPLE_SELECT="multipleSelect",e.OPEN_TEXT="openText"}(y||(y={}));var C=[{label:"Single select",value:y.SINGLE_SELECT},{label:"Multiple select",value:y.MULTIPLE_SELECT},{label:"Open Text",value:y.OPEN_TEXT}],w=[{label:"taxonomy:".concat(g.P6.DATA_CATEGORY),value:g.P6.DATA_CATEGORY},{label:"taxonomy:".concat(g.P6.DATA_SUBJECT),value:g.P6.DATA_SUBJECT},{label:"taxonomy:".concat(g.P6.DATA_USE),value:g.P6.DATA_USE},{label:"".concat(g.P6.SYSTEM,":information"),value:g.P6.SYSTEM},{label:"system:data use",value:g.P6.PRIVACY_DECLARATION}],_=t(76649),P=t(14633),S=t(43139),D=t(83640);function T(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?T(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var E={active:!0,allow_list_id:void 0,description:void 0,field_type:g.AL.STRING,name:"",resource_type:g.P6.DATA_CATEGORY},A=P.Ry().shape({allow_list_id:P.Z_().required("Select custom list is required"),name:P.Z_().required("Name is required").trim()}),I=((0,a.Gpc)((function(e,r){var t,n=e.onSubmitComplete,s=e.resourceType,x=(0,p.VY)(),b=x.errorAlert,h=x.successAlert,j=(0,c.useRef)(null),g=(0,f.YU)(!1).data,y=(0,f.Ld)(),C=(0,o.Z)(y,1)[0],P=function(){var e=(0,i.Z)(l().mark((function e(r,t){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(r);case 2:"error"in(i=e.sent)?b((0,d.e$)(i.error),"Custom field has failed to save due to the following:"):(t.resetForm(),h("Custom field successfully saved")),n();case 5:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),T=(0,c.useMemo)((function(){return(null!==g&&void 0!==g?g:[]).filter((0,_.uX)({name:"string",id:"string"})).map((function(e){return{label:e.name,value:e.id}}))}),[g]);(0,c.useImperativeHandle)(r,(function(){return{getDirty:function(){var e=!1;return j.current&&(e=j.current.dirty),e},submitForm:function(){j.current&&j.current.submitForm()}}}),[]);var I=k(k({},E),{},{resource_type:s,allow_list_id:null===(t=T[0])||void 0===t?void 0:t.value});return(0,m.jsx)(v,{children:(0,m.jsx)(u.J9,{enableReinitialize:!0,initialValues:I,innerRef:j,onSubmit:P,validationOnBlur:!1,validationOnChange:!1,validationSchema:A,children:function(e){return(0,m.jsxs)(u.l0,{"data-testid":"create-custom-fields-form",noValidate:!0,children:[(0,m.jsxs)(a.kCb,{flexDirection:"column",gap:"12px",paddingTop:"6px",paddingBottom:"24px",children:[(0,m.jsx)(D.Z,{displayHelpIcon:!1,isRequired:!0,label:"Name",name:"name",placeholder:""}),(0,m.jsx)(D.Z,{displayHelpIcon:!1,height:"100px",label:"Description",name:"description",placeholder:"",type:"textarea"}),(0,m.jsx)(S.AP,{label:"Field type",labelProps:D.s,name:"field_type",options:O}),(0,m.jsx)(S.AP,{isRequired:!0,label:"Select custom list",labelProps:D.s,menuPosition:"fixed",name:"allow_list_id",options:T}),(0,m.jsx)(S.AP,{isDisabled:!0,label:"Resource type",labelProps:D.s,name:"resource_type",options:w})]}),(0,m.jsxs)(a.kCb,{background:"gray.50",border:"1px solid",borderColor:"gray.200",borderRadius:"6px",flexDirection:"column",gap:"4px",padding:"16px",children:[(0,m.jsxs)(a.kCb,{children:[(0,m.jsx)(a.xvT,{color:"gray.600",fontWeight:"semibold",lineHeight:"20px",size:"sm",children:"Show in forms and reports"}),(0,m.jsx)(a.LZC,{}),(0,m.jsx)(u.gN,{name:"active",children:function(r){var t=r.field;return(0,m.jsx)(a.rsf,k(k({},t),{},{colorScheme:"secondary",isChecked:e.values.active,onChange:function(e){t.onChange(e)},size:"sm"}))}})]}),(0,m.jsx)(a.xvT,{color:"gray.600",fontWeight:"light",lineHeight:"20px",size:"sm",children:"Turn this off to hide this field from this form and data map reports. You can turn hidden fields back on at any time from the library tab."})]})]})}})})})),t(96156)),F=t(7280),L={allowed_values:[""],description:void 0,id:void 0,name:""},R=P.Ry().shape({name:P.Z_().required("Name is required").trim(),allowed_values:P.IX(P.Z_().required("List item is required")).min(1,"Must add at least one list value").label("allowed_values")}),Z=((0,a.Gpc)((function(e,r){var t=e.onSubmitComplete,n=(0,p.VY)(),s=n.errorAlert,x=n.successAlert,b=(0,c.useRef)(null),h=(0,c.useRef)(null),j=(0,c.useState)(!1),g=j[0],y=j[1],O=(0,f.Nt)(),C=(0,o.Z)(O,1)[0],w=function(){var e=(0,i.Z)(l().mark((function e(r,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(new Set(r.allowed_values.map((function(e){return e.toLowerCase().trim()})).map((function(e){return e}))).size<r.allowed_values.length)){e.next=4;break}return s("List item value must be unique"),e.abrupt("return");case 4:return e.next=6,C(r);case 6:"error"in(i=e.sent)?s((0,d.e$)(i.error),"Custom list has failed to save due to the following:"):(n.resetForm(),x("Custom list successfully saved")),t();case 9:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){g&&h.current&&(h.current.scrollIntoView({behavior:"smooth"}),y(!1))}),[g]),(0,c.useImperativeHandle)(r,(function(){return{getDirty:function(){var e=!1;return b.current&&(e=b.current.dirty),e},submitForm:function(){b.current&&b.current.submitForm()}}}),[]),(0,m.jsx)(v,{children:(0,m.jsx)(u.J9,{enableReinitialize:!0,initialValues:L,innerRef:b,onSubmit:w,validationOnBlur:!1,validationOnChange:!1,validationSchema:R,children:function(e){return(0,m.jsx)(u.l0,{"data-testid":"create-custom-lists-form",noValidate:!0,children:(0,m.jsxs)(a.kCb,{flexDirection:"column",gap:"12px",paddingTop:"6px",paddingBottom:"24px",children:[(0,m.jsx)(D.Z,{displayHelpIcon:!1,isRequired:!0,label:"Name",name:"name",placeholder:""}),(0,m.jsx)(D.Z,{displayHelpIcon:!1,height:"100px",label:"Description",name:"description",placeholder:"",type:"textarea"}),(0,m.jsx)(u.F2,{name:"allowed_values",render:function(r){var t=e.values.allowed_values;return(0,m.jsxs)(a.kCb,{flexDirection:"column",gap:"24px",pl:"24px",children:[(0,m.jsx)(a.kCb,{flexDirection:"column",children:t.map((function(e,n){return(0,m.jsxs)(a.kCb,{flexGrow:1,gap:"12px",mt:n>0?"12px":void 0,ref:h,children:[(0,m.jsx)(D.Z,{customLabelProps:{color:"gray.600",fontSize:"sm",fontWeight:"500",lineHeight:"20px",minW:"126px",pr:"8px"},displayHelpIcon:!1,isRequired:!0,label:"List item ".concat(n+1),name:"allowed_values[".concat(n,"]")}),(0,m.jsx)(a.hU,{"aria-label":"Remove this list value","data-testid":"remove-list-value-btn-".concat(n),icon:(0,m.jsx)(I.l,{}),isDisabled:t.length<=1,onClick:function(){return r.remove(n)},size:"sm",variant:"ghost"})]},n)}))}),(0,m.jsxs)(a.kCb,{alignItems:"center",children:[(0,m.jsx)(a.xvT,{color:"gray.600",fontSize:"xs",fontWeight:"500",lineHeight:"16px",pr:"8px",children:"Add a list value"}),(0,m.jsx)(a.hU,{"aria-label":"Add a list value","data-testid":"add-list-value-btn",icon:(0,m.jsx)(F.d,{h:"7px",w:"7px"}),onClick:function(){r.push(""),y(!0)},size:"xs",variant:"outline"}),0===t.length&&(0,m.jsx)(a.xvT,{color:"red.500",pl:"18px",size:"sm",children:e.errors.allowed_values})]})]})}})]})})}})})})),t(62400)),M=t(1261);function V(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function H(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?V(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var N=function(e){var r=e.resourceFidesKey,t=e.resourceType,n=(0,M.m)({resourceFidesKey:r,resourceType:t}),i=n.idToAllowListWithOptions,o=n.idToCustomFieldDefinition,s=n.isEnabled,l=n.isLoading,c=n.sortedCustomFieldDefinitionIds;return s&&0!==c.length?(0,m.jsx)(Z.Z,{heading:"Custom fields",children:(0,m.jsx)(a.kCb,{flexDir:"column","data-testid":"custom-fields-list",children:(0,m.jsx)(a.kCb,{flexDir:"column",gap:"24px",children:l?(0,m.jsx)(a.M5Y,{children:(0,m.jsx)(a.$jN,{})}):c.length>0&&(0,m.jsx)(a.kCb,{flexDirection:"column",gap:"12px",paddingBottom:"24px",children:c.map((function(e){var r=o.get(e);if(!r)return null;var t="customFieldValues.".concat(r.id);if(!r.allow_list_id&&r.field_type===g.AL.STRING)return(0,m.jsx)(u.gN,{name:t,children:function(e){var t=e.field;return(0,m.jsx)(S.j0,H(H({},t),{},{label:r.name,tooltip:r.description,variant:"stacked"}))}},e);var n=i.get(r.allow_list_id);if(!n)return null;var s=n.options;return(0,m.jsx)(u.gN,{name:t,children:function(e){var t=e.field;return(0,m.jsx)(S.AP,H(H({},t),{},{isClearable:!0,isFormikOnChange:!0,isMulti:r.field_type!==g.AL.STRING,label:r.name,options:s,tooltip:r.description,variant:"stacked"}))}},e)}))})})})}):null};t(49416)},9408:function(e,r,t){t.d(r,{HK:function(){return o},VY:function(){return n.V},O3:function(){return l}});var n=t(36653),i=t(78624),o=function(){var e=(0,n.V)().errorAlert;return{handleError:function(r){var t="An unexpected error occurred. Please try again.";(0,i.Ot)(r)?t=r.data.detail:(0,i.tB)(r)&&(t=r.data.detail[0].msg),e(t)}}},s=t(27378),l=function(e){var r=(0,s.useRef)(void 0);return(0,s.useEffect)((function(){var t=function(t){var n;null!==(n=r.current)&&void 0!==n&&n.contains(t.target)||e()};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[r,e]),{ref:r}}},36653:function(e,r,t){t.d(r,{V:function(){return a}});var n=t(90849),i=t(28841),o=t(24246);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var a=function(){var e=(0,i.pmc)();return{errorAlert:function(r,t,n){var s=l(l({},n),{},{position:(null===n||void 0===n?void 0:n.position)||"top",render:function(e){var n=e.onClose;return(0,o.jsxs)(i.bZj,{alignItems:"normal",status:"error",children:[(0,o.jsx)(i.zMQ,{}),(0,o.jsxs)(i.xuv,{children:[t&&(0,o.jsx)(i.CdC,{children:t}),(0,o.jsx)(i.XaZ,{children:r})]}),(0,o.jsx)(i.PZ7,{onClick:n,position:"relative",right:0,size:"sm",top:-1})]})}});null!==n&&void 0!==n&&n.id&&e.isActive(n.id)?e.update(n.id,s):e(s)},successAlert:function(r,t,n){var s=l(l({},n),{},{position:(null===n||void 0===n?void 0:n.position)||"top",render:function(e){var n=e.onClose;return(0,o.jsxs)(i.bZj,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,o.jsx)(i.zMQ,{}),(0,o.jsxs)(i.xuv,{children:[t&&(0,o.jsx)(i.CdC,{children:t}),(0,o.jsx)(i.XaZ,{children:r})]}),(0,o.jsx)(i.PZ7,{onClick:n,position:"relative",right:0,size:"sm",top:-1})]})}});null!==n&&void 0!==n&&n.id&&e.isActive(n.id)?e.update(n.id,s):e(s)}}}},62400:function(e,r,t){var n=t(28841),i=t(24246);r.Z=function(e){var r=e.heading,t=e.HeadingButton,o=e.children;return(0,i.jsx)(n.Kqy,{spacing:4,children:(0,i.jsxs)(n.xuv,{maxWidth:"720px",border:"1px",borderColor:"gray.200",borderRadius:6,overflow:"visible",mt:6,children:[(0,i.jsxs)(n.xuv,{backgroundColor:"gray.50",px:6,py:4,display:"flex",flexDirection:"row",alignItems:"center",borderBottom:"1px",borderColor:"gray.200",borderTopRadius:6,children:[(0,i.jsx)(n.X6q,{as:"h3",size:"xs",children:r}),t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.LZC,{}),(0,i.jsx)(t,{})]}):null]}),(0,i.jsx)(n.Kqy,{spacing:4,px:6,py:6,children:o})]})})}}}]);