"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3026],{10685:function(e,n,t){var i=t(28841),a=t(24246);n.Z=function(e){var n=e.title,t=e.text;return(0,a.jsxs)(i.Ugi,{backgroundColor:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",py:4,px:6,"data-testid":"empty-state",children:[(0,a.jsx)(i.iid,{alignSelf:"start",color:"blue.400",mt:.5}),(0,a.jsxs)(i.kCb,{direction:"column",gap:2,children:[(0,a.jsx)(i.X6q,{fontSize:"md",children:n}),(0,a.jsx)(i.xvT,{fontSize:"sm",color:"gray.600",lineHeight:"5",children:t})]})]})}},76281:function(e,n,t){var i=t(28841),a=t(27378),l=t(24246);n.Z=function(e){var n=e.handleConfirm,t=e.isOpen,r=e.onClose,o=e.title,c=e.message,s=e.confirmButtonText,d=void 0===s?"Continue":s,u=e.cancelButtonText,b=void 0===u?"Cancel":u,p=(0,a.useRef)(null);return(0,l.jsx)(i.aRR,{isOpen:t,leastDestructiveRef:p,onClose:r,children:(0,l.jsx)(i.dhV,{children:(0,l.jsxs)(i._Tf,{alignItems:"center",textAlign:"center",children:[(0,l.jsx)(i.aNP,{marginTop:3}),(0,l.jsx)(i.fYl,{fontSize:"lg",fontWeight:"bold",children:o}),(0,l.jsx)(i.iPF,{pt:0,children:c}),(0,l.jsxs)(i.xoY,{children:[(0,l.jsx)(i.zxk,{ref:p,onClick:r,variant:"outline",children:b}),(0,l.jsx)(i.zxk,{colorScheme:"primary","data-testid":"warning-modal-confirm-btn",ml:3,onClick:function(){return n()},children:d})]})]})})})}},56069:function(e,n,t){t.d(n,{R:function(){return p}});var i=t(90849),a=t(90089),l=t(28841),r=t(79894),o=t.n(r),c=t(24246),s=["backPath"],d=["onClick"];function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=function(e){var n=e.onClick,t=(0,a.Z)(e,d);return(0,c.jsxs)(l.kCb,b(b({alignItems:"center",mt:-4,mb:3,onClick:n,cursor:"pointer"},t),{},{children:[(0,c.jsx)(l.hU,{"aria-label":"Back",icon:(0,c.jsx)(l.Rpv,{}),mr:2,size:"xs",variant:"outline"}),(0,c.jsx)(l.xvT,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})]}))};n.Z=function(e){var n=e.backPath,t=(0,a.Z)(e,s);return(0,c.jsxs)(l.kCb,b(b({alignItems:"center",mb:6},t),{},{children:[(0,c.jsx)(o(),{href:n,passHref:!0,children:(0,c.jsx)(l.hU,{"aria-label":"Back",icon:(0,c.jsx)(l.Rpv,{}),mr:2,size:"xs",variant:"outline"})}),(0,c.jsx)(o(),{href:n,passHref:!0,children:(0,c.jsx)(l.xvT,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})})]}))}},45098:function(e,n,t){t.d(n,{RN:function(){return y},d0:function(){return k}});var i=t(73679),a=t(28841),l=t(34090),r=t(86677),o=t(27378),c=t(6848),s=t(43139),d=t(56069),u=t(60709),b=t(64429),p=t(85375),_=t(17165),v=t(74633),f=t(49601),m=t(15749),g=t(31589),j=t(4938),x=t(24246),h=[{label:"Banner and modal",value:j.re.BANNER_AND_MODAL},{label:"Modal",value:j.re.MODAL},{label:"Privacy center",value:j.re.PRIVACY_CENTER}],y=function(e){var n=e.buttonPanel,t=e.children;return(0,x.jsxs)(a.kCb,{direction:"column",minH:"full",w:"25%",borderRight:"1px solid #DEE5EE",children:[(0,x.jsx)(a.kCb,{direction:"column",h:"full",overflowY:"auto",px:4,children:(0,x.jsx)(a.kCb,{direction:"column",gap:4,w:"full",pb:4,children:t})}),n]})},k=function(e){var n,t,k,O,C=e.allPrivacyNotices,w=e.translationsEnabled,P=e.onSelectTranslation,q=e.onCreateTranslation,E=(0,r.useRouter)(),D=(0,o.useState)(!1),R=D[0],T=D[1],A=(0,l.u6)(),z=A.values,S=A.setFieldValue,Z=A.dirty,N=A.isValid,I=A.isSubmitting,L=(0,c.C)(m.Zp),B=(0,c.C)(m.G1);(0,m.J6)({page:L,size:B});(0,_.QM)();var F=(0,c.C)(_.P8),V=[].concat((0,i.Z)((0,v.TK)(F.locations)),(0,i.Z)((0,v.TK)(F.location_groups))),Y=(0,c.C)(f.fJ),M=(0,c.C)(g.Zp),U=(0,c.C)(g.G1);(0,g.gz)({page:M,size:U});var W=(0,c.C)(g.YO);if(R)return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.zxk,{onClick:function(){return T(!1)},children:"Back to main form"}),(0,x.jsx)(a.xvT,{children:"Editing experience style coming soon\u2122"})]});var K=(0,x.jsxs)(a.hE2,{size:"sm",borderTop:"1px solid #DEE5EE",p:4,children:[(0,x.jsx)(a.zxk,{variant:"outline",onClick:function(){return E.push(u.w0)},children:"Cancel"}),(0,x.jsx)(a.zxk,{type:"submit",colorScheme:"primary","data-testid":"save-btn",isDisabled:I||!Z||!N,isLoading:I,children:"Save"})]});return(0,x.jsxs)(y,{buttonPanel:K,children:[(0,x.jsx)(d.Z,{backPath:u.w0,mt:4}),(0,x.jsx)(a.X6q,{fontSize:"md",fontWeight:"semibold",children:"Configure experience"}),(0,x.jsx)(s.j0,{name:"name",id:"name",label:"Name (internal admin use only)",isRequired:!0,variant:"stacked"}),z.component!==j.re.TCF_OVERLAY?(0,x.jsx)(s.AP,{name:"component",id:"component",options:h,label:"Experience Type",variant:"stacked",isDisabled:!!z.component,isRequired:!0}):null,(0,x.jsx)(a.UO1,{in:z.component&&z.component!==j.re.PRIVACY_CENTER,animateOpacity:!0,children:(0,x.jsx)(a.xuv,{p:"1px",children:(0,x.jsx)(s.w8,{name:"dismissable",id:"dismissable",label:"Allow user to dismiss",variant:"stacked"})})}),(0,x.jsx)(p.Z,{label:"Associated properties",addButtonLabel:"Add property",idField:"id",nameField:"name",allItems:W.map((function(e){return{id:e.id,name:e.name}})),values:null!==(n=z.properties)&&void 0!==n?n:[],setValues:function(e){return S("properties",e)},draggable:!0,maxHeight:100,baseTestId:"property"}),(0,x.jsx)(a.izJ,{}),z.component!==j.re.TCF_OVERLAY?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.X6q,{fontSize:"md",fontWeight:"semibold",children:"Privacy notices"}),(0,x.jsx)(p.Z,{addButtonLabel:"Add privacy notice",allItems:C.map((function(e){return e.id})),values:null!==(t=z.privacy_notice_ids)&&void 0!==t?t:[],setValues:function(e){return S("privacy_notice_ids",e)},getItemLabel:function(e){var n,t=C.find((function(n){return n.id===e}));return null!==(n=null===t||void 0===t?void 0:t.name)&&void 0!==n?n:e},draggable:!0,baseTestId:"privacy-notice"}),(0,x.jsx)(a.izJ,{})]}):null,(0,x.jsx)(a.xvT,{as:"h2",fontWeight:"600",children:"Locations & Languages"}),(0,x.jsx)(p.Z,{label:"Locations for this experience",addButtonLabel:"Add location",allItems:V,values:null!==(k=z.regions)&&void 0!==k?k:[],setValues:function(e){return S("regions",e)},getItemLabel:function(e){return b.Z8[e]},draggable:!0,baseTestId:"location"}),w?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(p.Z,{label:"Languages for this experience",addButtonLabel:"Add language",values:null!==(O=z.translations)&&void 0!==O?O:[],setValues:function(e){return S("translations",e)},idField:"language",canDeleteItem:function(e){return!e.is_default},allItems:Y.slice().sort((function(e,n){return e.name.localeCompare(n.name)})).map((function(e){return{language:e.id,is_default:!1}})),getItemLabel:function(e){var n=Y.find((function(n){return n.id===e.language})),t=n?n.name:e.language;return"".concat(t).concat(e.is_default?" (Default)":"")},createNewValue:function(e){return q(e.value)},onRowClick:P,selectOnAdd:!0,draggable:!0,baseTestId:"language"}),(0,x.jsx)(s.w8,{name:"auto_detect_language",id:"auto_detect_language",label:"Auto detect language",variant:"stacked"})]}):(0,x.jsx)(a.zxk,{variant:"outline",size:"sm",rightIcon:(0,x.jsx)(a.mrv,{}),onClick:function(){return P(z.translations[0])},"data-testid":"edit-experience-btn",children:"Edit experience text"})]})}},83026:function(e,n,t){t.d(n,{f:function(){return h}});var i=t(90849),a=t(90089),l=t(28841),r=t(34090),o=t(98784),c=t(27378),s=t(43139),d=t(10685),u=t(76281),b=t(56069),p=t(74633),_=t(45098),v=t(4938),f=t(24246),m=["name"],g=["translations"];function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=function(e){var n=e.languageName;return(0,f.jsx)(d.Z,{text:"This is a default translation provided by Fides. If you've modified the default English language text, these translations will not match, so verify any changes with a native ".concat(n," speaker before using."),"data-testid":"oob-translation-notice"})};n.Z=function(e){var n,t,i,d,j,y,k,O,C=e.translation,w=e.translationsEnabled,P=e.isOOB,q=e.onReturnToMainForm,E=(0,r.u6)(),D=E.values,R=E.setFieldValue,T=E.errors,A=E.touched,z=E.setTouched,S=(0,c.useMemo)((function(){C.name;return(0,a.Z)(C,m)}),[C]),Z=!!S.title&&!P,N=(0,p.y3)(D.component),I=D.translations.findIndex((function(e){return e.language===C.language})),L=!(0,o.isEqual)(D.translations[I],S),B=(0,l.qY0)(),F=B.onOpen,V=B.isOpen,Y=B.onClose,M=(0,l.qY0)(),U=M.onOpen,W=M.isOpen,K=M.onClose,H=function(){L||P?F():q()},J=(0,f.jsxs)(l.hE2,{size:"sm",borderTop:"1px solid #DEE5EE",p:4,children:[(0,f.jsx)(l.zxk,{variant:"outline",onClick:H,"data-testid":"cancel-btn",children:"Cancel"}),(0,f.jsx)(l.zxk,{colorScheme:"primary",isDisabled:!L&&!P||!!T.translations,"data-testid":"save-btn",onClick:function(){D.translations[I].is_default&&!S.is_default?U():q()},children:Z?"Save":"Add translation"})]});return O=w?Z?"You have unsaved changes to this translation. Discard changes?":"This translation has not been added to your experience.  Discard translation?":"You have unsaved changes to this experience text. Discard changes?",(0,f.jsxs)(_.RN,{buttonPanel:J,children:[(0,f.jsx)(b.R,{onClick:H,mt:4}),(0,f.jsx)(u.Z,{isOpen:V,onClose:Y,title:w?"Translation not saved":"Text not saved",message:(0,f.jsx)(l.xvT,{children:O}),confirmButtonText:"Discard",handleConfirm:function(){var e=D.translations.slice();Z?e[I]=x(x({},S),{},{title:S.title,description:S.description}):e.splice(I,1),R("translations",e);A.translations;var n=(0,a.Z)(A,g);z(x({},n)),q()}}),(0,f.jsx)(l.X6q,{fontSize:"md",fontWeight:"semibold",children:w?"Edit ".concat(C.name," translation"):"Edit experience text"}),P?(0,f.jsx)(h,{languageName:C.name}):null,w&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.w8,{name:"translations.".concat(I,".is_default"),id:"translations.".concat(I,".is_default"),label:"Default language",isDisabled:S.is_default,variant:"stacked"}),(0,f.jsx)(u.Z,{isOpen:W,onClose:K,title:"Update default language",message:(0,f.jsx)(l.xvT,{children:"Are you sure you want to update the default language of this experience?"}),handleConfirm:function(){return function(e){var n=D.translations.map((function(n,t){return x(x({},n),{},{is_default:t===e})}));n.unshift(n.splice(e,1)[0]),R("translations",n),q()}(I)}})]}),(0,f.jsx)(s.j0,{name:"translations.".concat(I,".title"),id:"translations.".concat(I,".title"),label:"Title",isRequired:!0,variant:"stacked"}),(0,f.jsx)(s.Ks,{name:"translations.".concat(I,".description"),id:"translations.".concat(I,".description"),label:"Description",isRequired:!0,variant:"stacked"}),(D.component===v.re.BANNER_AND_MODAL||D.component===v.re.TCF_OVERLAY)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.j0,{name:"translations.".concat(I,".banner_title"),id:"translations.".concat(I,".banner_title"),label:"Banner title (optional)",tooltip:"A separate title for the banner (defaults to main title)",variant:"stacked"}),(0,f.jsx)(s.Ks,{name:"translations.".concat(I,".banner_description"),id:"translations.".concat(I,".banner_description"),label:"Banner description (optional)",tooltip:"A separate description for the banner (defaults to main description)",variant:"stacked"})]}),(0,f.jsx)(s.j0,{name:"translations.".concat(I,".accept_button_label"),id:"translations.".concat(I,".accept_button_label"),label:'"Accept" button label',isRequired:!0,variant:"stacked"}),(0,f.jsx)(s.j0,{name:"translations.".concat(I,".reject_button_label"),id:"translations.".concat(I,".reject_button_label"),label:'"Reject" button label',isRequired:!0,variant:"stacked"}),(null===(n=N.privacy_preferences_link_label)||void 0===n?void 0:n.included)&&(0,f.jsx)(s.j0,{name:"translations.".concat(I,".privacy_preferences_link_label"),id:"translations.".concat(I,".privacy_preferences_link_label"),label:'"Manage privacy preferences" button label',variant:"stacked",isRequired:null===(t=N.privacy_preferences_link_label)||void 0===t?void 0:t.required}),(null===(i=N.save_button_label)||void 0===i?void 0:i.included)&&(0,f.jsx)(s.j0,{name:"translations.".concat(I,".save_button_label"),id:"translations.".concat(I,".save_button_label"),label:'"Save" button label',variant:"stacked",isRequired:N.save_button_label.required}),(null===(d=N.acknowledge_button_label)||void 0===d?void 0:d.included)&&(0,f.jsx)(s.j0,{name:"translations.".concat(I,".acknowledge_button_label"),id:"translations.".concat(I,".acknowledge_button_label"),label:'"Acknowledge" button label',variant:"stacked",isRequired:N.acknowledge_button_label.required}),(null===(j=N.privacy_policy_link_label)||void 0===j?void 0:j.included)&&(0,f.jsx)(s.j0,{name:"translations.".concat(I,".privacy_policy_link_label"),id:"translations.".concat(I,".privacy_policy_link_label"),label:"Privacy policy link label (optional)",variant:"stacked"}),(null===(y=N.privacy_policy_url)||void 0===y?void 0:y.included)&&(0,f.jsx)(s.j0,{name:"translations.".concat(I,".privacy_policy_url"),id:"translations.".concat(I,".privacy_policy_url"),label:"Privacy policy link URL (optional)",variant:"stacked"}),(null===(k=N.modal_link_label)||void 0===k?void 0:k.included)&&(0,f.jsx)(s.j0,{name:"translations.".concat(I,".modal_link_label"),id:"translations.".concat(I,".modal_link_label"),label:"Trigger link label (optional)",tooltip:"Include text here if you would like the Fides CMP to manage the copy of the button that is included on your site to open the CMP.",variant:"stacked"})]})}},74633:function(e,n,t){t.d(n,{DD:function(){return d},Go:function(){return u},TK:function(){return s},Uv:function(){return b},y3:function(){return p}});var i=t(90849),a=t(90089),l=t(4938),r=["created_at","updated_at","privacy_notices","origin","id"];function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var s=function(e){var n;return null!==(n=null===e||void 0===e?void 0:e.filter((function(e){return e.selected})).map((function(e){return e.id})))&&void 0!==n?n:[]},d={name:"",disabled:!1,allow_language_selection:!1,regions:[],translations:[{language:l.eU.EN,is_default:!0,title:"Title",description:"Description",accept_button_label:"Accept",reject_button_label:"Reject",save_button_label:"Save",acknowledge_button_label:"OK",privacy_preferences_link_label:"Privacy Preferences"}]},u=function(e,n){var t=n.find((function(n){return n.id===e.language}));return t?t.name:e.language},b=function(e){e.created_at,e.updated_at;var n=e.privacy_notices;e.origin,e.id;return c(c({},(0,a.Z)(e,r)),{},{privacy_notice_ids:n?n.map((function(e){return e.id})):[],translations:e.translations?e.translations.map((function(e){return function(e){var n,t,i,a,l,r,o,c;return{language:e.language,is_default:e.is_default,accept_button_label:e.accept_button_label,reject_button_label:e.reject_button_label,title:e.title,description:e.description,acknowledge_button_label:null!==(n=e.acknowledge_button_label)&&void 0!==n?n:void 0,banner_title:null!==(t=e.banner_title)&&void 0!==t?t:void 0,banner_description:null!==(i=e.banner_description)&&void 0!==i?i:void 0,privacy_policy_link_label:null!==(a=e.privacy_policy_link_label)&&void 0!==a?a:void 0,privacy_policy_url:null!==(l=e.privacy_policy_url)&&void 0!==l?l:void 0,privacy_preferences_link_label:null!==(r=e.privacy_preferences_link_label)&&void 0!==r?r:void 0,save_button_label:null!==(o=e.save_button_label)&&void 0!==o?o:void 0,modal_link_label:null!==(c=e.modal_link_label)&&void 0!==c?c:void 0}}(e)})):[]})},p=function(e){return e===l.re.PRIVACY_CENTER?{title:{included:!0,required:!0},description:{included:!0,required:!0},save_button_label:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},modal_link_label:{included:!0}}:e===l.re.MODAL?{title:{included:!0,required:!0},description:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0},modal_link_label:{included:!0}}:e===l.re.BANNER_AND_MODAL?{title:{included:!0,required:!0},banner_title:{included:!0},description:{included:!0,required:!0},banner_description:{included:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0,required:!0},modal_link_label:{included:!0}}:{title:{included:!0,required:!0},description:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0,required:!0},modal_link_label:{included:!0}}}}}]);