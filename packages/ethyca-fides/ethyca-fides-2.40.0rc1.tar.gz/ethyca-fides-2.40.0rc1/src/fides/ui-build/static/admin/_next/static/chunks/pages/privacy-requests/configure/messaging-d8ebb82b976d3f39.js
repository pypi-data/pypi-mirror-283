(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8593],{51471:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(90849),r=n(28841),s=n(88038),a=n.n(s),o=n(86677),c=(n(27378),n(90768)),u=n(51365),l=n(60709),d=n(24246),f=function(){var e=(0,o.useRouter)();return(0,d.jsx)(r.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,d.jsxs)(r.xuv,{children:[(0,d.jsxs)(r.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,d.jsx)(r.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,d.jsx)(r.zxk,{size:"sm",variant:"outline",onClick:function(){e.push(l.fz)},children:"Configure"})]}),(0,d.jsxs)(r.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.children,n=e.title,i=e.padded,s=void 0===i||i,l=e.mainProps,m=(0,c.hz)(),h=(0,o.useRouter)(),v="/privacy-requests"===h.pathname||"/datastore-connection"===h.pathname,x=!(m.flags.privacyRequestsConfiguration&&v),j=(0,u.JE)(void 0,{skip:x}).data,g=(0,u.PW)(void 0,{skip:x}).data,y=m.flags.privacyRequestsConfiguration&&(!j||!g)&&v;return(0,d.jsxs)(r.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,d.jsxs)(a(),{children:[(0,d.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,d.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsxs)(r.kCb,p(p({as:"main",direction:"column",py:s?6:0,px:s?10:0,h:s?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},l),{},{children:[y?(0,d.jsx)(f,{}):null,t]}))]})}},78624:function(e,t,n){"use strict";n.d(t,{D4:function(){return s.D4},MM:function(){return m},Ot:function(){return u},c6:function(){return d},cj:function(){return h},e$:function(){return o},fn:function(){return c},iC:function(){return p},nU:function(){return f},tB:function(){return l}});var i,r=n(90849),s=n(60041),a="An unexpected error occurred. Please try again.",o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if((0,s.Bw)(e)){if((0,s.hE)(e.data))return e.data.detail;if((0,s.cz)(e.data)){var n,i=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null===i||void 0===i?void 0:i.msg,": ").concat(null===i||void 0===i?void 0:i.loc)}if(409===e.status&&(0,s.Dy)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")");if(404===e.status&&(0,s.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t};function c(e){return"object"===typeof e&&null!=e&&"status"in e}function u(e){return"object"===typeof e&&null!=e&&"data"in e&&"string"===typeof e.data.detail}function l(e){return"object"===typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}var d,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:a};if((0,s.oK)(e))return{status:e.originalStatus,message:e.data};if((0,s.Bw)(e)){var n=e.status;return{status:n,message:o(e,t.message)}}return t},m=function(e){return Object.entries(e).map((function(e){return{value:e[1],label:e[1]}}))};!function(e){e.GVL="gvl",e.AC="gacp",e.COMPASS="compass"}(d||(d={}));var p=(i={},(0,r.Z)(i,d.GVL,{label:"GVL",fullName:"Global Vendor List"}),(0,r.Z)(i,d.AC,{label:"AC",fullName:"Google Additional Consent List"}),(0,r.Z)(i,d.COMPASS,{label:"",fullName:""}),i),h=function(e){var t=e.split(".")[0];return t===d.AC?d.AC:t===d.GVL?d.GVL:d.COMPASS}},9408:function(e,t,n){"use strict";n.d(t,{HK:function(){return s},VY:function(){return i.V},O3:function(){return o}});var i=n(36653),r=n(78624),s=function(){var e=(0,i.V)().errorAlert;return{handleError:function(t){var n="An unexpected error occurred. Please try again.";(0,r.Ot)(t)?n=t.data.detail:(0,r.tB)(t)&&(n=t.data.detail[0].msg),e(n)}}},a=n(27378),o=function(e){var t=(0,a.useRef)(void 0);return(0,a.useEffect)((function(){var n=function(n){var i;null!==(i=t.current)&&void 0!==i&&i.contains(n.target)||e()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[t,e]),{ref:t}}},36653:function(e,t,n){"use strict";n.d(t,{V:function(){return c}});var i=n(90849),r=n(28841),s=n(24246);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(){var e=(0,r.pmc)();return{errorAlert:function(t,n,i){var a=o(o({},i),{},{position:(null===i||void 0===i?void 0:i.position)||"top",render:function(e){var i=e.onClose;return(0,s.jsxs)(r.bZj,{alignItems:"normal",status:"error",children:[(0,s.jsx)(r.zMQ,{}),(0,s.jsxs)(r.xuv,{children:[n&&(0,s.jsx)(r.CdC,{children:n}),(0,s.jsx)(r.XaZ,{children:t})]}),(0,s.jsx)(r.PZ7,{onClick:i,position:"relative",right:0,size:"sm",top:-1})]})}});null!==i&&void 0!==i&&i.id&&e.isActive(i.id)?e.update(i.id,a):e(a)},successAlert:function(t,n,i){var a=o(o({},i),{},{position:(null===i||void 0===i?void 0:i.position)||"top",render:function(e){var i=e.onClose;return(0,s.jsxs)(r.bZj,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,s.jsx)(r.zMQ,{}),(0,s.jsxs)(r.xuv,{children:[n&&(0,s.jsx)(r.CdC,{children:n}),(0,s.jsx)(r.XaZ,{children:t})]}),(0,s.jsx)(r.PZ7,{onClick:i,position:"relative",right:0,size:"sm",top:-1})]})}});null!==i&&void 0!==i&&i.id&&e.isActive(i.id)?e.update(i.id,a):e(a)}}}},56069:function(e,t,n){"use strict";n.d(t,{R:function(){return m}});var i=n(90849),r=n(90089),s=n(28841),a=n(79894),o=n.n(a),c=n(24246),u=["backPath"],l=["onClick"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.onClick,n=(0,r.Z)(e,l);return(0,c.jsxs)(s.kCb,f(f({alignItems:"center",mt:-4,mb:3,onClick:t,cursor:"pointer"},n),{},{children:[(0,c.jsx)(s.hU,{"aria-label":"Back",icon:(0,c.jsx)(s.Rpv,{}),mr:2,size:"xs",variant:"outline"}),(0,c.jsx)(s.xvT,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})]}))};t.Z=function(e){var t=e.backPath,n=(0,r.Z)(e,u);return(0,c.jsxs)(s.kCb,f(f({alignItems:"center",mb:6},n),{},{children:[(0,c.jsx)(o(),{href:t,passHref:!0,children:(0,c.jsx)(s.hU,{"aria-label":"Back",icon:(0,c.jsx)(s.Rpv,{}),mr:2,size:"xs",variant:"outline"})}),(0,c.jsx)(o(),{href:t,passHref:!0,children:(0,c.jsx)(s.xvT,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})})]}))}},24330:function(e,t,n){"use strict";n.d(t,{DE:function(){return o},MP:function(){return r},qX:function(){return a},rE:function(){return s}});var i=n(4938),r=new Map([[i.q2.APPROVED,"Approved"],[i.q2.CANCELED,"Canceled"],[i.q2.COMPLETE,"Completed"],[i.q2.DENIED,"Denied"],[i.q2.ERROR,"Error"],[i.q2.IN_PROCESSING,"In Progress"],[i.q2.PENDING,"New"],[i.q2.PAUSED,"Paused"],[i.q2.IDENTITY_UNVERIFIED,"Unverified"],[i.q2.REQUIRES_INPUT,"Requires input"]]),s=new Map([[i.Us.ACCESS,"Access"],[i.Us.ERASURE,"Erasure"],[i.Us.CONSENT,"Consent"],[i.Us.UPDATE,"Update"]]),a={mailgun:"mailgun",twilio_email:"twilio_email",twilio_text:"twilio_text"},o={local:"local",s3:"s3"}},81946:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var i=n(55732),r=n(97865),s=n(34707),a=n.n(s),o=n(28841),c=n(27378),u=n(78624),l=n(9408),d=n(51471),f=n(56069),m=n(60709),p=n(24330),h=n(51365),v=n(34090),x=n(43139),j=n(24246),g=function(e){var t=e.messagingDetails,n=(0,l.VY)().successAlert,s=(0,l.HK)().handleError,c=(0,h.SU)(),d=(0,r.Z)(c,1)[0],f=t.service_type===p.qX.twilio_email||t.service_type===p.qX.mailgun,m=t.service_type===p.qX.twilio_text,g=function(){var e=(0,i.Z)(a().mark((function e(t){var i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=5;break}return e.next=3,d({email:t.email});case 3:i=e.sent,(0,u.D4)(i)?s(i.error):n("Test message successfully sent.");case 5:if(!m){e.next=10;break}return e.next=8,d({phone_number:t.phone});case 8:r=e.sent,(0,u.D4)(r)?s(r.error):n("Test message successfully sent.");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.izJ,{mt:10}),(0,j.jsx)(o.X6q,{fontSize:"md",fontWeight:"semibold",mt:10,mb:5,children:"Test connection"}),(0,j.jsx)(o.Kqy,{children:(0,j.jsx)(v.J9,{initialValues:{email:"",phone:""},onSubmit:g,children:function(e){var t=e.isSubmitting,n=e.resetForm;return(0,j.jsxs)(v.l0,{children:[f?(0,j.jsx)(x.j0,{name:"email",label:"Email",placeholder:"youremail@domain.com",isRequired:!0}):null,m?(0,j.jsx)(x.j0,{name:"phone",label:"Phone",placeholder:"+10000000000",isRequired:!0}):null,(0,j.jsxs)(o.xuv,{mt:10,children:[(0,j.jsx)(o.zxk,{onClick:function(){return n()},mr:2,size:"sm",variant:"outline",children:"Cancel"}),(0,j.jsx)(o.zxk,{isDisabled:t,type:"submit",colorScheme:"primary",size:"sm","data-testid":"save-btn",children:"Save"})]})]})}})})]})},y=function(){var e,t=(0,l.VY)().successAlert,n=(0,c.useState)(""),s=n[0],d=n[1],f=(0,l.HK)().handleError,m=(0,h.S3)({type:p.qX.mailgun}).data,y=(0,h.h9)(),b=(0,r.Z)(y,1)[0],_=(0,h.iI)(),w=(0,r.Z)(_,1)[0],k=function(){var e=(0,i.Z)(a().mark((function e(n){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({service_type:p.qX.mailgun,details:{is_eu_domain:"false",domain:n.domain}});case 2:i=e.sent,(0,u.D4)(i)?f(i.error):(t("Mailgun email successfully updated. You can now enter your security key."),d("apiKey"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,i.Z)(a().mark((function e(n){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({details:{mailgun_api_key:n.api_key},service_type:p.qX.mailgun});case 2:i=e.sent,(0,u.D4)(i)?f(i.error):(t("Mailgun security key successfully updated."),d("testConnection"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q={domain:null!==(e=null===m||void 0===m?void 0:m.details.domain)&&void 0!==e?e:""};return(0,j.jsxs)(o.xuv,{children:[(0,j.jsx)(o.X6q,{fontSize:"md",fontWeight:"semibold",mt:10,children:"Mailgun messaging configuration"}),(0,j.jsx)(o.Kqy,{children:(0,j.jsx)(v.J9,{initialValues:q,onSubmit:k,enableReinitialize:!0,children:function(e){var t=e.isSubmitting,n=e.handleReset;return(0,j.jsxs)(v.l0,{children:[(0,j.jsx)(o.Kqy,{mt:5,spacing:5,children:(0,j.jsx)(x.j0,{name:"domain",label:"Domain",placeholder:"Enter domain","data-testid":"option-twilio-domain",isRequired:!0})}),(0,j.jsxs)(o.xuv,{mt:10,children:[(0,j.jsx)(o.zxk,{onClick:n,mr:2,size:"sm",variant:"outline",children:"Cancel"}),(0,j.jsx)(o.zxk,{isDisabled:t,type:"submit",colorScheme:"primary",size:"sm","data-testid":"save-btn",children:"Save"})]})]})}})}),"apiKey"===s||"testConnection"===s?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.izJ,{mt:10}),(0,j.jsx)(o.X6q,{fontSize:"md",fontWeight:"semibold",mt:10,children:"Security key"}),(0,j.jsx)(o.Kqy,{children:(0,j.jsx)(v.J9,{initialValues:{api_key:""},onSubmit:S,children:function(e){var t=e.isSubmitting,n=e.handleReset;return(0,j.jsxs)(v.l0,{children:[(0,j.jsx)(x.j0,{name:"api_key",label:"API key",type:"password",isRequired:!0}),(0,j.jsxs)(o.xuv,{mt:10,children:[(0,j.jsx)(o.zxk,{onClick:n,mr:2,size:"sm",variant:"outline",children:"Cancel"}),(0,j.jsx)(o.zxk,{isDisabled:t,type:"submit",colorScheme:"primary",size:"sm","data-testid":"save-btn",children:"Save"})]})]})}})})]}):null,"testConnection"===s?(0,j.jsx)(g,{messagingDetails:m||{service_type:p.qX.mailgun}}):null]})},b=function(){var e,t=(0,c.useState)(""),n=t[0],s=t[1],d=(0,l.VY)().successAlert,f=(0,l.HK)().handleError,m=(0,h.S3)({type:p.qX.twilio_email}).data,y=(0,h.h9)(),b=(0,r.Z)(y,1)[0],_=(0,h.iI)(),w=(0,r.Z)(_,1)[0],k=function(){var e=(0,i.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({service_type:p.qX.twilio_email,details:{twilio_email_from:t.email}});case 2:n=e.sent,(0,u.D4)(n)?f(n.error):(d("Twilio email successfully updated. You can now enter your security key."),s("configureTwilioEmailSecrets"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,i.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({details:{twilio_api_key:t.api_key},service_type:p.qX.twilio_email});case 2:n=e.sent,(0,u.D4)(n)?f(n.error):(d("Twilio email secrets successfully updated."),s("testConnection"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q={email:null!==(e=null===m||void 0===m?void 0:m.details.twilio_email_from)&&void 0!==e?e:""};return(0,j.jsxs)(o.xuv,{children:[(0,j.jsx)(o.X6q,{fontSize:"md",fontWeight:"semibold",mt:10,children:"Twilio Email messaging configuration"}),(0,j.jsx)(o.Kqy,{children:(0,j.jsx)(v.J9,{initialValues:q,onSubmit:k,enableReinitialize:!0,children:function(e){var t=e.isSubmitting,n=e.handleReset;return(0,j.jsxs)(v.l0,{children:[(0,j.jsx)(o.Kqy,{mt:5,spacing:5,children:(0,j.jsx)(x.j0,{name:"email",label:"Email",placeholder:"Enter email",isRequired:!0})}),(0,j.jsxs)(o.xuv,{mt:10,children:[(0,j.jsx)(o.zxk,{onClick:function(){return n()},mr:2,size:"sm",variant:"outline",children:"Cancel"}),(0,j.jsx)(o.zxk,{isDisabled:t,type:"submit",colorScheme:"primary",size:"sm","data-testid":"save-btn",children:"Save"})]})]})}})}),"configureTwilioEmailSecrets"===n||"testConnection"===n?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.izJ,{mt:10}),(0,j.jsx)(o.X6q,{fontSize:"md",fontWeight:"semibold",mt:10,children:"Security key"}),(0,j.jsx)(o.Kqy,{children:(0,j.jsx)(v.J9,{initialValues:{api_key:""},onSubmit:S,children:function(e){var t=e.isSubmitting,n=e.handleReset;return(0,j.jsxs)(v.l0,{children:[(0,j.jsx)(o.Kqy,{mt:5,spacing:5,children:(0,j.jsx)(x.j0,{name:"api_key",label:"API key",type:"password",isRequired:!0})}),(0,j.jsxs)(o.xuv,{mt:10,children:[(0,j.jsx)(o.zxk,{onClick:function(){return n()},mr:2,size:"sm",variant:"outline",children:"Cancel"}),(0,j.jsx)(o.zxk,{isDisabled:t,type:"submit",colorScheme:"primary",size:"sm","data-testid":"save-btn",children:"Save"})]})]})}})})]}):null,"testConnection"===n?(0,j.jsx)(g,{messagingDetails:m||{service_type:p.qX.twilio_email}}):null]})},_=function(){var e=(0,l.VY)().successAlert,t=(0,l.HK)().handleError,n=(0,c.useState)(""),s=n[0],d=n[1],f=(0,h.S3)({type:"twilio_text"}).data,m=(0,h.iI)(),y=(0,r.Z)(m,1)[0],b=function(){var n=(0,i.Z)(a().mark((function n(i){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y({details:{twilio_account_sid:i.account_sid,twilio_auth_token:i.auth_token,twilio_messaging_service_sid:i.messaging_service_sid,twilio_sender_phone_number:i.phone},service_type:p.qX.twilio_text});case 2:r=n.sent,(0,u.D4)(r)?t(r.error):(e("Twilio text secrets successfully updated."),d("testConnection"));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,j.jsxs)(o.xuv,{children:[(0,j.jsx)(o.X6q,{fontSize:"md",fontWeight:"semibold",mt:10,children:"Twilio SMS messaging configuration"}),(0,j.jsx)(o.Kqy,{children:(0,j.jsx)(v.J9,{initialValues:{account_sid:"",auth_token:"",messaging_service_sid:"",phone:""},onSubmit:b,enableReinitialize:!0,children:function(e){var t=e.isSubmitting,n=e.handleReset;return(0,j.jsxs)(v.l0,{children:[(0,j.jsxs)(o.Kqy,{mt:5,spacing:5,children:[(0,j.jsx)(x.j0,{name:"account_sid",label:"Account SID",placeholder:"Enter account SID",isRequired:!0}),(0,j.jsx)(x.j0,{name:"auth_token",label:"Auth token",placeholder:"Enter auth token",type:"password",isRequired:!0}),(0,j.jsx)(x.j0,{name:"messaging_service_sid",label:"Messaging Service SID",placeholder:"Enter messaging service SID"}),(0,j.jsx)(x.j0,{name:"phone",label:"Phone Number",placeholder:"Enter phone number"})]}),(0,j.jsxs)(o.xuv,{mt:10,children:[(0,j.jsx)(o.zxk,{onClick:function(){return n()},mr:2,size:"sm",variant:"outline",children:"Cancel"}),(0,j.jsx)(o.zxk,{isDisabled:t,type:"submit",colorScheme:"primary",size:"sm","data-testid":"save-btn",children:"Save"})]})]})}})}),"testConnection"===s?(0,j.jsx)(g,{messagingDetails:f||{service_type:p.qX.twilio_text}}):null]})},w=function(){var e=(0,l.VY)().successAlert,t=(0,l.HK)().handleError,n=(0,c.useState)(""),s=n[0],v=n[1],x=(0,h.h9)(),g=(0,r.Z)(x,1)[0],w=(0,h.L)(),k=(0,r.Z)(w,1)[0],S=(0,h.JE)().data;(0,c.useEffect)((function(){S&&v(null===S||void 0===S?void 0:S.service_type)}),[S]);var q=function(){var n=(0,i.Z)(a().mark((function n(i){var r,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k({notifications:{notification_service_type:i,send_request_completion_notification:!0,send_request_receipt_notification:!0,send_request_review_notification:!0},execution:{subject_identity_verification_required:!0}});case 2:if(r=n.sent,!(0,u.D4)(r)){n.next=7;break}t(r.error),n.next=15;break;case 7:if(i===p.qX.twilio_text){n.next=11;break}v(i),n.next=15;break;case 11:return n.next=13,g({service_type:p.qX.twilio_text});case 13:s=n.sent,(0,u.D4)(s)?t(s.error):(e("Messaging provider saved successfully."),v(i));case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,j.jsxs)(d.Z,{title:"Configure Privacy Requests - Messaging",children:[(0,j.jsx)(f.Z,{backPath:m.fz}),(0,j.jsx)(o.X6q,{mb:5,fontSize:"2xl",fontWeight:"semibold",children:"Configure your messaging provider"}),(0,j.jsxs)(o.xuv,{display:"flex",flexDirection:"column",width:"50%",children:[(0,j.jsxs)(o.xuv,{children:["Fides requires a messsaging provider for sending processing notices to privacy request subjects, and allows for Subject Identity Verification in privacy requests. Please follow the"," ",(0,j.jsx)(o.xvT,{as:"span",color:"complimentary.500",children:"documentation"})," ","to setup a messaging service that Fides supports. Ensure you have completed the setup for the preferred messaging provider and have the details handy prior to the following steps."]}),(0,j.jsx)(o.X6q,{fontSize:"md",fontWeight:"semibold",mt:10,children:"Choose service type to configure"}),(0,j.jsx)(o.FXm,{onChange:q,value:s,"data-testid":"privacy-requests-messaging-provider-selection",colorScheme:"secondary",p:3,children:(0,j.jsxs)(o.Kqy,{direction:"row",children:[(0,j.jsx)(o.Y8K,{value:p.qX.mailgun,"data-testid":"option-mailgun",mr:5,children:"Mailgun Email"},p.qX.mailgun),(0,j.jsx)(o.Y8K,{value:p.qX.twilio_email,"data-testid":"option-twilio-email",children:"Twilio Email"},p.qX.twilio_email),(0,j.jsx)(o.Y8K,{value:p.qX.twilio_text,"data-testid":"option-twilio-sms",children:"Twilio SMS"},p.qX.twilio_text)]})}),s===p.qX.mailgun?(0,j.jsx)(y,{}):null,s===p.qX.twilio_email?(0,j.jsx)(b,{}):null,s===p.qX.twilio_text?(0,j.jsx)(_,{}):null]})]})},k=function(){return(0,j.jsx)(w,{})}},60041:function(e,t,n){"use strict";n.d(t,{Bw:function(){return a},D4:function(){return r},Dy:function(){return c},XD:function(){return u},cz:function(){return l},hE:function(){return o},oK:function(){return s}});var i=n(76649),r=function(e){return"error"in e},s=function(e){return(0,i.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status},a=function(e){return(0,i.Ln)({status:"number",data:{}},e)},o=function(e){return(0,i.Ln)({detail:"string"},e)},c=function(e){return(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},u=function(e){return(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},l=function(e){return(0,i.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}},13687:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/privacy-requests/configure/messaging",function(){return n(81946)}])},76649:function(e,t,n){"use strict";n.d(t,{Ln:function(){return i},uX:function(){return a}});const i=(e,t)=>s(e,t),r=Symbol("SOME"),s=(e,t)=>{if("string"==typeof e)return e===typeof t;if(Array.isArray(e))return r in e?e.some((e=>s(e,t))):!!Array.isArray(t)&&(0===e.length||t.every((t=>e.some((e=>s(e,t))))));if("object"!=typeof t||null===t)return!1;const n=t;return Object.entries(e).every((([e,t])=>s(t,n[e])))},a=e=>t=>i(e,t);class o{static narrow(e){return new o((t=>i(e,t)))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){const t=this.NF,n=e instanceof o?e.NF:e instanceof Function?e:t=>i(e,t);return new o((e=>t(e)&&n(e)))}}new o((e=>!0))}},function(e){e.O(0,[9774,2888,179],(function(){return t=13687,e(e.s=t);var t}));var t=e.O();_N_E=t}]);