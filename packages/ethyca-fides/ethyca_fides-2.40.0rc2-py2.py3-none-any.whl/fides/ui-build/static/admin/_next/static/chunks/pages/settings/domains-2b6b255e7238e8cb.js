(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9252],{57595:function(t,e,r){"use strict";var n=r(90849),i=r(28841),o=r(24246);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}e.Z=function(t){return(0,o.jsx)(i.rUS,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({isExternal:!0,color:"complimentary.500"},t))}},51471:function(t,e,r){"use strict";r.d(e,{Z:function(){return m}});var n=r(90849),i=r(28841),o=r(88038),s=r.n(o),a=r(86677),c=(r(27378),r(90768)),u=r(51365),l=r(60709),d=r(24246),f=function(){var t=(0,a.useRouter)();return(0,d.jsx)(i.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,d.jsxs)(i.xuv,{children:[(0,d.jsxs)(i.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,d.jsx)(i.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,d.jsx)(i.zxk,{size:"sm",variant:"outline",onClick:function(){t.push(l.fz)},children:"Configure"})]}),(0,d.jsxs)(i.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})};function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m=function(t){var e=t.children,r=t.title,n=t.padded,o=void 0===n||n,l=t.mainProps,p=(0,c.hz)(),m=(0,a.useRouter)(),b="/privacy-requests"===m.pathname||"/datastore-connection"===m.pathname,h=!(p.flags.privacyRequestsConfiguration&&b),j=(0,u.JE)(void 0,{skip:h}).data,y=(0,u.PW)(void 0,{skip:h}).data,v=p.flags.privacyRequestsConfiguration&&(!j||!y)&&b;return(0,d.jsxs)(i.kCb,{"data-testid":r,direction:"column",h:"100vh",children:[(0,d.jsxs)(s(),{children:[(0,d.jsxs)("title",{children:["Fides Admin UI - ",r]}),(0,d.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsxs)(i.kCb,g(g({as:"main",direction:"column",py:o?6:0,px:o?10:0,h:o?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},l),{},{children:[v?(0,d.jsx)(f,{}):null,e]}))]})}},86054:function(t,e,r){"use strict";var n=r(90849),i=r(90089),o=r(28841),s=r(38687),a=r(24246),c=["title","tooltip","children"];function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e.Z=function(t){var e=t.title,r=t.tooltip,n=t.children,u=(0,i.Z)(t,c);return(0,a.jsxs)(o.xuv,l(l({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},u),{},{children:[(0,a.jsxs)(o.X6q,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[e,r?(0,a.jsx)(o.xvT,{as:"span",mx:1,children:(0,a.jsx)(s.Z,{label:r})}):void 0]}),(0,a.jsx)(o.Kqy,{p:6,spacing:6,children:n})]}))}},78624:function(t,e,r){"use strict";r.d(e,{D4:function(){return o.D4},MM:function(){return p},Ot:function(){return u},c6:function(){return d},cj:function(){return m},e$:function(){return a},fn:function(){return c},iC:function(){return g},nU:function(){return f},tB:function(){return l}});var n,i=r(90849),o=r(60041),s="An unexpected error occurred. Please try again.",a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if((0,o.Bw)(t)){if((0,o.hE)(t.data))return t.data.detail;if((0,o.cz)(t.data)){var r,n=null===(r=t.data.detail)||void 0===r?void 0:r[0];return"".concat(null===n||void 0===n?void 0:n.msg,": ").concat(null===n||void 0===n?void 0:n.loc)}if(409===t.status&&(0,o.Dy)(t.data))return"".concat(t.data.detail.error," (").concat(t.data.detail.fides_key,")");if(404===t.status&&(0,o.XD)(t.data))return"".concat(t.data.detail.error," (").concat(t.data.detail.fides_key,")")}return e};function c(t){return"object"===typeof t&&null!=t&&"status"in t}function u(t){return"object"===typeof t&&null!=t&&"data"in t&&"string"===typeof t.data.detail}function l(t){return"object"===typeof t&&null!=t&&"data"in t&&Array.isArray(t.data.detail)}var d,f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:s};if((0,o.oK)(t))return{status:t.originalStatus,message:t.data};if((0,o.Bw)(t)){var r=t.status;return{status:r,message:a(t,e.message)}}return e},p=function(t){return Object.entries(t).map((function(t){return{value:t[1],label:t[1]}}))};!function(t){t.GVL="gvl",t.AC="gacp",t.COMPASS="compass"}(d||(d={}));var g=(n={},(0,i.Z)(n,d.GVL,{label:"GVL",fullName:"Global Vendor List"}),(0,i.Z)(n,d.AC,{label:"AC",fullName:"Google Additional Consent List"}),(0,i.Z)(n,d.COMPASS,{label:"",fullName:""}),n),m=function(t){var e=t.split(".")[0];return e===d.AC?d.AC:e===d.GVL?d.GVL:d.COMPASS}},24753:function(t,e,r){"use strict";r.d(e,{MA:function(){return l},Vo:function(){return f},t5:function(){return d}});var n=r(90849),i=r(28841),o=r(24246);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=function(t){var e=t.children;return(0,o.jsxs)(i.xvT,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",e]})},u=function(t){var e=t.children;return(0,o.jsxs)(i.xvT,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",e]})},l={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(t){var e=(0,o.jsx)(c,{children:t});return a(a({},l),{description:e})},f=function(t){var e=(0,o.jsx)(u,{children:t});return a(a({},l),{description:e,status:"error"})}},88611:function(t,e,r){"use strict";r.r(e);var n=r(90849),i=r(55732),o=r(97865),s=r(34707),a=r.n(s),c=r(28841),u=r(34090),l=r(14633),d=r(6848),f=r(57595),p=r(86054),g=r(43139),m=r(78624),b=r(51471),h=r(24753),j=r(51365),y=r(24246);function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e.default=function(){var t,e=(0,j.tB)({api_set:!0}).isLoading,r=(0,j.tB)({api_set:!1}).isLoading,n=(0,d.C)(j.ak),s=n.apiSet,v=n.configSet,O=!!(null!==(t=v.cors_origins)&&void 0!==t&&t.length||v.cors_origin_regex),w=(0,d.C)((0,j.U7)()),P=(0,j.km)(),_=(0,o.Z)(P,2),C=_[0],D=_[1].isLoading,k=(0,c.pmc)(),S=l.Ry().shape({cors_origins:l.IX().nullable().of(l.Z_().required().trim().test("is-valid-url",(function(t){var e=t.label;return"".concat(e," must be a valid URL (e.g. https://example.com)")}),(function(t){return function(t){if(!t||!t.startsWith("https://")&&!t.startsWith("http://"))return!1;try{new URL(t)}catch(e){return!1}return!0}(t)})).test("has-no-wildcard",(function(t){var e=t.label;return"".concat(e," cannot contain a wildcard (e.g. https://*.example.com)")}),(function(t){return function(t){return!!t&&!t.includes("*")}(t)})).test("has-no-path",(function(t){var e=t.label;return"".concat(e," cannot contain a path (e.g. https://example.com/path)")}),(function(t){return function(t){if(!t)return!1;try{return"/"===new URL(t).pathname&&!t.endsWith("/")}catch(e){return!1}}(t)})).label("Domain"))}),A=function(){var t=(0,i.Z)(a().mark((function t(e,r){var n,i,o,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(t){if(k.closeAll(),(0,m.D4)(t)){var n=(0,m.e$)(t.error,"An unexpected error occurred while saving domains. Please try again.");k((0,h.Vo)(n))}else k((0,h.t5)("Domains saved successfully")),r.resetForm({values:e})},i=e.cors_origins&&e.cors_origins.length>0?e.cors_origins:void 0,o=x(x({},w),{},{security:{cors_origins:i}}),t.next=5,C(o);case 5:s=t.sent,n(s);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return(0,y.jsx)(b.Z,{title:"Domains",children:(0,y.jsxs)(c.xuv,{"data-testid":"management-domains",children:[(0,y.jsx)(c.X6q,{marginBottom:4,fontSize:"2xl",children:"Domains"}),(0,y.jsx)(c.xuv,{maxWidth:"600px",children:(0,y.jsxs)(c.xvT,{marginBottom:3,fontSize:"sm",children:["For Fides to work on your website(s), each of your domains must be listed below. You can add and remove domains at any time up to the quantity included in your license. For more information on managing domains"," ",(0,y.jsx)(f.Z,{href:"https://fid.es/domain-configuration",children:"read here"}),"."]})}),(0,y.jsx)(c.xuv,{maxW:"600px",paddingY:3,children:(0,y.jsx)(p.Z,{"data-testid":"api-set-domains-form",title:"Organization domains",tooltip:"Fides uses these domains to enforce cross-origin resource sharing (CORS), a browser-based security standard. Each domain must be a valid URL (e.g. https://example.com) without any wildcards '*' or paths '/blog'",children:e||D?(0,y.jsx)(c.kCb,{justifyContent:"center",children:(0,y.jsx)(c.$jN,{})}):(0,y.jsx)(u.J9,{initialValues:s,enableReinitialize:!0,onSubmit:A,validationSchema:S,validateOnChange:!0,children:function(t){var e=t.dirty,r=t.values,n=t.isValid;return(0,y.jsxs)(u.l0,{children:[(0,y.jsx)(u.F2,{name:"cors_origins",render:function(t){return(0,y.jsxs)(c.kCb,{flexDir:"column",children:[r.cors_origins.map((function(e,r){return(0,y.jsxs)(c.kCb,{flexDir:"row",my:3,children:[(0,y.jsx)(g.j0,{variant:"stacked",name:"cors_origins[".concat(r,"]"),placeholder:"https://subdomain.example.com:9090"}),(0,y.jsx)(c.hU,{ml:8,"aria-label":"delete-domain",variant:"outline",zIndex:2,size:"sm",onClick:function(){t.remove(r)},children:(0,y.jsx)(c.pJl,{})})]},r)})),(0,y.jsx)(c.kCb,{justifyContent:"center",mt:3,children:(0,y.jsx)(c.zxk,{"aria-label":"add-domain",width:"100%",variant:"outline",size:"sm",onClick:function(){t.push("")},children:"Add domain"})})]})}}),(0,y.jsx)(c.xuv,{mt:6,children:(0,y.jsx)(c.zxk,{type:"submit",variant:"primary",size:"sm",isDisabled:D||!e||!n,isLoading:D,"data-testid":"save-btn",children:"Save"})})]})}})})}),(0,y.jsx)(c.xuv,{maxW:"600px",marginY:3,children:(0,y.jsx)(p.Z,{"data-testid":"config-set-domains-form",title:"Advanced settings",tooltip:"These domains are configured by an administrator with access to Fides security settings and can support more advanced options such as wildcards and regex.",children:r?(0,y.jsx)(c.kCb,{justifyContent:"center",children:(0,y.jsx)(c.$jN,{})}):(0,y.jsxs)(c.kCb,{flexDir:"column",children:[v.cors_origins.map((function(t,e){return(0,y.jsx)(g.oi,{"data-testid":"input-config_cors_origins[".concat(e,"]"),marginY:3,value:t,isDisabled:!0,isPassword:!1},e)})),v.cors_origin_regex?(0,y.jsx)(g.oi,{"data-testid":"input-config_cors_origin_regex",marginY:3,value:v.cors_origin_regex,isDisabled:!0,isPassword:!1},"cors_origin_regex"):void 0,O?void 0:(0,y.jsx)(c.xvT,{fontSize:"xs",color:"gray.500",children:"No advanced domain settings configured."})]})})})]})})}},60041:function(t,e,r){"use strict";r.d(e,{Bw:function(){return s},D4:function(){return i},Dy:function(){return c},XD:function(){return u},cz:function(){return l},hE:function(){return a},oK:function(){return o}});var n=r(76649),i=function(t){return"error"in t},o=function(t){return(0,n.Ln)({status:"string"},t)&&"PARSING_ERROR"===t.status},s=function(t){return(0,n.Ln)({status:"number",data:{}},t)},a=function(t){return(0,n.Ln)({detail:"string"},t)},c=function(t){return(0,n.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},t)},u=function(t){return(0,n.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},t)},l=function(t){return(0,n.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},t)}},98648:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/domains",function(){return r(88611)}])},76649:function(t,e,r){"use strict";r.d(e,{Ln:function(){return n},uX:function(){return s}});const n=(t,e)=>o(t,e),i=Symbol("SOME"),o=(t,e)=>{if("string"==typeof t)return t===typeof e;if(Array.isArray(t))return i in t?t.some((t=>o(t,e))):!!Array.isArray(e)&&(0===t.length||e.every((e=>t.some((t=>o(t,e))))));if("object"!=typeof e||null===e)return!1;const r=e;return Object.entries(t).every((([t,e])=>o(e,r[t])))},s=t=>e=>n(t,e);class a{static narrow(t){return new a((e=>n(t,e)))}constructor(t){this.NF=void 0,this.NF=t}satisfied(t){return this.NF(t)}build(t){return t}and(t){const e=this.NF,r=t instanceof a?t.NF:t instanceof Function?t:e=>n(t,e);return new a((t=>e(t)&&r(t)))}}new a((t=>!0))}},function(t){t.O(0,[9774,2888,179],(function(){return e=98648,t(t.s=e);var e}));var e=t.O();_N_E=e}]);