(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3785],{51471:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(90849),i=n(28841),s=n(88038),o=n.n(s),c=n(86677),u=(n(27378),n(90768)),a=n(51365),l=n(60709),d=n(24246),f=function(){var e=(0,c.useRouter)();return(0,d.jsx)(i.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,d.jsxs)(i.xuv,{children:[(0,d.jsxs)(i.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,d.jsx)(i.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,d.jsx)(i.zxk,{size:"sm",variant:"outline",onClick:function(){e.push(l.fz)},children:"Configure"})]}),(0,d.jsxs)(i.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.children,n=e.title,r=e.padded,s=void 0===r||r,l=e.mainProps,p=(0,u.hz)(),m=(0,c.useRouter)(),j="/privacy-requests"===m.pathname||"/datastore-connection"===m.pathname,y=!(p.flags.privacyRequestsConfiguration&&j),g=(0,a.JE)(void 0,{skip:y}).data,b=(0,a.PW)(void 0,{skip:y}).data,v=p.flags.privacyRequestsConfiguration&&(!g||!b)&&j;return(0,d.jsxs)(i.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,d.jsxs)(o(),{children:[(0,d.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,d.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsxs)(i.kCb,h(h({as:"main",direction:"column",py:s?6:0,px:s?10:0,h:s?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},l),{},{children:[v?(0,d.jsx)(f,{}):null,t]}))]})}},28171:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(90849),i=n(90089),s=n(28841),o=n(98784),c=n(27378),u=n(79894),a=n.n(u),l=n(24246),d=function(e){var t=e.breadcrumbs;return(0,l.jsx)(s.aGc,{separator:"->",fontSize:"2xl",fontWeight:"semibold","data-testid":"breadcrumbs",children:t.map((function(e,n){var r=n+1===t.length,i=!!e.link||!!e.onClick;return(0,l.jsx)(s.gN6,{color:r||e.isOpaque?"black":"gray.500",children:i?(0,l.jsx)(s.Atw,{as:a(),href:e.link,isCurrentPage:r,children:e.title}):(0,l.jsx)(s.Atw,{_hover:{textDecoration:"none",cursor:"default"},isCurrentPage:r,children:e.title})},e.title)}))})},f=["breadcrumbs","isSticky","children"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.breadcrumbs,n=e.isSticky,r=void 0===n||n,u=e.children,a=(0,i.Z)(e,f);return(0,l.jsxs)(s.xuv,h(h(h({bgColor:"white",paddingY:5},r?{position:"sticky",top:0,left:0,zIndex:10}:{}),a),{},{children:[(0,o.isArray)(t)&&(0,l.jsx)(s.xuv,{marginBottom:u?4:0,children:(0,l.jsx)(d,{breadcrumbs:t})}),(0,c.isValidElement)(t)&&t,u]}))}},63238:function(e,t,n){"use strict";n.d(t,{Tg:function(){return o}});var r=n(6848),i=n(67788),s=n(24246),o=function(e){return(0,r.C)(i.uu).filter((function(t){return e.includes(t)})).length>0};t.ZP=function(e){var t=e.scopes,n=e.children;return o(t)?(0,s.jsx)(s.Fragment,{children:n}):null}},44845:function(e,t,n){"use strict";var r=n(90849),i=n(90089),s=n(28841),o=n(24246),c=["search","onChange","withIcon","onClear","placeholder"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.search,n=e.onChange,r=e.withIcon,u=e.onClear,l=e.placeholder,d=(0,i.Z)(e,c);return(0,o.jsxs)(s.BZy,{size:"sm",minWidth:"308px",children:[r?(0,o.jsx)(s.Z8_,{pointerEvents:"none",children:(0,o.jsx)(s.PTu,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,o.jsx)(s.IIB,a({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:t,name:"search",onChange:function(e){return n(e.target.value)},placeholder:l||""},d)),u?(0,o.jsx)(s.xHT,{children:(0,o.jsx)(s.zxk,{borderLeftRadius:0,height:"95%",right:"14px",flexShrink:0,fontWeight:"light",size:"sm",onClick:u,children:"Clear"})}):null]})}},78624:function(e,t,n){"use strict";n.d(t,{D4:function(){return s.D4},MM:function(){return p},Ot:function(){return a},c6:function(){return d},cj:function(){return m},e$:function(){return c},fn:function(){return u},iC:function(){return h},nU:function(){return f},tB:function(){return l}});var r,i=n(90849),s=n(60041),o="An unexpected error occurred. Please try again.",c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if((0,s.Bw)(e)){if((0,s.hE)(e.data))return e.data.detail;if((0,s.cz)(e.data)){var n,r=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null===r||void 0===r?void 0:r.msg,": ").concat(null===r||void 0===r?void 0:r.loc)}if(409===e.status&&(0,s.Dy)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")");if(404===e.status&&(0,s.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t};function u(e){return"object"===typeof e&&null!=e&&"status"in e}function a(e){return"object"===typeof e&&null!=e&&"data"in e&&"string"===typeof e.data.detail}function l(e){return"object"===typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}var d,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:o};if((0,s.oK)(e))return{status:e.originalStatus,message:e.data};if((0,s.Bw)(e)){var n=e.status;return{status:n,message:c(e,t.message)}}return t},p=function(e){return Object.entries(e).map((function(e){return{value:e[1],label:e[1]}}))};!function(e){e.GVL="gvl",e.AC="gacp",e.COMPASS="compass"}(d||(d={}));var h=(r={},(0,i.Z)(r,d.GVL,{label:"GVL",fullName:"Global Vendor List"}),(0,i.Z)(r,d.AC,{label:"AC",fullName:"Google Additional Consent List"}),(0,i.Z)(r,d.COMPASS,{label:"",fullName:""}),r),m=function(e){var t=e.split(".")[0];return t===d.AC?d.AC:t===d.GVL?d.GVL:d.COMPASS}},2458:function(e,t,n){"use strict";var r=n(90849),i=n(28841),s=n(24246);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.isOpen,n=e.onClose,r=e.onConfirm,o=e.onCancel,u=e.title,a=e.message,l=e.cancelButtonText,d=e.cancelButtonThemingProps,f=e.continueButtonText,p=e.continueButtonThemingProps,h=e.isLoading,m=e.returnFocusOnClose,j=e.isCentered,y=e.testId,g=void 0===y?"confirmation-modal":y,b=e.icon;return(0,s.jsxs)(i.u_l,{isOpen:t,onClose:n,size:"lg",returnFocusOnClose:null===m||void 0===m||m,isCentered:j,children:[(0,s.jsx)(i.ZAr,{}),(0,s.jsxs)(i.hzk,{textAlign:"center",p:6,"data-testid":g,children:[b?(0,s.jsx)(i.M5Y,{mb:2,children:b}):null,u?(0,s.jsx)(i.xBx,{fontWeight:"medium",pb:0,children:u}):null,a?(0,s.jsx)(i.fef,{children:a}):null,(0,s.jsx)(i.mzw,{children:(0,s.jsxs)(i.MIq,{columns:2,width:"100%",children:[(0,s.jsx)(i.zxk,c(c({variant:"outline",mr:3,onClick:function(){o&&o(),n()},"data-testid":"cancel-btn",isDisabled:h},d),{},{children:l||"Cancel"})),(0,s.jsx)(i.zxk,c(c({colorScheme:"primary",onClick:r,"data-testid":"continue-btn",isLoading:h},p),{},{children:f||"Continue"}))]})})]})]})}},24753:function(e,t,n){"use strict";n.d(t,{MA:function(){return l},Vo:function(){return f},t5:function(){return d}});var r=n(90849),i=n(28841),s=n(24246);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.children;return(0,s.jsxs)(i.xvT,{"data-testid":"toast-success-msg",children:[(0,s.jsx)("strong",{children:"Success:"})," ",t]})},a=function(e){var t=e.children;return(0,s.jsxs)(i.xvT,{"data-testid":"toast-error-msg",children:[(0,s.jsx)("strong",{children:"Error:"})," ",t]})},l={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var t=(0,s.jsx)(u,{children:e});return c(c({},l),{description:t})},f=function(e){var t=(0,s.jsx)(a,{children:e});return c(c({},l),{description:t,status:"error"})}},13861:function(e,t,n){"use strict";n.d(t,{R:function(){return k},Z:function(){return S}});var r=n(28841),i=n(27378),s=n(33571),o=n.n(s),c=n(24246),u=function(e){var t=e.columns,n=e.items,i=e.renderItem,s=(0,r.yo_)(n,t);return(0,c.jsx)(r.xuv,{children:s.map((function(e,n,s){var u=s.length;return(0,c.jsx)(r.xuv,{className:o()["grid-row"],borderBottomWidth:u>1&&n===u-1&&e.length===t?"0.5px":void 0,children:(0,c.jsx)(r.MIq,{columns:t,children:e.map((function(e){return(0,c.jsx)(r.xuv,{className:o()["grid-item"],children:i(e)},JSON.stringify(e))}))})},JSON.stringify(e))}))})},a=n(44845),l=n(55732),d=n(97865),f=n(34707),p=n.n(f),h=n(79894),m=n.n(h),j=n(86677),y=n(6848),g=n(2458),b=n(60709),v=n(63238),x=n(4938),O=n(78624),w=n(24753),P=n(51860),C=function(e){var t=e.system,n=(0,r.qY0)(),i=n.isOpen,s=n.onOpen,o=n.onClose,u=(0,r.pmc)(),a=(0,y.T)(),f=(0,j.useRouter)(),h=(0,P.DW)(),C=(0,d.Z)(h,1)[0],k=function(){var e=(0,l.Z)(p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t.fides_key);case 2:n=e.sent,(0,O.D4)(n)?u((0,w.Vo)((0,O.e$)(n.error))):u((0,w.t5)("Successfully deleted system")),o();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=""===t.name||null==t.name?t.fides_key:t.name;return(0,c.jsxs)(r.xuv,{display:"flex","data-testid":"system-".concat(t.fides_key),children:[(0,c.jsx)(m(),{href:"".concat(b.So,"/configure/").concat(t.fides_key),passHref:!0,children:(0,c.jsxs)(r.xuv,{flexGrow:1,p:4,"data-testid":"system-box",_hover:{cursor:"pointer"},children:[(0,c.jsx)(r.X6q,{as:"h2",fontSize:"16px",mb:2,children:S}),(0,c.jsx)(r.xuv,{color:"gray.600",fontSize:"14px",children:(0,c.jsx)(r.xvT,{children:t.description})})]})}),(0,c.jsxs)(r.v2r,{children:[(0,c.jsx)(r.j2t,{as:r.hU,icon:(0,c.jsx)(r.nXP,{}),"aria-label":"more actions",variant:"unstyled",size:"sm","data-testid":"more-btn",m:1}),(0,c.jsxs)(r.qyq,{children:[(0,c.jsx)(r.sNh,{onClick:function(){a((0,P.db)(t)),f.push("".concat(b.So,"/configure/").concat(t.fides_key))},"data-testid":"edit-btn",children:"Edit"}),(0,c.jsx)(v.ZP,{scopes:[x.Sh.SYSTEM_DELETE],children:(0,c.jsx)(r.sNh,{onClick:s,"data-testid":"delete-btn",children:"Delete"})})]})]}),(0,c.jsx)(g.Z,{isOpen:i,onClose:o,onConfirm:k,title:"Delete ".concat(S),message:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(r.xvT,{children:["You are about to permanently delete the system"," ",(0,c.jsx)(r.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:S}),"."]}),(0,c.jsx)(r.xvT,{children:"Are you sure you would like to continue?"})]})})]})},k=function(e,t){var n,r;return(null===(n=e.name)||void 0===n?void 0:n.toLocaleLowerCase().includes(t.toLocaleLowerCase()))||(null===(r=e.description)||void 0===r?void 0:r.toLocaleLowerCase().includes(t.toLocaleLowerCase()))},S=function(e){var t=e.systems,n=(0,i.useState)(""),s=n[0],o=n[1],l=(0,i.useMemo)((function(){return t?t.filter((function(e){return k(e,s)})):[]}),[t,s]);return t&&t.length?(0,c.jsxs)(r.xuv,{"data-testid":"system-management",children:[(0,c.jsx)(r.xuv,{mb:4,"data-testid":"system-filters",children:(0,c.jsx)(a.Z,{search:s,onChange:o,maxWidth:"30vw",placeholder:"Search system name or description","data-testid":"system-search",withIcon:!0})}),(0,c.jsx)(u,{columns:3,items:l,renderItem:function(e){return(0,c.jsx)(C,{system:e})}})]}):(0,c.jsx)("div",{"data-testid":"empty-state",children:"No systems registered."})}},92957:function(e,t,n){"use strict";n.r(t);var r=n(28841),i=(n(27378),n(51471)),s=n(28171),o=n(48466),c=n(13861),u=n(24246);t.default=function(){var e=function(){var e=(0,o.K3)(),t=e.data;return{isLoading:e.isLoading,systems:t}}(),t=e.isLoading,n=e.systems;return(0,u.jsxs)(i.Z,{title:"Systems",mainProps:{paddingTop:0},children:[(0,u.jsx)(s.Z,{breadcrumbs:[{title:"Systems & vendors"}]}),t?(0,u.jsx)(r.$jN,{}):(0,u.jsx)(c.Z,{systems:n})]})}},60041:function(e,t,n){"use strict";n.d(t,{Bw:function(){return o},D4:function(){return i},Dy:function(){return u},XD:function(){return a},cz:function(){return l},hE:function(){return c},oK:function(){return s}});var r=n(76649),i=function(e){return"error"in e},s=function(e){return(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status},o=function(e){return(0,r.Ln)({status:"number",data:{}},e)},c=function(e){return(0,r.Ln)({detail:"string"},e)},u=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},a=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},l=function(e){return(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}},90988:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/systems",function(){return n(92957)}])},33571:function(e){e.exports={"grid-row":"BorderGrid_grid-row__gzSVf","grid-item":"BorderGrid_grid-item__7gUTW"}},76649:function(e,t,n){"use strict";n.d(t,{Ln:function(){return r},uX:function(){return o}});const r=(e,t)=>s(e,t),i=Symbol("SOME"),s=(e,t)=>{if("string"==typeof e)return e===typeof t;if(Array.isArray(e))return i in e?e.some((e=>s(e,t))):!!Array.isArray(t)&&(0===e.length||t.every((t=>e.some((e=>s(e,t))))));if("object"!=typeof t||null===t)return!1;const n=t;return Object.entries(e).every((([e,t])=>s(t,n[e])))},o=e=>t=>r(e,t);class c{static narrow(e){return new c((t=>r(e,t)))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){const t=this.NF,n=e instanceof c?e.NF:e instanceof Function?e:t=>r(e,t);return new c((e=>t(e)&&n(e)))}}new c((e=>!0))}},function(e){e.O(0,[8033,9774,2888,179],(function(){return t=90988,e(e.s=t);var t}));var t=e.O();_N_E=t}]);