(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4202],{44204:function(e,t,n){"use strict";n.d(t,{q:function(){return d}});var r=n(90849),i=n(90089),o=n(28841),a=n(24246),s=["label","isDisabled"],u=["data","border"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.label,n=e.isDisabled,r=(0,i.Z)(e,s);return(0,a.jsx)(o.OK9,{"data-testid":"tab-".concat(t),_selected:{fontWeight:"600",color:"complimentary.500",borderColor:"complimentary.500"},fontSize:r.fontSize,fontWeight:"500",color:"gray.500",isDisabled:n||!1,children:t})};t.Z=function(e){var t=e.data,n=e.border,r=void 0===n?"partial":n,s=(0,i.Z)(e,u);return(0,a.jsxs)(o.mQc,l(l({colorScheme:"complimentary"},s),{},{children:[(0,a.jsx)(o.tdY,{width:"partial"===r?"max-content":void 0,children:t.map((function(e){return(0,a.jsx)(d,{label:e.label,isDisabled:e.isDisabled,fontSize:s.fontSize},e.label)}))}),(0,a.jsx)(o.nPR,{children:t.map((function(e){return(0,a.jsx)(o.x45,{px:0,"data-testid":"tab-panel-".concat(e.label),children:e.content},e.label)}))})]}))}},51471:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(90849),i=n(28841),o=n(88038),a=n.n(o),s=n(86677),u=(n(27378),n(90768)),c=n(51365),l=n(60709),d=n(24246),f=function(){var e=(0,s.useRouter)();return(0,d.jsx)(i.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,d.jsxs)(i.xuv,{children:[(0,d.jsxs)(i.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,d.jsx)(i.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,d.jsx)(i.zxk,{size:"sm",variant:"outline",onClick:function(){e.push(l.fz)},children:"Configure"})]}),(0,d.jsxs)(i.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.children,n=e.title,r=e.padded,o=void 0===r||r,l=e.mainProps,p=(0,u.hz)(),v=(0,s.useRouter)(),b="/privacy-requests"===v.pathname||"/datastore-connection"===v.pathname,h=!(p.flags.privacyRequestsConfiguration&&b),m=(0,c.JE)(void 0,{skip:h}).data,x=(0,c.PW)(void 0,{skip:h}).data,j=p.flags.privacyRequestsConfiguration&&(!m||!x)&&b;return(0,d.jsxs)(i.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,d.jsxs)(a(),{children:[(0,d.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,d.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsxs)(i.kCb,y(y({as:"main",direction:"column",py:o?6:0,px:o?10:0,h:o?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},l),{},{children:[j?(0,d.jsx)(f,{}):null,t]}))]})}},78624:function(e,t,n){"use strict";n.d(t,{D4:function(){return o.D4},MM:function(){return p},Ot:function(){return c},c6:function(){return d},cj:function(){return v},e$:function(){return s},fn:function(){return u},iC:function(){return y},nU:function(){return f},tB:function(){return l}});var r,i=n(90849),o=n(60041),a="An unexpected error occurred. Please try again.",s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if((0,o.Bw)(e)){if((0,o.hE)(e.data))return e.data.detail;if((0,o.cz)(e.data)){var n,r=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null===r||void 0===r?void 0:r.msg,": ").concat(null===r||void 0===r?void 0:r.loc)}if(409===e.status&&(0,o.Dy)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")");if(404===e.status&&(0,o.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t};function u(e){return"object"===typeof e&&null!=e&&"status"in e}function c(e){return"object"===typeof e&&null!=e&&"data"in e&&"string"===typeof e.data.detail}function l(e){return"object"===typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}var d,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:a};if((0,o.oK)(e))return{status:e.originalStatus,message:e.data};if((0,o.Bw)(e)){var n=e.status;return{status:n,message:s(e,t.message)}}return t},p=function(e){return Object.entries(e).map((function(e){return{value:e[1],label:e[1]}}))};!function(e){e.GVL="gvl",e.AC="gacp",e.COMPASS="compass"}(d||(d={}));var y=(r={},(0,i.Z)(r,d.GVL,{label:"GVL",fullName:"Global Vendor List"}),(0,i.Z)(r,d.AC,{label:"AC",fullName:"Google Additional Consent List"}),(0,i.Z)(r,d.COMPASS,{label:"",fullName:""}),r),v=function(e){var t=e.split(".")[0];return t===d.AC?d.AC:t===d.GVL?d.GVL:d.COMPASS}},2458:function(e,t,n){"use strict";var r=n(90849),i=n(28841),o=n(24246);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.isOpen,n=e.onClose,r=e.onConfirm,a=e.onCancel,u=e.title,c=e.message,l=e.cancelButtonText,d=e.cancelButtonThemingProps,f=e.continueButtonText,p=e.continueButtonThemingProps,y=e.isLoading,v=e.returnFocusOnClose,b=e.isCentered,h=e.testId,m=void 0===h?"confirmation-modal":h,x=e.icon;return(0,o.jsxs)(i.u_l,{isOpen:t,onClose:n,size:"lg",returnFocusOnClose:null===v||void 0===v||v,isCentered:b,children:[(0,o.jsx)(i.ZAr,{}),(0,o.jsxs)(i.hzk,{textAlign:"center",p:6,"data-testid":m,children:[x?(0,o.jsx)(i.M5Y,{mb:2,children:x}):null,u?(0,o.jsx)(i.xBx,{fontWeight:"medium",pb:0,children:u}):null,c?(0,o.jsx)(i.fef,{children:c}):null,(0,o.jsx)(i.mzw,{children:(0,o.jsxs)(i.MIq,{columns:2,width:"100%",children:[(0,o.jsx)(i.zxk,s(s({variant:"outline",mr:3,onClick:function(){a&&a(),n()},"data-testid":"cancel-btn",isDisabled:y},d),{},{children:l||"Cancel"})),(0,o.jsx)(i.zxk,s(s({colorScheme:"primary",onClick:r,"data-testid":"continue-btn",isLoading:y},p),{},{children:f||"Continue"}))]})})]})]})}},24753:function(e,t,n){"use strict";n.d(t,{MA:function(){return l},Vo:function(){return f},t5:function(){return d}});var r=n(90849),i=n(28841),o=n(24246);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.children;return(0,o.jsxs)(i.xvT,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",t]})},c=function(e){var t=e.children;return(0,o.jsxs)(i.xvT,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",t]})},l={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var t=(0,o.jsx)(u,{children:e});return s(s({},l),{description:t})},f=function(e){var t=(0,o.jsx)(c,{children:e});return s(s({},l),{description:t,status:"error"})}},2424:function(e,t,n){"use strict";var r=n(90849),i=n(90089),o=n(28841),a=n(24246),s=["name","onClose"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.name,n=e.onClose,r=(0,i.Z)(e,s),u=c({backgroundColor:"primary.400",color:"white","data-testid":"taxonomy-entity-".concat(t),width:"fit-content",size:"sm"},r);return n?(0,a.jsxs)(o.Vp9,c(c({display:"flex",justifyContent:"space-between"},u),{},{children:[(0,a.jsx)(o.Sn0,{children:t}),(0,a.jsx)(o.SD9,{onClick:n,color:"white"})]})):(0,a.jsx)(o.Vp9,c(c({},u),{},{children:t}))}},64929:function(e,t,n){"use strict";n.d(t,{C:function(){return r},P:function(){return i}});var r=function e(t,n){var r;if(null==n&&t.every((function(e){return void 0===e.parent_key})))r=t;else{var i=null!==n&&void 0!==n?n:null;r=t.filter((function(e){return e.parent_key===i}))}return r.map((function(n){var r,i,o=n.fides_key;return{value:n.fides_key,label:""===n.name||null==n.name?n.fides_key:n.name,description:n.description,children:e(t,o),is_default:null!==(r=n.is_default)&&void 0!==r&&r,active:null!==(i=n.active)&&void 0!==i&&i}}))},i=function(e){var t=e.split(".");return 1===t.length?"":t.slice(0,t.length-1).join(".")}},53136:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var r=n(28841),i=n(51471),o=n(6848),a=n(44204),s=n(55732),u=n(97865),c=n(90849),l=n(34707),d=n.n(l),f=n(27378),p=n(82547),y=n(1261),v=n(4938),b=[{label:"Yes",value:"true"},{label:"No",value:"false"}],h=n(43139),m=n(78624),x=n(47134),j=n(75846),g=n(64929),O=n(10612),k=n(24246);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e,t){var n,r,i,o,a,s,u,c;return{fides_key:null!==(n=e.fides_key)&&void 0!==n?n:"",name:null!==(r=e.name)&&void 0!==r?r:"",description:null!==(i=e.description)&&void 0!==i?i:"",parent_key:null!==(o=e.parent_key)&&void 0!==o?o:"",is_default:null!==(a=e.is_default)&&void 0!==a&&a,version_added:null!==(s=e.version_added)&&void 0!==s?s:void 0,version_deprecated:null!==(u=e.version_deprecated)&&void 0!==u?u:void 0,replaced_by:null!==(c=e.replaced_by)&&void 0!==c?c:void 0,customFieldValues:t}},E=function(e,t){var n=""===e.fides_key,r=w({},t);if(n){var i=(0,g.P)(t.fides_key);r.parent_key=""===i?void 0:i}else r.parent_key=""===e.parent_key?void 0:e.parent_key,r.fides_key=e.fides_key;return delete r.customFieldValues,r};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e){var t=e.nodes,n=e.focusedKey,i=e.renderHover,o=e.renderTag,a=(0,f.useState)(void 0),s=a[0],u=a[1],c=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=(null===s||void 0===s?void 0:s.value)===t.value,l=n===t.value,d={borderBottom:"1px solid",borderColor:"gray.200",display:"flex",justifyContent:"space-between",alignItems:"center",pl:3*a,_hover:{bg:"gray.50"},onMouseEnter:function(){u(t)},onMouseLeave:function(){u(void 0)}},p=c&&i?i(t):null;return 0===t.children.length?(0,k.jsxs)(r.xuv,D(D({py:2},d),{},{children:[(0,k.jsxs)(r.xuv,{display:"flex",alignItems:"center",children:[(0,k.jsx)(r.xvT,{"data-testid":"item-".concat(t.label),pl:5,color:l?"complimentary.500":void 0,mr:2,children:t.label}),o?o(t):null]}),p]})):(0,k.jsxs)(r.Qdk,{p:0,border:"none",children:[(0,k.jsxs)(r.xuv,D(D({},d),{},{children:[(0,k.jsxs)(r.KFZ,{_expanded:{color:"complimentary.500"},_hover:{bg:"gray.50"},pl:0,color:l?"complimentary.500":void 0,children:[(0,k.jsx)(r.XEm,{}),(0,k.jsx)(r.xvT,{"data-testid":"accordion-item-".concat(t.label),mr:2,children:t.label}),o?o(t):null]}),p]})),(0,k.jsx)(r.Hk3,{p:0,children:t.children.map((function(t){return(0,k.jsx)(f.Fragment,{children:e(t,a+1)},t.value)}))})]})};return(0,k.jsx)(r.xuv,{boxSizing:"border-box",children:(0,k.jsx)(r.UQy,{allowMultiple:!0,children:t.map((function(e){return(0,k.jsx)(r.xuv,{children:c(e)},e.value)}))})})},S=n(2458),Z=n(24753),F=n(33167),z=function(e){var t=e.node,n=e.onEdit,i=e.onDelete,o=e.onDisable,a=!t.is_default;return(0,k.jsxs)(r.Ugi,{mr:4,children:[(0,k.jsxs)(r.hE2,{size:"xs",variant:"outline",colorScheme:"gray","data-testid":"action-btns",children:[(0,k.jsx)(r.hU,{"aria-label":"Edit",icon:(0,k.jsx)(r.dY8,{boxSize:3}),onClick:function(){return n(t)},"data-testid":"edit-btn"}),a?(0,k.jsx)(r.hU,{"aria-label":"Delete",icon:(0,k.jsx)(r.pJl,{boxSize:3}),onClick:function(){return i(t)},"data-testid":"delete-btn"}):null]}),(0,k.jsx)(r.rsf,{size:"sm",colorScheme:"purple",defaultChecked:t.active,onChange:function(){return o(t)}}),(0,k.jsx)(r.xvT,{children:"Enabled"})]})},A=n(34090),L=n(14633),V=n(2424),M=function(e){var t=e.labels,n=e.onCancel,i=e.onSubmit,o=e.renderExtraFormFields,a=e.initialValues,u=(0,r.pmc)(),c=(0,f.useState)(null),l=c[0],p=c[1],y=L.Ry().shape({fides_key:L.Z_().required().label(t.fides_key)}),v=""===a.fides_key,b=function(e){var t=(0,m.nU)(e);p(t.message)},x=function(){var e=(0,s.Z)(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(null),e.next=3,i(a,t);case 3:r=e.sent,(0,m.D4)(r)?b(r.error):(u((0,Z.t5)("Taxonomy successfully ".concat(v?"created":"updated"))),v&&n());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,k.jsxs)(r.Kqy,{pl:6,spacing:6,"data-testid":"".concat(v?"create":"edit","-taxonomy-form"),children:[(0,k.jsxs)(r.X6q,{size:"md",textTransform:"capitalize","data-testid":"form-heading",children:[v?"Create":"Modify"," ",t.fides_key]}),(0,k.jsx)(A.J9,{initialValues:a,onSubmit:x,validationSchema:y,enableReinitialize:!0,children:function(e){var i=e.dirty,s=e.values;return(0,k.jsxs)(A.l0,{children:[(0,k.jsxs)(r.Kqy,{mb:6,children:[v?(0,k.jsx)(h.j0,{name:"fides_key",label:t.fides_key}):(0,k.jsxs)(r.rjZ,{templateColumns:"1fr 3fr",children:[(0,k.jsx)(r.lXp,{children:t.fides_key}),(0,k.jsx)(r.xuv,{children:(0,k.jsx)(V.Z,{name:a.fides_key})})]}),(0,k.jsx)(h.j0,{name:"name",label:t.name}),(0,k.jsx)(h.Ks,{name:"description",label:t.description}),t.parent_key&&(v?(0,k.jsxs)(r.rjZ,{templateColumns:"1fr 3fr",children:[(0,k.jsx)(r.lXp,{children:t.parent_key}),(0,k.jsx)(r.xuv,{mr:"2",children:(0,k.jsx)(r.IIB,{"data-testid":"input-parent_key",disabled:!0,value:(0,g.P)(s.fides_key),size:"sm"})})]}):(0,k.jsx)(h.j0,{name:"parent_key",label:t.parent_key,disabled:!v})),o?o(s):null]}),l?(0,k.jsx)(r.xvT,{color:"red",mb:2,"data-testid":"taxonomy-form-error",children:l}):null,(0,k.jsxs)(r.hE2,{size:"sm",children:[(0,k.jsx)(r.zxk,{"data-testid":"cancel-btn",variant:"outline",onClick:n,children:"Cancel"}),(0,k.jsx)(r.zxk,{"data-testid":"submit-btn",variant:"primary",type:"submit",disabled:!v&&!i,children:v?"Create entity":"Update entity"})]})]})}})]})},K=function(e){var t=e.node;return t.is_default?null:(0,k.jsx)(r.Vp9,{backgroundColor:"purple.500",color:"white",size:"sm",height:"fit-content","data-testid":"custom-tag-".concat(t.label),children:"CUSTOM"})},q=function(e){var t=e.node;return t.active?null:(0,k.jsx)(r.Vp9,{backgroundColor:"gray.500",color:"white",size:"sm",height:"fit-content","data-testid":"custom-tag-".concat(t.label),children:"DISABLED"})},R={fides_key:"",parent_key:"",name:"",description:""},B=function(e){var t=e.useTaxonomy,n=(0,o.T)(),i=t(),a=i.isLoading,u=i.data,c=i.labels,l=i.entityToEdit,p=i.setEntityToEdit,y=i.handleCreate,v=i.handleEdit,b=i.handleDelete,h=i.handleToggleEnabled,x=i.renderExtraFormFields,j=i.transformEntityToInitialValues,_=(0,f.useMemo)((function(){return u?(0,g.C)(u):null}),[u]),w=(0,f.useState)(null),C=w[0],E=w[1],P=(0,f.useState)(null),D=P[0],A=P[1],L=(0,o.C)(O.yK);(0,f.useEffect)((function(){L&&p(null)}),[L,p]);var V=function(){n((0,O.Gz)(!1))},B=(0,r.qY0)(),N=B.isOpen,I=B.onOpen,G=B.onClose,U=(0,r.qY0)(),X=U.isOpen,W=U.onOpen,Y=U.onClose,J=(0,r.pmc)();if(a)return(0,k.jsx)(r.M5Y,{children:(0,k.jsx)(r.$jN,{})});if(!_)return(0,k.jsx)(r.xvT,{children:"Could not find data."});var Q=c.fides_key.toLocaleLowerCase(),$=function(e){var t;L&&V();var n=null!==(t=null===u||void 0===u?void 0:u.find((function(t){return t.fides_key===e.value})))&&void 0!==t?t:null;p(n)},H=function(e){E(e),I()},ee=function(e){A(e),W()},te=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=7;break}return e.next=3,b(C.value);case 3:t=e.sent,(0,F.isErrorResult)(t)?J((0,Z.Vo)((0,m.e$)(t.error))):J((0,Z.t5)("Successfully deleted ".concat(Q))),G(),p(null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null!==(t=D&&(null===u||void 0===u?void 0:u.find((function(e){return e.fides_key===D.value}))))&&void 0!==t?t:null)){e.next=9;break}return r=null===D||void 0===D?void 0:D.active,e.next=5,h(n,!r);case 5:i=e.sent,(0,F.isErrorResult)(i)?J((0,Z.Vo)((0,m.e$)(i.error))):J((0,Z.t5)("Successfully ".concat(r?"disabled":"enabled"," ").concat(Q))),Y(),p(null);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(r.MIq,{columns:2,spacing:2,children:[(0,k.jsx)(T,{nodes:_,focusedKey:null===l||void 0===l?void 0:l.fides_key,renderHover:function(e){return(0,k.jsx)(z,{onDelete:H,onEdit:$,onDisable:ee,node:e})},renderTag:function(e){return(0,k.jsxs)(r.Ugi,{spacing:2,children:[(0,k.jsx)(K,{node:e}),(0,k.jsx)(q,{node:e})]})}}),l?(0,k.jsx)(M,{labels:c,onCancel:function(){return p(null)},onSubmit:v,renderExtraFormFields:x,initialValues:j(l)}):null,L?(0,k.jsx)(M,{labels:c,onCancel:V,onSubmit:y,renderExtraFormFields:x,initialValues:j(R)}):null]}),C?(0,k.jsx)(S.Z,{isOpen:N,onClose:G,onConfirm:te,title:"Delete ".concat(Q),message:(0,k.jsxs)(r.Kqy,{children:[(0,k.jsxs)(r.xvT,{children:["You are about to permanently delete the ",Q," ",(0,k.jsx)(r.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:C.value})," ","from your taxonomy. Are you sure you would like to continue?"]}),C.children.length?(0,k.jsxs)(r.xvT,{color:"red","data-testid":"delete-children-warning",children:["Deleting"," ",(0,k.jsx)(r.xvT,{as:"span",fontWeight:"bold",children:C.value})," ","will also delete all of its children."]}):null]})}):null,D?(0,k.jsx)(S.Z,{isOpen:X,onClose:Y,onConfirm:ne,title:"".concat(D.active?"Disable":"Enable"," ").concat(Q),message:(0,k.jsx)(r.Kqy,{children:(0,k.jsxs)(r.xvT,{children:["This will ",D.active?"disable":"enable"," ","the ",Q," ",(0,k.jsx)(r.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:D.value})," ","from your taxonomy."]})})}):null]})},N=[{label:"Data Categories",content:(0,k.jsx)(B,{useTaxonomy:function(){var e=v.P6.DATA_CATEGORY,t=(0,f.useState)(null),n=t[0],r=t[1],i=(0,O.MO)(),o=i.data,a=i.isLoading,c=(0,O.Ti)(),l=(0,u.Z)(c,1)[0],b=(0,O.jU)(),h=(0,u.Z)(b,1)[0],m=(0,O.K9)(),x=(0,u.Z)(m,1)[0],j=(0,y.m)({resourceFidesKey:null===n||void 0===n?void 0:n.fides_key,resourceType:e}),g=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=E(t,n),e.next=3,l(r);case 3:if(i=e.sent,!j.isEnabled){e.next=7;break}return e.next=7,j.upsertCustomFields(n);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=E(t,n),i=h(r),!j.isEnabled){e.next=5;break}return e.next=5,j.upsertCustomFields(n);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=x,D=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=w(w({},t),{},{active:n}),i=h(r),e.abrupt("return",i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{data:o,isLoading:a,labels:{fides_key:"Data category",name:"Category name",description:"Category description",parent_key:"Parent category"},resourceType:e,entityToEdit:n,setEntityToEdit:r,handleCreate:g,handleEdit:_,handleDelete:P,handleToggleEnabled:D,renderExtraFormFields:function(t){return(0,k.jsx)(p.uc,{resourceFidesKey:t.fides_key,resourceType:e})},transformEntityToInitialValues:function(e){return C(e,j.customFieldValues)}}}})},{label:"Data Uses",content:(0,k.jsx)(B,{useTaxonomy:function(){var e=v.P6.DATA_USE,t=(0,f.useState)(null),n=t[0],r=t[1],i=(0,j.fd)(),o=i.data,a=i.isLoading,c=(0,j.Ql)(),l=(0,u.Z)(c,1)[0],b=(0,j.LG)(),h=(0,u.Z)(b,1)[0],m=(0,j.gu)(),x=(0,u.Z)(m,1)[0],g=function(e){return w({},e)},O=(0,y.m)({resourceFidesKey:null===n||void 0===n?void 0:n.fides_key,resourceType:e}),_=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g(E(t,n)),e.next=3,l(r);case 3:if(i=e.sent,!O.isEnabled){e.next=7;break}return e.next=7,O.upsertCustomFields(n);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g(E(t,n)),i=h(r),!O.isEnabled){e.next=5;break}return e.next=5,O.upsertCustomFields(n);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=x,T=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=w(w({},t),{},{active:n}),i=h(r),!O.isEnabled){e.next=5;break}return e.next=5,O.upsertCustomFields(r);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{data:o,isLoading:a,labels:{fides_key:"Data use",name:"Data use name",description:"Data use description",parent_key:"Parent data use"},resourceType:e,entityToEdit:n,setEntityToEdit:r,handleCreate:_,handleEdit:P,handleDelete:D,handleToggleEnabled:T,renderExtraFormFields:function(t){return(0,k.jsx)(p.uc,{resourceFidesKey:t.fides_key,resourceType:e})},transformEntityToInitialValues:function(e){return w({},C(e,O.customFieldValues))}}}})},{label:"Data Subjects",content:(0,k.jsx)(B,{useTaxonomy:function(){var e=v.P6.DATA_SUBJECT,t=(0,f.useState)(null),n=t[0],r=t[1],i=(0,x.te)(),o=i.data,a=i.isLoading,c={fides_key:"Data subject",name:"Data subject name",description:"Data subject description",rights:"Rights",strategy:"Strategy",automatic_decisions:"Automatic decisions or profiling"},l=(0,x.wG)(),j=(0,u.Z)(l,1)[0],g=(0,x.h8)(),O=(0,u.Z)(g,1)[0],_=(0,x.Kv)(),P=(0,u.Z)(_,1)[0],D=function(e){var t,n=w(w({},e),{},{rights:e.rights.length?{values:e.rights,strategy:e.strategy}:void 0,automatic_decisions_or_profiling:!("true"!==(null===(t=e.automated_decisions_or_profiling)||void 0===t?void 0:t.toString()))});return delete n.strategy,n},T=(0,y.m)({resourceFidesKey:null===n||void 0===n?void 0:n.fides_key,resourceType:e}),S=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(E(t,n)),e.next=3,j(r);case 3:if(i=e.sent,!T.isEnabled){e.next=7;break}return e.next=7,T.upsertCustomFields(n);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(E(t,n)),i=O(r),!T.isEnabled){e.next=5;break}return e.next=5,T.upsertCustomFields(n);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=P,z=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=w(w({},t),{},{active:n}),i=O(r),!T.isEnabled){e.next=5;break}return e.next=5,T.upsertCustomFields(r);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{data:o,isLoading:a,labels:c,resourceType:e,entityToEdit:n,setEntityToEdit:r,handleCreate:S,handleEdit:Z,handleDelete:F,handleToggleEnabled:z,renderExtraFormFields:function(t){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.AP,{name:"rights",label:c.rights,options:(0,m.MM)(v.ts),isMulti:!0}),t.rights&&t.rights.length?(0,k.jsx)(h.AP,{name:"strategy",label:c.strategy,options:(0,m.MM)(v.jX)}):null,(0,k.jsx)(h.xt,{name:"automatic_decisions_or_profiling",label:c.automatic_decisions,options:b}),(0,k.jsx)(p.uc,{resourceFidesKey:t.fides_key,resourceType:e})]})},transformEntityToInitialValues:function(e){var t,n,r;return w(w({},C(e,T.customFieldValues)),{},{rights:null!==(t=null===(n=e.rights)||void 0===n?void 0:n.values)&&void 0!==t?t:[],strategy:null===(r=e.rights)||void 0===r?void 0:r.strategy,automatic_decisions_or_profiling:null==e.automated_decisions_or_profiling?"false":e.automated_decisions_or_profiling.toString()})}}}})}],I=function(){var e=(0,o.T)();return(0,k.jsxs)(r.xuv,{"data-testid":"taxonomy-tabs",display:"flex",children:[(0,k.jsx)(a.Z,{border:"full-width",data:N,flexGrow:1,isLazy:!0}),(0,k.jsx)(r.xuv,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,k.jsx)(r.zxk,{size:"sm",variant:"outline",onClick:function(){e((0,O.Gz)(!0))},"data-testid":"add-taxonomy-btn",children:"Add Taxonomy Entity +"})})]})},G=function(){return(0,k.jsxs)(i.Z,{title:"Datasets",children:[(0,k.jsx)(r.X6q,{mb:2,fontSize:"2xl",fontWeight:"semibold",children:"Taxonomy Management"}),(0,k.jsx)(I,{})]})}},60041:function(e,t,n){"use strict";n.d(t,{Bw:function(){return a},D4:function(){return i},Dy:function(){return u},XD:function(){return c},cz:function(){return l},hE:function(){return s},oK:function(){return o}});var r=n(76649),i=function(e){return"error"in e},o=function(e){return(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status},a=function(e){return(0,r.Ln)({status:"number",data:{}},e)},s=function(e){return(0,r.Ln)({detail:"string"},e)},u=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},c=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},l=function(e){return(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}},33167:function(e,t,n){"use strict";n.d(t,{isAPIError:function(){return r.Bw},isErrorResult:function(){return r.D4}});var r=n(60041)},71180:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/taxonomy",function(){return n(53136)}])},76649:function(e,t,n){"use strict";n.d(t,{Ln:function(){return r},uX:function(){return a}});const r=(e,t)=>o(e,t),i=Symbol("SOME"),o=(e,t)=>{if("string"==typeof e)return e===typeof t;if(Array.isArray(e))return i in e?e.some((e=>o(e,t))):!!Array.isArray(t)&&(0===e.length||t.every((t=>e.some((e=>o(e,t))))));if("object"!=typeof t||null===t)return!1;const n=t;return Object.entries(e).every((([e,t])=>o(t,n[e])))},a=e=>t=>r(e,t);class s{static narrow(e){return new s((t=>r(e,t)))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){const t=this.NF,n=e instanceof s?e.NF:e instanceof Function?e:t=>r(e,t);return new s((e=>t(e)&&n(e)))}}new s((e=>!0))}},function(e){e.O(0,[2547,9774,2888,179],(function(){return t=71180,e(e.s=t);var t}));var t=e.O();_N_E=t}]);