(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2828],{51471:function(t,e,n){"use strict";n.d(e,{Z:function(){return y}});var r=n(90849),i=n(28841),o=n(88038),a=n.n(o),s=n(86677),c=(n(27378),n(90768)),u=n(51365),d=n(60709),l=n(24246),f=function(){var t=(0,s.useRouter)();return(0,l.jsx)(i.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,l.jsxs)(i.xuv,{children:[(0,l.jsxs)(i.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,l.jsx)(i.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,l.jsx)(i.zxk,{size:"sm",variant:"outline",onClick:function(){t.push(d.fz)},children:"Configure"})]}),(0,l.jsxs)(i.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})};function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y=function(t){var e=t.children,n=t.title,r=t.padded,o=void 0===r||r,d=t.mainProps,p=(0,c.hz)(),y=(0,s.useRouter)(),v="/privacy-requests"===y.pathname||"/datastore-connection"===y.pathname,b=!(p.flags.privacyRequestsConfiguration&&v),m=(0,u.JE)(void 0,{skip:b}).data,h=(0,u.PW)(void 0,{skip:b}).data,j=p.flags.privacyRequestsConfiguration&&(!m||!h)&&v;return(0,l.jsxs)(i.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,l.jsxs)(a(),{children:[(0,l.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,l.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsxs)(i.kCb,g(g({as:"main",direction:"column",py:o?6:0,px:o?10:0,h:o?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},d),{},{children:[j?(0,l.jsx)(f,{}):null,e]}))]})}},78624:function(t,e,n){"use strict";n.d(e,{D4:function(){return o.D4},MM:function(){return p},Ot:function(){return u},c6:function(){return l},cj:function(){return y},e$:function(){return s},fn:function(){return c},iC:function(){return g},nU:function(){return f},tB:function(){return d}});var r,i=n(90849),o=n(60041),a="An unexpected error occurred. Please try again.",s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if((0,o.Bw)(t)){if((0,o.hE)(t.data))return t.data.detail;if((0,o.cz)(t.data)){var n,r=null===(n=t.data.detail)||void 0===n?void 0:n[0];return"".concat(null===r||void 0===r?void 0:r.msg,": ").concat(null===r||void 0===r?void 0:r.loc)}if(409===t.status&&(0,o.Dy)(t.data))return"".concat(t.data.detail.error," (").concat(t.data.detail.fides_key,")");if(404===t.status&&(0,o.XD)(t.data))return"".concat(t.data.detail.error," (").concat(t.data.detail.fides_key,")")}return e};function c(t){return"object"===typeof t&&null!=t&&"status"in t}function u(t){return"object"===typeof t&&null!=t&&"data"in t&&"string"===typeof t.data.detail}function d(t){return"object"===typeof t&&null!=t&&"data"in t&&Array.isArray(t.data.detail)}var l,f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:a};if((0,o.oK)(t))return{status:t.originalStatus,message:t.data};if((0,o.Bw)(t)){var n=t.status;return{status:n,message:s(t,e.message)}}return e},p=function(t){return Object.entries(t).map((function(t){return{value:t[1],label:t[1]}}))};!function(t){t.GVL="gvl",t.AC="gacp",t.COMPASS="compass"}(l||(l={}));var g=(r={},(0,i.Z)(r,l.GVL,{label:"GVL",fullName:"Global Vendor List"}),(0,i.Z)(r,l.AC,{label:"AC",fullName:"Google Additional Consent List"}),(0,i.Z)(r,l.COMPASS,{label:"",fullName:""}),r),y=function(t){var e=t.split(".")[0];return e===l.AC?l.AC:e===l.GVL?l.GVL:l.COMPASS}},24753:function(t,e,n){"use strict";n.d(e,{MA:function(){return d},Vo:function(){return f},t5:function(){return l}});var r=n(90849),i=n(28841),o=n(24246);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=function(t){var e=t.children;return(0,o.jsxs)(i.xvT,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",e]})},u=function(t){var e=t.children;return(0,o.jsxs)(i.xvT,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",e]})},d={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},l=function(t){var e=(0,o.jsx)(c,{children:t});return s(s({},d),{description:e})},f=function(t){var e=(0,o.jsx)(u,{children:t});return s(s({},d),{description:e,status:"error"})}},60547:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return w}});var r=n(28841),i=n(51471),o=n(41609),a=n(55732),s=n(97865),c=n(90849),u=n(34707),d=n.n(u),l=n(34090),f=n(27378),p=n(14633),g=n(43139),y=n(78624),v=n(24753),b=n(24246);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var h={description:"",fides_key:o.Av,name:""},j=function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)},O=p.Ry().shape({description:p.Z_().required().label("Description"),fides_key:p.Z_().required().label("Organization Fides Key"),name:p.Z_().required().label("Name")}),x=function(t){var e=t.organization,n=t.onSuccess,i=(0,o.$f)(),c=(0,s.Z)(i,2),u=c[0],p=c[1],m=(0,f.useMemo)((function(){return e?j(e):h}),[e]),x=(0,r.pmc)(),w=function(){var t=(0,a.Z)(d().mark((function t(e,r){var i,o,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={description:(s=e).description,fides_key:s.fides_key,name:s.name},o=function(t){if((0,y.D4)(t)){var o=(0,y.e$)(t.error,"An unexpected error occurred while editing the organization. Please try again.");x((0,v.Vo)(o))}else x((0,v.t5)("Organization configuration saved.")),r.resetForm({values:e}),n&&n(i)},t.next=4,u(i);case 4:a=t.sent,o(a);case 6:case"end":return t.stop()}var s}),t)})));return function(e,n){return t.apply(this,arguments)}}(),P=!e||p.isLoading;return(0,b.jsx)(l.J9,{initialValues:m,enableReinitialize:!0,onSubmit:w,validationSchema:O,children:function(t){var e=t.dirty,n=t.isValid;return(0,b.jsx)(l.l0,{"data-testid":"organization-form",children:(0,b.jsxs)(r.Kqy,{spacing:4,children:[(0,b.jsx)(g.j0,{id:"fides_key",name:"fides_key",label:"Fides Key",disabled:!0,tooltip:"A unique key that identifies your organization. Not editable via UI.",variant:"stacked"}),(0,b.jsx)(g.j0,{id:"name",name:"name",label:"Name",disabled:P,tooltip:"User-friendly name for your organization, used in messaging to end-users and other public locations.",variant:"stacked"}),(0,b.jsx)(g.j0,{id:"description",name:"description",label:"Description",disabled:P,tooltip:"Short description of your organization, your services, etc.",variant:"stacked"}),(0,b.jsx)(r.xuv,{textAlign:"right",children:(0,b.jsx)(r.zxk,{type:"submit",variant:"primary",size:"sm",isDisabled:P||!e||!n,isLoading:P,"data-testid":"save-btn",children:"Save"})})]})})}})},w=function(){var t=(0,o.GQ)(o.Av).data;return(0,b.jsx)(i.Z,{title:"Organization",children:(0,b.jsxs)(r.xuv,{"data-testid":"organization-management",children:[(0,b.jsx)(r.X6q,{marginBottom:4,fontSize:"2xl",children:"Organization Management"}),(0,b.jsxs)(r.xuv,{maxWidth:"600px",children:[(0,b.jsx)(r.xvT,{marginBottom:10,fontSize:"sm",children:"Please use this section to manage your organization\u2018s details, including key information that will be recorded in the RoPA (Record of Processing Activities)."}),(0,b.jsx)(r.xuv,{background:"gray.50",padding:2,children:(0,b.jsx)(x,{organization:t})})]})]})})}},60041:function(t,e,n){"use strict";n.d(e,{Bw:function(){return a},D4:function(){return i},Dy:function(){return c},XD:function(){return u},cz:function(){return d},hE:function(){return s},oK:function(){return o}});var r=n(76649),i=function(t){return"error"in t},o=function(t){return(0,r.Ln)({status:"string"},t)&&"PARSING_ERROR"===t.status},a=function(t){return(0,r.Ln)({status:"number",data:{}},t)},s=function(t){return(0,r.Ln)({detail:"string"},t)},c=function(t){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},t)},u=function(t){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},t)},d=function(t){return(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},t)}},85082:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/organization",function(){return n(60547)}])},76649:function(t,e,n){"use strict";n.d(e,{Ln:function(){return r},uX:function(){return a}});const r=(t,e)=>o(t,e),i=Symbol("SOME"),o=(t,e)=>{if("string"==typeof t)return t===typeof e;if(Array.isArray(t))return i in t?t.some((t=>o(t,e))):!!Array.isArray(e)&&(0===t.length||e.every((e=>t.some((t=>o(t,e))))));if("object"!=typeof e||null===e)return!1;const n=e;return Object.entries(t).every((([t,e])=>o(e,n[t])))},a=t=>e=>r(t,e);class s{static narrow(t){return new s((e=>r(t,e)))}constructor(t){this.NF=void 0,this.NF=t}satisfied(t){return this.NF(t)}build(t){return t}and(t){const e=this.NF,n=t instanceof s?t.NF:t instanceof Function?t:e=>r(t,e);return new s((t=>e(t)&&n(t)))}}new s((t=>!0))}},function(t){t.O(0,[9774,2888,179],(function(){return e=85082,t(t.s=e);var e}));var e=t.O();_N_E=e}]);