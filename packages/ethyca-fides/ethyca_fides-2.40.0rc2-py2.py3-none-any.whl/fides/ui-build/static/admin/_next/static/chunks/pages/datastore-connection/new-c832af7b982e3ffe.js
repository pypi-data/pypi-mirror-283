(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6050],{63238:function(e,n,t){"use strict";t.d(n,{Tg:function(){return s}});var r=t(6848),i=t(67788),o=t(24246),s=function(e){return(0,r.C)(i.uu).filter((function(n){return e.includes(n)})).length>0};n.ZP=function(e){var n=e.scopes,t=e.children;return s(n)?(0,o.jsx)(o.Fragment,{children:t}):null}},92364:function(e,n,t){"use strict";var r=t(90849),i=t(97865),o=t(73679),s=t(28841),c=t(27378),a=t(24246);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n,t=e.disabled,r=void 0!==t&&t,u=e.enableSorting,d=void 0===u||u,p=e.hasClear,f=void 0===p||p,h=e.label,x=e.list,v=e.menuButtonProps,j=e.onChange,b=e.selectedValue,m=(0,c.useState)(!1),g=m[0],y=m[1],O=function(){y(!1)},C=null===(n=(0,o.Z)(x).find((function(e){return(0,i.Z)(e,2)[1].value===b})))||void 0===n?void 0:n[0];return(0,a.jsxs)(s.v2r,{isLazy:!0,onClose:O,onOpen:function(){y(!0)},strategy:"fixed",children:[(0,a.jsx)(s.j2t,l(l({"aria-label":null!==C&&void 0!==C?C:h,as:s.zxk,color:C?"complimentary.500":void 0,disabled:r,fontWeight:"normal",rightIcon:(0,a.jsx)(s.mCO,{}),size:"sm",variant:"outline",_active:{bg:"none"},_hover:{bg:"none"}},v),{},{"data-testid":"select-dropdown-btn",children:(0,a.jsx)(s.xvT,{isTruncated:!0,children:null!==C&&void 0!==C?C:h})})),g?(0,a.jsxs)(s.qyq,{lineHeight:"1rem",p:"0","data-testid":"select-dropdown-list",children:[f&&(0,a.jsx)(s.kCb,{borderBottom:"1px",borderColor:"gray.200",cursor:"auto",p:"8px",children:(0,a.jsx)(s.zxk,{onClick:function(){j(void 0),O()},size:"xs",variant:"outline",children:"Clear"})}),(d?(0,o.Z)(x).sort():(0,o.Z)(x)).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return(0,a.jsx)(s.ua7,{"aria-label":r.toolTip,hasArrow:!0,label:r.toolTip,placement:"auto-start",openDelay:500,shouldWrapChildren:!0,children:(0,a.jsx)(s.sNh,{color:b===r.value?"complimentary.500":void 0,isDisabled:r.isDisabled,onClick:function(){return j(r.value)},paddingTop:"10px",paddingRight:"8.5px",paddingBottom:"10px",paddingLeft:"8.5px",_focus:{bg:"gray.100"},children:(0,a.jsx)(s.xvT,{fontSize:"0.75rem",children:t})})},t)}))]}):null]})}},24753:function(e,n,t){"use strict";t.d(n,{MA:function(){return l},Vo:function(){return p},t5:function(){return d}});var r=t(90849),i=t(28841),o=t(24246);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var a=function(e){var n=e.children;return(0,o.jsxs)(i.xvT,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",n]})},u=function(e){var n=e.children;return(0,o.jsxs)(i.xvT,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",n]})},l={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var n=(0,o.jsx)(a,{children:e});return c(c({},l),{description:n})},p=function(e){var n=(0,o.jsx)(u,{children:e});return c(c({},l),{description:n,status:"error"})}},92213:function(e,n,t){"use strict";t.d(n,{Z:function(){return O}});var r=t(90849),i=t(55732),o=t(97865),s=t(34707),c=t.n(s),a=t(28841),u=t(27378),l=t(44833),d=t(60245),p=t(78624),f=t(24753),h=t(86700),x=t(89319),v=t(10141),j=t(28703),b=((0,x.oM)({name:"connectorTemplate",initialState:{},reducers:{}}).reducer,j.u.injectEndpoints({endpoints:function(e){return{registerConnectorTemplate:e.mutation({query:function(e){var n=new FormData;return n.append("file",e),{url:"".concat(v.o4,"/register"),method:"POST",body:n}},invalidatesTags:function(){return["Connection Type"]}})}}}).useRegisterConnectorTemplateMutation),m=t(24246);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var O=function(e){var n=e.isOpen,t=e.onClose,r=e.testId,s=void 0===r?"connector-template-modal":r,x=(0,d.I0)(),v=(0,u.useState)(null),j=v[0],g=v[1],O=(0,a.pmc)(),C=(0,l.uI)({onDrop:function(e){var n;"zip"===(null===(n=e[0].name.split(".").pop())||void 0===n?void 0:n.toLowerCase())?g(e[0]):O((0,f.Vo)("Only zip files are allowed."))}}),w=C.getRootProps,S=C.getInputProps,T=C.isDragActive,k=b(),P=(0,o.Z)(k,2),I=P[0],Z=P[1].isLoading,E=(0,h.$I)({search:""},{skip:!1}).refetch,_=function(){var e=(0,i.Z)(c().mark((function e(){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=19;break}return e.prev=1,e.next=4,I(j).unwrap();case 4:return O((0,f.t5)("Integration template uploaded successfully.")),e.next=7,E();case 7:r=e.sent,i=r.data,x((0,h.fP)(null!==(n=null===i||void 0===i?void 0:i.items)&&void 0!==n?n:[])),t(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),O((0,f.Vo)((0,p.e$)(e.t0)));case 16:return e.prev=16,g(null),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)(a.u_l,{isOpen:n,onClose:t,size:"2xl",children:[(0,m.jsx)(a.ZAr,{}),(0,m.jsxs)(a.hzk,{textAlign:"left",p:2,"data-testid":s,children:[(0,m.jsx)(a.xBx,{children:"Upload integration template"}),(0,m.jsxs)(a.fef,{children:[(0,m.jsx)(a.xvT,{fontSize:"sm",mb:4,children:"Drag and drop your integration template zip file here, or click to browse your files."}),(0,m.jsxs)(a.xuv,y(y({},w()),{},{bg:T?"gray.100":"gray.50",border:"2px dashed",borderColor:T?"gray.300":"gray.200",borderRadius:"md",cursor:"pointer",minHeight:"150px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",children:[(0,m.jsx)("input",y({},S())),j?(0,m.jsx)(a.xvT,{children:j.name}):T?(0,m.jsx)(a.xvT,{children:"Drop the file here..."}):(0,m.jsx)(a.xvT,{children:"Click or drag and drop your file here."})]})),(0,m.jsx)(a.xvT,{fontSize:"sm",mt:4,children:"An integration template zip file must include a SaaS config and dataset, but may also contain an icon (.svg) as an optional file."})]}),(0,m.jsx)(a.mzw,{children:(0,m.jsxs)(a.hE2,{size:"sm",spacing:"2",width:"100%",display:"flex",justifyContent:"right",children:[(0,m.jsx)(a.zxk,{variant:"outline",onClick:t,"data-testid":"cancel-btn",isDisabled:Z,children:"Cancel"}),(0,m.jsx)(a.zxk,{colorScheme:"primary",type:"submit",isDisabled:!j||Z,onClick:_,"data-testid":"submit-btn",children:"Submit"})]})})]})]})}},79375:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return A}});var r=t(64289),i=t(43890),o=t(28841),s=t(86677),c=t(27378),a=t(60245),u=t(6848),l=t(56069),d=t(60709),p=t(73679),f=t(1326),h=t(63238),x=t(92213),v=t(4938),j=t(92364),b=t(13717),m=t(24246),g=function(e){var n=e.width,t=(0,a.I0)(),i=(0,c.useRef)(!1),s=(0,u.C)(r.pw);return(0,c.useEffect)((function(){return i.current=!0,function(){t((0,r.zq)(b.gA)),i.current=!1}}),[t]),(0,m.jsx)(o.xuv,{children:(0,m.jsx)(j.Z,{enableSorting:!1,hasClear:!1,label:"Show all connectors",list:b.yI,menuButtonProps:{width:n},onChange:function(e){t((0,r.zq)(e||b.gA))},selectedValue:s.system_type||b.gA})})},y=t(79894),O=t.n(y),C=function(e){var n=e.items;return(0,m.jsx)(o.MIq,{columns:4,spacingX:"16px",spacingY:"16px",children:n.map((function(e){return(0,m.jsx)(O(),{href:{pathname:window.location.pathname,query:{step:2,connectorType:JSON.stringify(e)}},passHref:!0,children:(0,m.jsx)(o.xuv,{boxShadow:"base",borderRadius:"5px",maxWidth:"331px",overflow:"hidden",_hover:{boxShadow:"lg",cursor:"pointer"},"data-testid":"".concat(e.identifier,"-item"),children:(0,m.jsxs)(o.kCb,{alignItems:"center",justifyContent:"start",pl:"24px",pr:"24px",color:"gray.700",fontSize:"14px",fontStyle:"normal",fontWeight:"600",lineHeight:"20px",h:"80px",children:[(0,m.jsx)(i.Z,{data:e}),(0,m.jsx)(o.xvT,{ml:"12px",children:e.human_readable})]})})},e.identifier)}))})},w=function(){var e=(0,a.I0)(),n=(0,c.useRef)(!1),t=(0,u.C)(r.ZZ).step,i=(0,u.C)(r.pw),s=(0,r.$I)(i),l=s.data,d=s.isFetching,j=s.isLoading,b=s.isSuccess,y=(0,c.useState)(!1),O=y[0],w=y[1],S=(0,c.useCallback)((function(n){(0===n.target.value.length||n.target.value.length>1)&&e((0,r.qP)(n.target.value))}),[e]),T=(0,c.useMemo)((function(){return(0,f.Ds)(S,250)}),[S]),k=(0,c.useMemo)((function(){return(null===l||void 0===l?void 0:l.items)&&(0,p.Z)(l.items).sort((function(e,n){return e.human_readable>n.human_readable?1:-1}))}),[l]);return(0,c.useEffect)((function(){return n.current=!0,function(){e((0,r.qP)("")),n.current=!1}}),[e]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.kCb,{minWidth:"fit-content",children:(0,m.jsx)(o.xuv,{color:"gray.700",fontSize:"14px",maxHeight:"80px",maxWidth:"474px",mb:"24px",children:t.description})}),(0,m.jsxs)(o.kCb,{alignItems:"center",gap:"4",mb:"24px",minWidth:"fit-content",children:[(0,m.jsx)(g,{}),(0,m.jsxs)(o.BZy,{size:"sm",children:[(0,m.jsx)(o.Z8_,{pointerEvents:"none",children:(0,m.jsx)(o.PTu,{color:"gray.300",h:"17px",w:"17px"})}),(0,m.jsx)(o.IIB,{autoComplete:"off",autoFocus:!0,borderRadius:"md",name:"search",onChange:T,placeholder:"Search integrations",size:"sm",type:"search"})]}),(0,m.jsx)(h.ZP,{scopes:[v.Sh.CONNECTOR_TEMPLATE_REGISTER],children:(0,m.jsx)(o.zxk,{colorScheme:"primary",type:"submit",minWidth:"auto","data-testid":"upload-btn",size:"sm",onClick:function(){w(!0)},children:"Upload connector"})})]}),(0,m.jsx)(x.Z,{isOpen:O,onClose:function(){return w(!1)}}),(d||j)&&(0,m.jsx)(o.M5Y,{children:(0,m.jsx)(o.$jN,{})}),b&&k?(0,m.jsx)(C,{items:k}):null]})},S=t(44204),T=t(39100),k=t(53771),P=t(53552),I=function(){var e=(0,a.I0)(),n=(0,c.useRef)(!1),t=(0,c.useState)(!1),i=t[0],s=t[1],l=(0,u.C)(r.ZZ),d=l.connection,p=l.connectionOption,f=b.IM.find((function(e){return e.type===(null===p||void 0===p?void 0:p.type)})),h=(0,c.useState)(null===f||void 0===f?void 0:f.options[0]),x=h[0],j=h[1],g=function(){s(!0)},y=(0,c.useMemo)((function(){return function(){var e=[];return null!==f&&void 0!==f&&f.options&&f.options.forEach((function(n){var t;switch(n){case b.H5.CONNECTOR_PARAMETERS:t={label:n,content:(0,m.jsx)(T.s,{onConnectionCreated:g})};break;case b.H5.DATASET_CONFIGURATION:t=null!==d&&void 0!==d&&d.key?{label:n,content:(0,m.jsx)(k.Z,{})}:void 0;break;case b.H5.DSR_CUSTOMIZATION:t=null!==d&&void 0!==d&&d.key?{label:n,content:(0,m.jsx)(P.Z,{})}:void 0}t&&e.push(t)})),e}}),[null===d||void 0===d?void 0:d.key,null===f||void 0===f?void 0:f.options]),O=(0,c.useCallback)((function(n){switch(n){case b.H5.DATASET_CONFIGURATION:case b.H5.DSR_CUSTOMIZATION:e((0,r.nj)(b.Ss[3]));break;case b.H5.CONNECTOR_PARAMETERS:default:e((0,r.nj)(b.Ss[2]))}j(n)}),[e]);return(0,c.useEffect)((function(){return n.current=!0,function(){n.current=!1,e((0,r.mc)())}}),[e]),(0,c.useEffect)((function(){null!==d&&void 0!==d&&d.key&&(O((null===p||void 0===p?void 0:p.type)!==v.Zi.MANUAL?b.H5.DATASET_CONFIGURATION:b.H5.DSR_CUSTOMIZATION),i&&s(!1))}),[i,null===d||void 0===d?void 0:d.key,null===p||void 0===p?void 0:p.type,null===f||void 0===f?void 0:f.options,O]),(0,m.jsx)(o.gCW,{alignItems:"stretch",gap:"18px",children:(0,m.jsx)(S.Z,{data:y(),flexGrow:1,index:null===f||void 0===f?void 0:f.options.findIndex((function(e){return e===x})),isLazy:!0})})},Z=t(60933),E=function(){var e=(0,a.I0)(),n=(0,s.useRouter)(),t=n.query,p=t.connectorType,f=t.step,h=(0,u.C)(r.ZZ),x=h.connection,v=h.connectionOption,j=h.step;(0,c.useEffect)((function(){if(p&&e((0,r.yA)(JSON.parse(p))),n.query.step){var t=b.Ss.find((function(e){return e.stepId===Number(f)}));e((0,r.nj)(t||b.Ss[1]))}return!n.query.id&&null!==x&&void 0!==x&&x.key&&(0,Z.S)(x.key,j.href),function(){}}),[null===x||void 0===x?void 0:x.key,p,f,e,n.query.id,n.query.step,j.href]);var g=(0,c.useCallback)((function(e){var n="";switch(e.stepId){case 2:case 3:n=e.label.replace("{identifier}",v.human_readable);break;default:n=e.label}return n}),[v]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{backPath:d.JR}),(0,m.jsx)(o.X6q,{fontSize:"2xl",fontWeight:"semibold",maxHeight:"40px",mb:"4px",whiteSpace:"nowrap",children:(0,m.jsxs)(o.xuv,{alignItems:"center",display:"flex",children:[v&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.Z,{data:v}),(0,m.jsx)(o.xvT,{ml:"8px",children:g(j)})]}),!v&&(0,m.jsx)(o.xvT,{children:g(j)})]})}),function(){switch(j.stepId){case 1:default:return(0,m.jsx)(w,{});case 2:case 3:return(0,m.jsx)(I,{})}}()]})},_=t(66156),A=function(){return(0,m.jsx)(_.Z,{children:(0,m.jsx)(E,{})})}},91747:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datastore-connection/new",function(){return t(79375)}])}},function(e){e.O(0,[7923,4833,9468,2882,9774,2888,179],(function(){return n=91747,e(e.s=n);var n}));var n=e.O();_N_E=n}]);