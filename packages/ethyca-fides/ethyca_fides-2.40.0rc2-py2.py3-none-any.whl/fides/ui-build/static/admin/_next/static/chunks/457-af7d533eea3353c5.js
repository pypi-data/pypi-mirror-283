"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{86054:function(e,t,n){var r=n(90849),i=n(90089),u=n(28841),a=n(38687),s=n(24246),o=["title","tooltip","children"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.title,n=e.tooltip,r=e.children,c=(0,i.Z)(e,o);return(0,s.jsxs)(u.xuv,l(l({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},c),{},{children:[(0,s.jsxs)(u.X6q,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[t,n?(0,s.jsx)(u.xvT,{as:"span",mx:1,children:(0,s.jsx)(a.Z,{label:n})}):void 0]}),(0,s.jsx)(u.Kqy,{p:6,spacing:6,children:r})]}))}},6887:function(e,t,n){n.d(t,{Z:function(){return a}});var r,i,u=n(90849);!function(e){e.PRIVACY_REQUEST_REVIEW_APPROVE="privacy_request_review_approve",e.PRIVACY_REQUEST_REVIEW_DENY="privacy_request_review_deny",e.PRIVACY_REQUEST_RECEIPT="privacy_request_receipt",e.PRIVACY_REQUEST_COMPLETE_ACCESS="privacy_request_complete_access",e.PRIVACY_REQUEST_COMPLETE_DELETION="privacy_request_complete_deletion",e.SUBJECT_IDENTITY_VERIFICATION="subject_identity_verification"}(r||(r={}));var a=(i={},(0,u.Z)(i,r.PRIVACY_REQUEST_COMPLETE_ACCESS,"Access request completed"),(0,u.Z)(i,r.PRIVACY_REQUEST_COMPLETE_DELETION,"Erasure request completed"),(0,u.Z)(i,r.PRIVACY_REQUEST_RECEIPT,"Privacy request received"),(0,u.Z)(i,r.PRIVACY_REQUEST_REVIEW_APPROVE,"Privacy request approved"),(0,u.Z)(i,r.PRIVACY_REQUEST_REVIEW_DENY,"Privacy request denied"),(0,u.Z)(i,r.SUBJECT_IDENTITY_VERIFICATION,"Subject identity verification"),i)},88744:function(e,t,n){var r=n(60709),i=n(28841),u=n(34090),a=n(86677),s=n(6848),o=n(86054),c=n(43139),l=n(85375),p=n(6887),d=n(760),f=n(24246),m=function(){var e,t=(0,s.C)(d.Zp),n=(0,s.C)(d.G1);(0,d.gz)({page:t,size:n});var r=(0,s.C)(d.YO),i=(0,u.u6)(),a=i.values,o=i.setFieldValue;return(0,f.jsx)(l.Z,{label:"Associated properties",addButtonLabel:"Add property",idField:"id",nameField:"name",allItems:r.map((function(e){return{id:e.id,name:e.name}})),values:null!==(e=a.properties)&&void 0!==e?e:[],setValues:function(e){return o("properties",e)},draggable:!0,maxHeight:100,baseTestId:"property"})};t.Z=function(e){var t=e.template,n=e.handleSubmit,s=e.handleDelete,l=(0,a.useRouter)(),d=function(){l.push(r.q)},g={type:t.type,content:t.content,properties:t.properties||[],is_enabled:t.is_enabled,id:t.id||""};return(0,f.jsx)(u.J9,{enableReinitialize:!0,initialValues:g,onSubmit:n,children:function(e){var t=e.dirty,n=e.isValid,r=e.isSubmitting;return(0,f.jsxs)(u.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,f.jsx)(i.xuv,{py:3,children:(0,f.jsxs)(o.Z,{title:"".concat(p.Z[g.type]),children:[(0,f.jsx)(c.j0,{isRequired:!0,label:"Email subject",name:"content.subject",variant:"stacked"}),(0,f.jsx)(c.Ks,{isRequired:!0,label:"Message body",name:"content.body",value:"test",variant:"stacked",resize:!0}),(0,f.jsx)(i.xuv,{py:3,children:(0,f.jsx)(m,{})}),(0,f.jsx)(c.w8,{name:"is_enabled",label:"Enable message",variant:"switchFirst"})]})}),(0,f.jsxs)(i.kCb,{justifyContent:"space-between",width:"100%",paddingTop:2,children:[g.id&&s&&(0,f.jsx)(i.zxk,{"data-testid":"delete-template-button",size:"sm",variant:"outline",isLoading:!1,mr:3,onClick:s,children:"Delete"}),(0,f.jsxs)(i.kCb,{justifyContent:"right",width:"100%",paddingTop:2,children:[(0,f.jsx)(i.zxk,{size:"sm",variant:"outline",isLoading:!1,mr:3,onClick:d,children:"Cancel"}),(0,f.jsx)(i.zxk,{size:"sm",type:"submit",colorScheme:"primary",isDisabled:r||!t||!n,isLoading:r,"data-testid":"submit-btn",children:"Save"})]})]})]})}})}},16436:function(e,t,n){n.d(t,{KC:function(){return c},Vw:function(){return l},ew:function(){return p},gQ:function(){return s},jM:function(){return i},lE:function(){return u},ms:function(){return a},pS:function(){return o},vm:function(){return d}});var r=n(28703).u.injectEndpoints({endpoints:function(e){return{getMessagingTemplates:e.query({query:function(){return{url:"messaging/templates"}},providesTags:function(){return["Messaging Templates"]}}),getSummaryMessagingTemplates:e.query({query:function(e){return{method:"GET",url:"messaging/templates/summary",params:e}},providesTags:function(){return["Property-Specific Messaging Templates"]}}),updateMessagingTemplates:e.mutation({query:function(e){return{url:"messaging/templates",method:"PUT",body:e}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}}),getMessagingTemplateById:e.query({query:function(e){return{url:"/messaging/templates/".concat(e)}},providesTags:function(){return["Property-Specific Messaging Templates"]}}),putMessagingTemplateById:e.mutation({query:function(e){var t=e.templateId,n=e.template;return{url:"/messaging/templates/".concat(t),method:"PUT",body:n}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}}),patchMessagingTemplateById:e.mutation({query:function(e){var t=e.templateId,n=e.template;return{url:"/messaging/templates/".concat(t),method:"PATCH",body:n}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}}),getMessagingTemplateDefault:e.query({query:function(e){return{url:"/messaging/templates/default/".concat(e)}}}),createMessagingTemplateByType:e.mutation({query:function(e){var t=e.templateType,n=e.template;return{url:"/messaging/templates/".concat(t),method:"POST",body:n}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}}),deleteMessagingTemplateById:e.mutation({query:function(e){return{url:"/messaging/templates/".concat(e),method:"DELETE"}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}})}}}),i=r.useGetMessagingTemplatesQuery,u=r.useUpdateMessagingTemplatesMutation,a=r.useGetSummaryMessagingTemplatesQuery,s=r.useGetMessagingTemplateByIdQuery,o=r.usePutMessagingTemplateByIdMutation,c=r.useGetMessagingTemplateDefaultQuery,l=r.useCreateMessagingTemplateByTypeMutation,p=r.useDeleteMessagingTemplateByIdMutation,d=r.usePatchMessagingTemplateByIdMutation},33167:function(e,t,n){n.d(t,{isAPIError:function(){return r.Bw},isErrorResult:function(){return r.D4}});var r=n(60041)},89871:function(e,t,n){n.d(t,{t:function(){return R}});var r=n(59312),i=n(76065),u=n(27378),a=(0,u.createContext)(null),s=n(58897),o=n(96681),c=n(88577),l=n(10010);var p=(0,u.forwardRef)((function(e,t){var n=e.children,p=e.as,m=void 0===p?"ul":p,g=e.axis,y=void 0===g?"y":g,v=e.onReorder,E=e.values,T=(0,r._T)(e,["children","as","axis","onReorder","values"]),h=(0,o.h)((function(){return(0,s.E)(m)})),b=[],_=(0,u.useRef)(!1);(0,i.k)(Boolean(E),"Reorder.Group must be provided a values prop");var x={axis:y,registerItem:function(e,t){t&&-1===b.findIndex((function(t){return e===t.value}))&&(b.push({value:e,layout:t[y]}),b.sort(f))},updateOrder:function(e,t,n){if(!_.current){var r=function(e,t,n,r){if(!r)return e;var i=e.findIndex((function(e){return e.value===t}));if(-1===i)return e;var u=r>0?1:-1,a=e[i+u];if(!a)return e;var s=e[i],o=a.layout,p=(0,c.C)(o.min,o.max,.5);return 1===u&&s.layout.max+n>p||-1===u&&s.layout.min+n<p?(0,l.uo)(e,i,i+u):e}(b,e,t,n);b!==r&&(_.current=!0,v(r.map(d).filter((function(e){return-1!==E.indexOf(e)}))))}}};return(0,u.useEffect)((function(){_.current=!1})),u.createElement(h,(0,r.pi)({},T,{ref:t}),u.createElement(a.Provider,{value:x},n))}));function d(e){return e.value}function f(e,t){return e.layout.min-t.layout.min}var m=n(33234),g=n(16014);function y(e){var t=(0,o.h)((function(){return(0,m.B)(e)}));if((0,u.useContext)(g._).isStatic){var n=(0,r.CR)((0,u.useState)(e),2)[1];(0,u.useEffect)((function(){return t.onChange(n)}),[])}return t}var v=n(46912),E=function(e){return function(e){return"object"===typeof e&&e.mix}(e)?e.mix:void 0};var T=n(54735);function h(e,t){var n=y(t()),r=function(){return n.set(t())};return r(),function(e,t){(0,u.useEffect)((function(){var n=e.map((function(e){return e.onChange(t)}));return function(){return n.forEach((function(e){return e()}))}}))}(e,(function(){return T.ZP.update(r,!1,!0)})),n}function b(e,t,n,i){var u="function"===typeof t?t:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!Array.isArray(e[0]),i=n?0:-1,u=e[0+i],a=e[1+i],s=e[2+i],o=e[3+i],c=(0,v.s)(a,s,(0,r.pi)({mixer:E(s[0])},o));return n?c(u):c}(t,n,i);return Array.isArray(e)?_(e,u):_([e],(function(e){var t=(0,r.CR)(e,1)[0];return u(t)}))}function _(e,t){var n=(0,o.h)((function(){return[]}));return h(e,(function(){n.length=0;for(var r=e.length,i=0;i<r;i++)n[i]=e[i].get();return t(n)}))}var x=n(40406);function C(e,t){return void 0===t&&(t=0),(0,x.i)(e)?e:y(t)}var R={Group:p,Item:(0,u.forwardRef)((function(e,t){var n=e.children,c=e.style,l=e.value,p=e.as,d=void 0===p?"li":p,f=e.onDrag,m=(0,r._T)(e,["children","style","value","as","onDrag"]),g=(0,o.h)((function(){return(0,s.E)(d)})),y=(0,u.useContext)(a),v={x:C(null===c||void 0===c?void 0:c.x),y:C(null===c||void 0===c?void 0:c.y)},E=b([v.x,v.y],(function(e){var t=(0,r.CR)(e,2),n=t[0],i=t[1];return n||i?1:"unset"})),T=(0,u.useRef)(null);(0,i.k)(Boolean(y),"Reorder.Item must be a child of Reorder.Group");var h=y,_=h.axis,x=h.registerItem,R=h.updateOrder;return(0,u.useEffect)((function(){x(l,T.current)}),[y]),u.createElement(g,(0,r.pi)({drag:_},m,{dragSnapToOrigin:!0,style:(0,r.pi)((0,r.pi)({},c),{x:v.x,y:v.y,zIndex:E}),layout:!0,onDrag:function(e,t){var n=t.velocity;n[_]&&R(l,v[_].get(),n[_]),null===f||void 0===f||f(e,t)},onLayoutMeasure:function(e){T.current=e},ref:t}),n)}))}},60153:function(e,t,n){n.d(t,{o:function(){return a}});var r=n(96681),i=function(){function e(){this.componentControls=new Set}return e.prototype.subscribe=function(e){var t=this;return this.componentControls.add(e),function(){return t.componentControls.delete(e)}},e.prototype.start=function(e,t){this.componentControls.forEach((function(n){n.start(e.nativeEvent||e,t)}))},e}(),u=function(){return new i};function a(){return(0,r.h)(u)}},76649:function(e,t,n){n.d(t,{Ln:function(){return r},uX:function(){return a}});const r=(e,t)=>u(e,t),i=Symbol("SOME"),u=(e,t)=>{if("string"==typeof e)return e===typeof t;if(Array.isArray(e))return i in e?e.some((e=>u(e,t))):!!Array.isArray(t)&&(0===e.length||t.every((t=>e.some((e=>u(e,t))))));if("object"!=typeof t||null===t)return!1;const n=t;return Object.entries(e).every((([e,t])=>u(t,n[e])))},a=e=>t=>r(e,t);class s{static narrow(e){return new s((t=>r(e,t)))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){const t=this.NF,n=e instanceof s?e.NF:e instanceof Function?e:t=>r(e,t);return new s((e=>t(e)&&n(e)))}}new s((e=>!0))}}]);