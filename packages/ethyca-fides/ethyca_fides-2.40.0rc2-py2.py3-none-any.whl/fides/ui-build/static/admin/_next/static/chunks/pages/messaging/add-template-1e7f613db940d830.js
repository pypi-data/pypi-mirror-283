(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7364],{9138:function(e,t,n){"use strict";n.r(t);var r=n(55732),s=n(97865),i=n(34707),u=n.n(i),a=n(78624),o=n(60709),c=n(28841),d=n(86677),l=n(51471),p=n(24753),f=n(16436),h=n(88744),m=n(33167),x=n(24246);t.default=function(){var e=(0,c.pmc)(),t=(0,d.useRouter)(),n=t.query.templateType,i=(0,f.Vw)(),g=(0,s.Z)(i,1)[0],v=(0,f.KC)(n),_=v.data,b=v.isLoading,j=function(){var s=(0,r.Z)(u().mark((function r(s){var i,c,d;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c={is_enabled:s.is_enabled,content:{subject:s.content.subject,body:s.content.body},properties:[]},null===(i=s.properties)||void 0===i||i.forEach((function(e){var t;return null===(t=c.properties)||void 0===t?void 0:t.push(e.id)})),r.next=4,g({templateType:n,template:c});case 4:if(d=r.sent,!(0,m.isErrorResult)(d)){r.next=8;break}return e((0,p.Vo)((0,a.e$)(d.error))),r.abrupt("return");case 8:e((0,p.t5)("Messaging template created successfully")),t.push(o.q);case 10:case"end":return r.stop()}}),r)})));return function(e){return s.apply(this,arguments)}}();return _?b?(0,x.jsx)(c.$jN,{}):(0,x.jsx)(l.Z,{title:"Configure Message",children:(0,x.jsxs)(c.xuv,{"data-testid":"add-messaging-template",children:[(0,x.jsx)(c.X6q,{marginBottom:2,fontSize:"2xl",children:"Configure message"}),(0,x.jsxs)(c.xuv,{maxWidth:"720px",children:[(0,x.jsx)(c.xvT,{fontSize:"sm",children:"Configure this message"}),(0,x.jsx)(c.xuv,{padding:2,children:(0,x.jsx)(h.Z,{template:_,handleSubmit:j})})]})]})}):null}},3497:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/messaging/add-template",function(){return n(9138)}])}},function(e){e.O(0,[6586,457,9774,2888,179],(function(){return t=3497,e(e.s=t);var t}));var t=e.O();_N_E=t}]);