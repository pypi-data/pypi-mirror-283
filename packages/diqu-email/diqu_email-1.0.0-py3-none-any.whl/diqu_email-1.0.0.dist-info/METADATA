Metadata-Version: 2.1
Name: diqu-email
Version: 1.0.0
Summary: Data Quality CLI for the Auto-Alerts - Emails
Home-page: https://datnguyen.de
License: MIT
Keywords: packaging,poetry,data-quality,alert,notification,collaboration,agility,flake8,markdown,lint
Author: Dat Nguyen
Author-email: datnguyen.it09@gmail.com
Requires-Python: >=3.9,<3.13
Classifier: Environment :: Console
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Documentation
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: Software Development :: Quality Assurance
Requires-Dist: diqu (>=0.1,<0.2)
Requires-Dist: sendgrid (>=6.11.0,<7.0.0)
Project-URL: Repository, https://github.com/infinitelambda/diqu-email
Description-Content-Type: text/markdown

# diqu-email

Alert module using Email method (Sendgrid)

## How to use

### Installation

```bash
pip install diqu diqu-email
```

### Send email

Before you can send email with Sendgrid, go create your template first:

- Go to Email API / Dynamic Templates: Create a Dyanmic Template
- Design your template e.g.

    ![sample template](/example/image.png)
- Save it and get the Template ID e.g. `d-c70732f1cb304d39823d52cd5cee8312`
- Go to Settings / API Keys: Get an API key e.g. SG.xxx.xxx

Now, you're ready to send alert:

```bash
export SENDGRID_API_KEY=YOURVALUE e.g. SG.xxx.xxx
export SENDGRID_MAILING_LIST=YOURVALUE e.g. dat@domain.com,dat2@domain.com
export SENDGRID_TEMPLATE_ID=YOURVALUE e.g. d-c70732f1cb304d39823d52cd5cee8312

# powershell
$env:SENDGRID_API_KEY="YOURVALUE"
$env:SENDGRID_MAILING_LIST="dat@domain.com,dat2@domain.com"
$env:SENDGRID_TEMPLATE_ID="d-c70732f1cb304d39823d52cd5cee8312"

diqu alert --to sendgrid
```

For a quick testing purpose, we can use the CSV package to run the [example](./example/) as following command:

```bash
diqu alert --to sendgrid --package csv --profile-name example --profiles-dir ./example
```

Here is the sample result:

![Alt text](/example/email.png)

