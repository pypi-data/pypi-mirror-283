"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[9044],{6713:(o,e,t)=>{t.d(e,{X:()=>d});var a=t(63612),i=t(55857),l=t(57637),r=t(66461),n=t(31658),s=t(98772);const d=o=>{const{onClick:e,isSelected:t,style:d,selectionMarkStyle:p,color:c,...u}=o,m=(0,s.DP)();if(!c)return(0,a.Y)("div",{style:{...e?{cursor:"pointer"}:{},...d},children:(0,a.Y)(l.IconEmptySwatch,{style:{width:"100%",height:"100%"}})});const C=(o=>(0,r.K)(...(0,n.p)(o))[2]>80)(c),y=p??{color:C?m.selectionMarkDarkColor:m.selectionMarkLightColor},h=p&&"#ffffff"===c.toLowerCase()||!p&&C?{border:`1px solid ${m.grayScale[4]}`}:{};return(0,a.Y)("div",{"data-testid":c,style:{backgroundColor:c,display:"flex",justifyContent:"center",alignItems:"center",...e?{cursor:"pointer"}:{},...h,...d},onClick:e,...u,children:t&&(0,a.Y)(i.CheckOutlined,{style:y})},c)}},43713:(o,e,t)=>{t.d(e,{p:()=>r});var a=t(63612),i=t(690),l=t(6713);const r=o=>(0,a.Y)("div",{style:{width:"100%",display:"grid",gridTemplateRows:`repeat(${o.numberOfRows}, 29px)`,gridTemplateColumns:`repeat(${o.numberOfColumns}, 31px)`,columnGap:6},children:o.colors.map((e=>(0,a.Y)(l.X,{color:o.colorOpacity?(0,i.j)(e,o.colorOpacity):e,selectionMarkStyle:o.selectionMarkStyle,onClick:()=>o.onSelectedColorChanged(e),isSelected:o.selectedColor?.toLowerCase()===e.toLowerCase()},e)))})},9044:(o,e,t)=>{t.r(e),t.d(e,{default:()=>h});var a=t(63612),i=t(77593),l=t(63259),r=t(31529),n=t(93345),s=t(12166),d=t(98772),p=t(690),c=t(91206),u=t(43713);function m(o,e){switch(e.type){case"comparisonValueChanged":return{...o,[e.isOptional?"optionalComparisonValue":"mandatoryComparisonValue"]:e.value};case"comparisonOperatorChanged":{const{isOptional:t,operator:a}=e;if(t)return{...o,optionalComparisonOperator:a};const{optionalComparisonOperator:i,optionalComparisonValue:l}=["eq","neq"].includes(a)?{optionalComparisonOperator:void 0,optionalComparisonValue:void 0}:o;return a.startsWith("lt")&&i?.startsWith("lt")?{...o,mandatoryComparisonOperator:a,optionalComparisonOperator:"gt",optionalComparisonValue:void 0}:a.startsWith("gt")&&i?.startsWith("gt")?{...o,mandatoryComparisonOperator:a,optionalComparisonOperator:"lt",optionalComparisonValue:void 0}:{...o,mandatoryComparisonOperator:a,optionalComparisonOperator:i,optionalComparisonValue:l}}case"optionalComparisonValueReset":return{...o,optionalComparisonValue:void 0};case"colorSelected":return{...o,selectedColor:e.color}}}const{Option:C}=l.Select,y=["#8C8C8C","#FF7875","#FFC069","#FFF566","#95DE64","#69C0FF","#5CDBD3","#B37FEB","#FF85C0","#595959","#FF4D4F","#FFA940","#FFEC3D","#73D13D","#40A9FF","#36CFC9","#9254DE","#F759AB","#262626","#F5222D","#FA8C16","#FADB14","#52C41A","#1890FF","#13C2C2","#722ED1","#EB2F96"],h=o=>{const{formatMessage:e}=(0,s.useIntl)(),t=(0,d.DP)(),{conditionalStyle:h,colorType:g}=o,v=(0,r.omit)(h,"style"),F=void 0!==h&&0===Object.keys(v).length,[b,O]=(0,n.useReducer)(m,{},(()=>function(o){const{style:e,...t}=o||{style:{}},a={mandatoryComparisonOperator:"eq",selectedColor:e?.backgroundColor},i=(0,r.sortBy)(Object.entries(t),(([,o])=>o));return i.length>0&&(a.mandatoryComparisonOperator=i[0][0],a.mandatoryComparisonValue=i[0][1]),2===i.length&&(a.optionalComparisonOperator=i[1][0],a.optionalComparisonValue=i[1][1]),a}(o.conditionalStyle))),{selectedColor:f,mandatoryComparisonValue:S,optionalComparisonValue:D,mandatoryComparisonOperator:k,optionalComparisonOperator:x}=b,V="eq"===k||"neq"===k,[Y,w,B]=function({mandatoryComparisonValue:o,optionalComparisonOperator:e,optionalComparisonValue:t,selectedColor:a},i){return void 0===a?[!1,"invalidConditionalStyle","color"]:i?[!0]:void 0===o||void 0===t&&void 0!==e?[!1,"invalidConditionalStyle","value"]:void 0!==t&&void 0===e?[!1,"invalidConditionalStyle","operator"]:void 0!==t&&void 0!==e?e.startsWith("lt")?t>o?[!0]:[!1,"invalidComparison"]:t<o?[!0]:[!1,"invalidComparison"]:[!0]}(b,F);return(0,a.FD)("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[(0,a.FD)("div",{style:{marginTop:3,flexGrow:1},children:[F?null:(0,a.FD)("div",{children:[(0,a.Y)("div",{style:{marginBottom:4},children:e({id:"aui.conditionalStyle.ifValue"})}),(0,a.FD)("div",{style:{display:"flex",marginBottom:4},children:[(0,a.Y)(l.Select,{"aria-label":"Mandatory operator selection",style:{width:"70%",marginRight:5},value:k,onChange:o=>{O({type:"comparisonOperatorChanged",operator:o})},children:["eq","neq","lt","lte","gt","gte"].map((o=>(0,a.Y)(C,{value:o,children:e({id:`aui.conditionalStyle.operator.${o}`})},o)))}),(0,a.Y)(l.InputNumber,{"aria-label":"Mandatory comparison value input",style:{width:"30%"},value:S,type:"number",onChange:o=>"number"==typeof o&&O({type:"comparisonValueChanged",value:o})})]})]}),F?null:(0,a.FD)("div",{children:[(0,a.FD)("div",{style:{marginBottom:4},children:[e({id:"aui.and"}),"Â ",(0,a.FD)(c.Text,{small:!0,style:{color:t.grayScale[6]},children:["(",e({id:"aui.conditionalStyle.optional"}),")"]})]}),(0,a.FD)("div",{style:{display:"flex",marginBottom:4},children:[(0,a.Y)(l.Select,{disabled:V,style:{width:"70%",marginRight:5},value:x,onChange:o=>O({type:"comparisonOperatorChanged",operator:o,isOptional:!0}),"aria-label":"Optional operator selection",allowClear:!0,children:("lt"===k||"lte"===k?["gt","gte"]:["lt","lte"]).map((o=>(0,a.Y)(C,{value:o,children:e({id:`aui.conditionalStyle.operator.${o}`})},o)))}),(0,a.Y)(l.InputNumber,{"aria-label":"Optional comparison value input",style:{width:"30%"},type:"number",disabled:V,value:D,onChange:o=>{void 0===o||""==`${o}`?O({type:"optionalComparisonValueReset"}):"number"==typeof o&&O({type:"comparisonValueChanged",value:o,isOptional:!0})}})]})]}),(0,a.FD)("div",{children:[(0,a.Y)("div",{style:{marginBottom:4,marginTop:8},children:e({id:"aui.conditionalStyle.styleAs"})}),(0,a.Y)("div",{style:{height:26,lineHeight:"26px",border:`1px solid ${t.grayScale[4]}`,backgroundColor:f&&"background"===g?(0,p.j)(f,o.colorOpacity??1):void 0,paddingLeft:5,marginBottom:4,color:g?f:t.textColor},children:"123"})]}),(0,a.FD)("div",{style:{marginBottom:5,marginTop:5},children:[(0,a.Y)("div",{style:{marginBottom:2},children:e({id:"aui.conditionalStyle."+("text"===g?"textColors":"backgroundColors")})}),(0,a.Y)(u.p,{colorOpacity:o.colorOpacity,selectedColor:f,onSelectedColorChanged:o=>O({type:"colorSelected",color:o}),colors:y,selectionMarkStyle:{color:t.selectionMarkDarkColor},numberOfColumns:9,numberOfRows:3})]})]}),(0,a.FD)("div",{style:{height:35,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[(0,a.Y)(l.Button,{css:i.css`
            &.ant-btn {
              margin-right: 8px;
            }
          `,onClick:()=>o.onCancel(),children:e({id:"aui.cancel"})}),(0,a.Y)(c.Tooltip,{trigger:Y?[]:["hover"],placement:"right",title:w?e({id:`aui.conditionalStyle.${w}`},{type:B}):"",children:(0,a.Y)(l.Button,{disabled:!Y,"aria-label":"Submit",type:"primary",onClick:()=>{F?o.onSubmitDefaultStyle({backgroundColor:f}):o.onSubmit({[k]:S,...x&&D?{[x]:D}:{},style:{backgroundColor:f}})},children:e({id:"aui.conditionalStyle.apply"})})})]})]})}}}]);