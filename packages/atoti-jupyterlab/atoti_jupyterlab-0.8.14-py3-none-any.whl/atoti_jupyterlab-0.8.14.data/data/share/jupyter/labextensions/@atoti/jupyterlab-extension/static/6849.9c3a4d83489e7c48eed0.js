"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[6849],{76034:(e,n,r)=>{r.d(n,{O:()=>t});class t extends Error{dimensionName;cubeName;constructor(e,n){super(`The dimension [${e}] was not found in the data model of cube "${n}".`),this.dimensionName=e,this.cubeName=n}}},74323:(e,n,r)=>{r.d(n,{h:()=>t});class t extends Error{hierarchyCoordinates;cubeName;constructor(e,n){super(`The hierarchy [${e.dimensionName}].[${e.hierarchyName}] was not found in the data model of cube "${n}".`),this.hierarchyCoordinates=e,this.cubeName=n}}},69372:(e,n,r)=>{r.d(n,{W:()=>t});class t extends Error{levelCoordinates;cubeName;constructor(e,n){super(`The level [${e.dimensionName}].[${e.hierarchyName}].[${e.levelName}] was not found in the data model of cube "${n}".`),this.levelCoordinates=e,this.cubeName=n}}},94945:(e,n,r)=>{r.d(n,{D:()=>s});var t=r(76034);function s(e,n){const r=n.dimensions[e];if(!r)throw new t.O(e,n.name);return r}},66138:(e,n,r)=>{r.d(n,{q:()=>i});var t=r(74323),s=r(94945);function i(e,n){const r=(0,s.D)(e.dimensionName,n),i=e.hierarchyName,a=r.hierarchies[i];if(!a)throw new t.h(e,n.name);return a}},94259:(e,n,r)=>{r.d(n,{r:()=>i});var t=r(69372),s=r(66138);function i(e,n){const r=(0,s.q)(e,n),i=e.levelName,a=r.levels[i];if(!a)throw new t.W(e,n.name);return a}},83820:(e,n,r)=>{r.d(n,{T:()=>s});var t=r(25503);const s=(e,n,r=[])=>{let s;return(0,t.y)(e,((e,r)=>{if(n(e,r))return s={match:e,path:r},!1}),r),s}},77840:(e,n,r)=>{r.d(n,{t:()=>i});var t=r(76034),s=r(74323);function i(e,{cube:n,shouldThrowOnMissingHierarchy:r}){if("unknown"!==e.type)return e;const i=e.identifiers.map((e=>e.value));let a=Object.values(n.dimensions).find((({name:e})=>e.toLowerCase()===i[0].toLowerCase()));if(1===i.length)return a?{...e,type:"dimension",dimensionName:a.name}:{...e,type:"namedSet",setName:i[0]};if("measures"===i[0].toLowerCase())return{...e,type:"measure",measureName:i.at(-1)};let o,u,c=0;if(a)c++,o=Object.values(a.hierarchies).find((({name:e})=>e.toLowerCase()===i[1].toLowerCase()));else for(const e of Object.values(n.dimensions))for(const n of Object.values(e.hierarchies))n.name.toLowerCase()===i[0].toLowerCase()&&(a=e,o=n);if(o&&c++,!a&&!o)throw new t.O(i[0],n.name);if(a&&o&&2===c&&2===i.length)return{...e,type:"hierarchy",dimensionName:a.name,hierarchyName:o.name};if(o&&a&&2===c)u=Object.values(o.levels).find((({name:e})=>e.toLowerCase()===i[2].toLowerCase()));else if(a&&!o)for(const e of Object.values(a.hierarchies))for(const n of Object.values(e.levels))n.name.toLowerCase()===i[1].toLowerCase()&&(o=e,u=n);else o&&1===c&&(u=Object.values(o.levels).find((({name:e})=>e.toLowerCase()===i[1].toLowerCase())));if(u&&c++,a&&o&&u&&c===i.length)return{...e,type:"level",dimensionName:a.name,hierarchyName:o.name,levelName:u.name};if(a&&!o){if(r)throw new s.h({dimensionName:a.name,hierarchyName:i[1]},n.name);const e=a.defaultHierarchy;o=a.hierarchies[e]}const h=i.slice(c);let l=h.length-1;u&&(l+=o.levels[u.name].index);const m=Object.keys(o.levels);l=Math.max(0,l),l=Math.min(l,m.length-1);const p=m[l];return{...e,type:"member",dimensionName:a.name,hierarchyName:o.name,levelName:p,path:h}}},36392:(e,n,r)=>{r.d(n,{n:()=>t});const t=e=>"Select"===e.elementType},74475:(e,n,r)=>{r.d(n,{E:()=>t});const t=e=>"CompoundIdentifier"===e.elementType},70793:(e,n,r)=>{r.d(n,{k:()=>t});const t=(e,n)=>!!(e=>void 0!==e&&"Function"===e.elementType)(e)&&(void 0===n||n.toLowerCase()===e.name.toLowerCase())},7518:(e,n,r)=>{r.d(n,{YI:()=>s,hD:()=>o,me:()=>t});const t="].[",s="]",i="]]",a=new RegExp(s,"g");function o(...e){return`[${e.map((e=>e.replace(a,i))).join(t)}]`}},53704:(e,n,r)=>{r.d(n,{A:()=>T});var t=r(31529),s=r(36392),i=r(74475),a=r(70793),o=r(7518);function u(e,n){return function(e,r){const t=[];return e.forEach(((e,r)=>{0!==r&&t.push(n),t.push(e)})),t}(e)}const c=(...e)=>e.map((e=>(0,t.isString)(e)?e:c(...e))).join(""),h=function(){throw new Error("TODO")};class l{indentString;constructor(){this.indentString=""}indent(){return this.indentString+="  ",this.newLine()}unindent(){this.indentString=this.indentString.substring(0,this.indentString.length-2)}newLine(){return`\n${this.indentString}`}}class m{indent(e=!0){return e?" ":""}newLine(e=!0){return e?" ":""}unindent(){}}const p=(e,n)=>(n.glue||c)(...e),d=({expression:e,fromIndex:n,openingChar:r,closingChar:t,options:s,indenter:i})=>{const a=[r,i.indent(!1)],o=[];for(let r=n;r<e.length;++r)o.push(T(e[r],s,i));const c=`,${s.glueArgs?"":i.newLine()}`;return a.push(...u(o,c)),i.unindent(),a.push(i.newLine(!1)),a.push(t),p(a,s)},f=(e,n,r)=>{const t=[e.nonEmpty?"NON EMPTY ":"",T(e.expression,n,r)];return e.properties&&e.properties.length>0&&(t.push(" DIMENSION PROPERTIES "),t.push(...u(e.properties.map((e=>T(e,n,r))),", "))),"SLICER"!==e.name&&t.push(" ON ",e.name),p(t,n)},w=(e,n,r)=>{const t=["CASE"];return e.match&&(t.push(" "),t.push(T(e.match,n,r))),e.cases&&(t.push(r.indent()),t.push(...u(e.cases.map((e=>T(e,n,r))),r.newLine())),r.unindent()),e.elseExp&&(t.push(r.indent()),t.push("ELSE ",T(e.elseExp,n,r)),r.unindent()),t.push(r.newLine()),t.push("END"),p(t,n)},g=(e,n,r)=>p(u(e.identifiers.map((e=>T(e,n,r))),"."),n),x=(e,n,r)=>{const t=["DRILLTHROUGH"];return t.push(r.newLine()),e.maxRows&&(t.push(`MAXROWS ${e.maxRows}`),t.push(r.newLine())),e.firstRow&&(t.push(`FIRSTROW ${e.firstRow}`),t.push(r.newLine())),t.push(S(e.select,n,r)),t.push(r.newLine()),e.columns&&e.columns.length&&(t.push("RETURN"),t.push(r.indent()),t.push(e.columns.map((e=>{if((0,i.E)(e))return g(e,n,r);if((0,a.k)(e)&&1===e.arguments.length){const t=e.arguments[0];if((0,i.E)(t))return`${e.name}(${g(t,n,r)})`}return h()})).join(`,${r.newLine()}`))),p(t,n)},E=(e,n,r)=>{let t="";switch(e.properties&&e.properties.length>0&&(t=p([", ",...u(e.properties.map((e=>T(e,n,r))),", ")],n)),e.type){case"MEMBER":return p([r.newLine()," Member ",T(e.name,n,r)," AS ",T(e.expression,n,r),t," "],n);case"SET":switch(e.inlined){case!1:return p([r.newLine(),"Set ",T(e.name,n,r)," AS ",T(e.expression,n,r),t],n);case!0:return p([T(e.expression,n,r),t," AS ",T(e.name,n,r)],n);default:return h()}default:return h()}},L=(e,n)=>p(["FROM ",(0,o.hD)(e.cubeName)],n),C=(e,n,r)=>{const t=e.name,s=e.arguments;switch(e.syntax){case"Function":return p([t,d({expression:s,fromIndex:0,openingChar:"(",closingChar:")",options:n,indenter:r})],n);case"Property":return p([T(s[0],n,r),".",t],n);case"Method":return p([T(s[0],n,r),".",t,d({expression:s,fromIndex:1,openingChar:"(",closingChar:")",options:n,indenter:r})],n);case"Infix":return p(u(u(s.map((e=>T(e,n,r))),t)," "),n);case"Prefix":return p([t," ",T(s[0],n,r)],n);case"Braces":return d({expression:s,fromIndex:0,openingChar:"{",closingChar:"}",options:n,indenter:r});case"Parentheses":return d({expression:s,fromIndex:0,openingChar:"(",closingChar:")",options:n,indenter:r});default:return h()}},N=(e,n)=>{const r=e.value;switch(e.quoting){case"QUOTED":return(0,o.hD)(r);case"AMP_QUOTED":return p(["&",(0,o.hD)(r)],n);case"UNQUOTED":return r;default:return h()}},y=(e,n)=>{const r=e.value;switch(e.type){case"PLACE_HOLDER":case"SCALAR":case"KEYWORD":return r;case"STRING":return p(['"',r,'"'],n);default:return h()}},v=(e,n,r)=>p([e.name," = ",T(e.expression,n,r)],n),S=(e,n,r)=>{const t=[];return(0,s.n)(e)&&void 0!==e.withClause&&e.withClause.length>0&&(t.push("WITH",...u(e.withClause.map((e=>T(e,n,r)))," ")),t.push(r.newLine())),t.push("SELECT"),t.push(r.indent()),void 0!==e.axes&&e.axes.length>0&&(t.push(...u(e.axes.map((e=>T(e,n,r))),`,${r.newLine()}`)),t.push(r.newLine())),t.push(T(e.from,n,r)),e.slicerAxis&&(t.push(r.newLine()),t.push("WHERE ",T(e.slicerAxis,n,r))),(0,s.n)(e)&&e.cellProps&&e.cellProps.length>0&&(t.push(r.newLine()),t.push("CELL PROPERTIES ",e.cellProps.join(", "))),r.unindent(),p(t,n)},b=(e,n,r)=>{const t=S(e,n,r),s=["FROM "];return e.nonVisual&&s.push("NON VISUAL "),s.push("("),s.push(r.indent(!1)),s.push(t),r.unindent(),s.push(r.newLine(!1)),s.push(")"),p(s,n)},O=(e,n,r)=>{const t=["WHEN "];return t.push(T(e.when,n,r)),t.push(" THEN "),t.push(T(e.then,n,r)),p(t,n)};function T(e,n={},r){if(null==e)return"";const t=r||(n.indent?new l:new m);switch(e.elementType){case"Axis":return f(e,n,t);case"CaseExpression":return w(e,n,t);case"CompoundIdentifier":return g(e,n,t);case"Drillthrough":return x(e,n,t);case"Formula":return E(e,n,t);case"From":return L(e,n);case"Function":return C(e,n,t);case"Identifier":return N(e,n);case"Literal":return y(e,n);case"MemberPropertyDefinition":return v(e,n,t);case"Select":return S(e,n,t);case"SubSelect":return b(e,n,t);case"When":return O(e,n,t);default:throw new Error(`Encountered Mdx with unknown type: ${JSON.stringify(e)}, while stringifying an MDX AST object`)}}},25503:(e,n,r)=>{r.d(n,{y:()=>i});var t=r(31529),s=r(53704);function i(e,n,r=[]){if(!e)return;if((0,t.isArray)(e))return!e.some(((e,t)=>!1===i(e,n,[...r,t])));if(!1===n(e,r))return!1;const a=(...t)=>!t.some((t=>!1===(t=>i(e[t],n,[...r,t]))(t)));switch(e.elementType){case"MemberPropertyDefinition":case"Axis":return a("expression");case"CaseExpression":return a("cases","elseExp","match");case"Formula":return a("name","expression","properties");case"Function":return a("arguments");case"Select":return a("withClause","axes","slicerAxis","from");case"Drillthrough":return a("columns","select");case"SubSelect":return a("axes","slicerAxis","from");case"When":return a("when","then");case"CompoundIdentifier":case"From":case"Identifier":case"Literal":break;default:throw new Error(`Encountered Node with unknown type: "${e.elementType}" while walking through the following mdx:\n${(0,s.A)(e,{indent:!0})}`)}}},29991:(e,n,r)=>{r.d(n,{_:()=>h});var t=r(7518);const s=t.me.length,i=2/t.YI.length,a=/^\[.*\]$/,o=new RegExp("]]","g"),u=(e,n)=>{let r=0;for(;e.slice(n-r-1,n-r)===t.YI;)++r;return r%i==0};function c(e){return e.replace(o,t.YI)}function h(e){let n=0,r=0;const i=[];if(!a.test(e))return[e];const o=e.substr(1,e.length-2);let h=!1;for(;!h;)r=o.indexOf(t.me,r),-1!==r?u(o,r)?(i.push(c(o.slice(n,r))),n=r+s,r+=s):++r:(i.push(c(o.slice(n))),h=!0);return i}}}]);