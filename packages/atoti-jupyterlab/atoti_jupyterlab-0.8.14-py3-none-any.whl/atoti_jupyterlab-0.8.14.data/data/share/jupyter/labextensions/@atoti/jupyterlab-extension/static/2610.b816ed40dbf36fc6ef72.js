"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[2610],{8087:(e,t,a)=>{a.d(t,{C:()=>n});var r=a(90147),i=a(31529);const n=(e,{axes:t,fontSize:a})=>void 0===a?e:(0,r.produce)(e,(e=>{for(const a of t)a in e||(e[a]={});for(const t in e)t.startsWith("xaxis")||t.startsWith("yaxis")?(0,i.set)(e,[t,"tickfont","size"],a):t.startsWith("polar")&&(0,i.set)(e,[t,"angularaxis","tickfont","size"],a)}))},32610:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var r=a(63612),i=a(58814),n=a.n(i),o=a(54275),l=a.n(o),s=a(93345),c=a(12166),u=a(65484),d=a(98515),p=a(98772),h=a(63065),f=a(79853),g=a(8087),v=a(690),y=a(97782);var x=a(31529),m=a(16361),b=a(27190),k=a(1140),w=a(76112),T=a(22619),_=a(37944),A=a(20913),M=a(84280),S=a(99120),I=a(1962),L=a(36985),R=a(86911),D=a(5433);const F=e=>e.map((e=>(e.axisIndices?.push(0),e.r.push(e.r[0]),e.theta.push(e.theta[0]),e.cellsIndices.push(e.cellsIndices[0]),e.marker.color.push(e.marker.color[0]),e)));function C({cube:e,data:t,metaData:a,widgetState:{mapping:r,style:i,visibleGrandTotals:n,visibleSubTotals:o},captionForTotals:l}){if(!e||!t||!a)return[];const s={},c=a.orderedAxis,u=r.values.length>0,d=c.captions.length>0,p={},h={mapping:{},indexOfNextColorToUse:0};(0,M.R)({cube:e,data:t,hierarchyIndicesInCellSet:a.hierarchyIndicesInCellSet,visibleGrandTotals:n,visibleSubTotals:o},(({cell:t,cellIndex:n,columnIndex:o,tuple:f,rowIndex:g})=>{if(f){const v=(0,S.b)(f,{levelIndices:a.levelIndicesPerField,mapping:r,attributesRedirection:a.attributesRedirection,cube:e}),y=(e=>{const t=e.splitBy,n=(0,_.f)([...t,...e.horizontalSubplots,...e.verticalSubplots]),o=(0,A.w)({membersOnSplitBy:e.splitBy,numberOfMeasuresRepresentedByTheChart:r.values?.length??0}),u=(0,m.getSortedTupleKey)(o);if(!s[n]){const e=((e,t,n)=>{const o=r.values.length,s=(0,k.t)(n,o,l);return{_key:e,_styleKey:t,hoverinfo:"none",legendgroup:s,line:{color:(0,w.n)({accumulator:h,colorway:a.colorway,traceName:s})},name:s,cellsIndices:(0,x.fill)(new Array(c.captions.length),null),axisIndices:(0,x.fill)(new Array(c.captions.length),null),type:"scatterpolar",fill:"toself",theta:d?c.captions:[""],r:d?(0,x.fill)(new Array(c.captions.length),null):[null],text:[],opacity:1,marker:{color:[],...i?.markerSize&&{size:(0,T.u)(i.markerSize)}}}})(n,u,t);s[n]=e,p[n]=0}return s[n]})(v),b=v.axis,M=(0,I.r)(b),L=d?c.members[M]:0;if(d&&(y.axisIndices[L]=p[y._key],p[y._key]++),null!==t&&null!==n){if(u){y.r[L]=t.value;const e=f.find((e=>"Measures"===e.hierarchyName))?.namePath[0],a=e?i?.measures?.[e]:void 0,r=(0,D.T)({measureStyle:a,value:t.value});y.marker.color[L]=r.backgroundColor??y.line.color}y.cellsIndices[L]=[{columnIndex:o,rowIndex:g,cellIndex:n}]}}}));const f=Object.values(s),g=(0,L.G)({traces:F(f),subplotsMetaData:a.subplots});return((e,t)=>{const a=t.vertical.keys.length;e.forEach((e=>{const r=(0,b.X)(t.horizontal.keys,e._key),i=(0,b.X)(t.vertical.keys,e._key)+1;let n=r+1;a>0&&(n=(r>-1?r:0)*a+i),e.subplot=`polar${n}`}))})(g,a.subplots),(0,R.i)(g),g}n().register(l());const P=(0,h.withLoadingOverlay)((0,h.withoutIrrelevantRenders)((0,u.c)((0,s.memo)((e=>{const{cube:t,data:a,metaData:i,widgetState:n}=e,{formatMessage:o}=(0,c.useIntl)(),l=o({id:"aui.total"}),u=(0,s.useMemo)((()=>C({cube:t,data:a,metaData:i,widgetState:n,captionForTotals:l})),[t,a,i,n,l]),h=(0,p.DP)(),x=(0,s.useMemo)((()=>((e,t,{fontSize:a})=>{if(!e)return{};const r=e.subplots.horizontal.keys.length>0||e.subplots.vertical.keys.length>0;let i=(0,y.Z)({...r&&{grid:{ygap:.5,xgap:.5}},margin:{r:60},polar:{bgcolor:t.backgroundColor,radialaxis:{color:(0,v.j)(t.textColor,.25)}}},((e,t)=>{const a=e.vertical.keys.length,r=e.horizontal.keys.length,i=r>0,n=a>0,o=i&&n?r*a:r+a,l={};for(let e=1;e<=o;e++){const a=i?Math.ceil((e-r)/r):e-1,o=i?(e-1)%r:e;l[`polar${e}`]={bgcolor:t.backgroundColor,radialaxis:{color:(0,v.j)(t.textColor,.25)},domain:{row:n?a:0,column:i?o:0}}}return l})(e.subplots,t),(0,f.w)(e.subplots));return i=(0,g.C)(i,{axes:["polar"],fontSize:a}),i})(i,h,{fontSize:n?.style?.axisLabelFontSize})),[i,h,n?.style?.axisLabelFontSize]);return(0,r.Y)(d.Kl,{...e,traces:u,layout:x,cube:t,data:a,metaData:i})})))))},97782:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(90147),i=a(31529);const n=function(e,...t){return(0,r.produce)(e??{},(e=>{(0,i.defaultsDeep)(e,...t)}))}},54275:(e,t,a)=>{e.exports=a(7458)},9341:e=>{e.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},77973:(e,t,a)=>{var r=a(74364),i=a(71294).tester,n=r.findIndexOfMin,o=r.isAngleInsideSector,l=r.angleDelta,s=r.angleDist;function c(e,t,a,r){var i,n,o=r[0],l=r[1],s=d(Math.sin(t)-Math.sin(e)),c=d(Math.cos(t)-Math.cos(e)),u=Math.tan(a),p=d(1/u),h=s/c,f=l-h*o;return p?s&&c?n=u*(i=f/(u-h)):c?(i=l*p,n=l):(i=o,n=o*u):s&&c?(i=0,n=f):c?(i=0,n=l):i=n=NaN,[i,n]}function u(e,t,a,i){return r.isFullCircle([t,a])?function(e,t){var a,r=t.length,i=new Array(r+1);for(a=0;a<r;a++){var n=t[a];i[a]=[e*Math.cos(n),e*Math.sin(n)]}return i[a]=i[0].slice(),i}(e,i):function(e,t,a,i){var l,u,d=i.length,p=[];function h(t){return[e*Math.cos(t),e*Math.sin(t)]}function f(e,t,a){return c(e,t,a,h(e))}function g(e){return r.mod(e,d)}function v(e){return o(e,[t,a])}var y=n(i,(function(e){return v(e)?s(e,t):1/0})),x=f(i[y],i[g(y-1)],t);for(p.push(x),l=y,u=0;u<d;l++,u++){var m=i[g(l)];if(!v(m))break;p.push(h(m))}var b=n(i,(function(e){return v(e)?s(e,a):1/0})),k=f(i[b],i[g(b+1)],a);return p.push(k),p.push([0,0]),p.push(p[0].slice()),p}(e,t,a,i)}function d(e){return Math.abs(e)>1e-10?e:0}function p(e,t,a){t=t||0,a=a||0;for(var r=e.length,i=new Array(r),n=0;n<r;n++){var o=e[n];i[n]=[t+o[0],a-o[1]]}return i}e.exports={isPtInsidePolygon:function(e,t,a,r,n){if(!o(t,r))return!1;var l,s;a[0]<a[1]?(l=a[0],s=a[1]):(l=a[1],s=a[0]);var c=i(u(l,r[0],r[1],n)),d=i(u(s,r[0],r[1],n)),p=[e*Math.cos(t),e*Math.sin(t)];return d.contains(p)&&!c.contains(p)},findPolygonOffset:function(e,t,a,r){for(var i=1/0,n=1/0,o=u(e,t,a,r),l=0;l<o.length;l++){var s=o[l];i=Math.min(i,s[0]),n=Math.min(n,-s[1])}return[i,n]},findEnclosingVertexAngles:function(e,t){var a=n(t,(function(t){var a=l(t,e);return a>0?a:1/0})),i=r.mod(a+1,t.length);return[t[a],t[i]]},findIntersectionXY:c,findXYatLength:function(e,t,a,r){var i=-t*a,n=t*t+1,o=2*(t*i-a),l=i*i+a*a-e*e,s=Math.sqrt(o*o-4*n*l),c=(-o+s)/(2*n),u=(-o-s)/(2*n);return[[c,t*c+i+r],[u,t*u+i+r]]},clampTiny:d,pathPolygon:function(e,t,a,r,i,n){return"M"+p(u(e,t,a,r),i,n).join("L")},pathPolygonAnnulus:function(e,t,a,r,i,n,o){var l,s;e<t?(l=e,s=t):(l=t,s=e);var c=p(u(l,a,r,i),n,o);return"M"+p(u(s,a,r,i),n,o).reverse().join("L")+"M"+c.join("L")}}},36136:(e,t,a)=>{var r=a(55358).fX,i=a(74364).counterRegex,n=a(76004),o=a(9341),l=o.attr,s=o.name,c=i(s),u={};u[l]={valType:"subplotid",dflt:s,editType:"calc",description:["Sets a reference between this trace's data coordinates and","a polar subplot.","If *polar* (the default value), the data refer to `layout.polar`.","If *polar2*, the data refer to `layout.polar2`, and so on."].join(" ")},e.exports={attr:l,name:s,idRoot:s,idRegex:c,attrRegex:c,attributes:u,layoutAttributes:a(57858),supplyLayoutDefaults:a(21781),plot:function(e){for(var t=e._fullLayout,a=e.calcdata,i=t._subplots[s],o=0;o<i.length;o++){var l=i[o],c=r(a,s,l),u=t[l]._subplot;u||(u=n(e,l),t[l]._subplot=u),u.plot(c,t,e._promises)}},clean:function(e,t,a,r){for(var i=r._subplots[s]||[],n=r._has&&r._has("gl"),o=t._has&&t._has("gl"),l=n&&!o,c=0;c<i.length;c++){var u=i[c],d=r[u]._subplot;if(!t[u]&&d)for(var p in d.framework.remove(),d.layers["radial-axis-title"].remove(),d.clipPaths)d.clipPaths[p].remove();l&&d._scene&&(d._scene.destroy(),d._scene=null)}},toSVG:a(10238).toSVG}},57858:(e,t,a)=>{var r=a(35872),i=a(76752),n=a(82959).u,o=a(74364).extendFlat,l=a(95667).overrideAll,s=l({color:i.color,showline:o({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:o({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash},"plot","from-root"),c=l({tickmode:i.minor.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,layer:i.layer},"plot","from-root"),u={visible:o({},i.visible,{dflt:!0}),type:o({},i.type,{values:["-","linear","log","date","category"]}),autotypenumbers:i.autotypenumbers,autorangeoptions:{minallowed:i.autorangeoptions.minallowed,maxallowed:i.autorangeoptions.maxallowed,clipmin:i.autorangeoptions.clipmin,clipmax:i.autorangeoptions.clipmax,include:i.autorangeoptions.include,editType:"plot"},autorange:o({},i.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc",description:["If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","If *normal*, the range is computed in relation to the extrema","of the input data (same behavior as for cartesian axes)."].join(" ")},minallowed:o({},i.minallowed,{editType:"plot"}),maxallowed:o({},i.maxallowed,{editType:"plot"}),range:o({},i.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:i.categoryorder,categoryarray:i.categoryarray,angle:{valType:"angle",editType:"plot",description:["Sets the angle (in degrees) from which the radial axis is drawn.","Note that by default, radial axis line on the theta=0 line","corresponds to a line pointing right (like what mathematicians prefer).","Defaults to the first `polar.sector` angle."].join(" ")},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot",description:["Determines on which side of radial axis line","the tick and tick labels appear."].join(" ")},title:{text:o({},i.title.text,{editType:"plot",dflt:""}),font:o({},i.title.font,{editType:"plot"}),editType:"plot"},hoverformat:i.hoverformat,uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, `angle`, and `title` if in `editable: true` configuration.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc",_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}};o(u,s,c);var d={visible:o({},i.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0,description:["Sets the angular axis type.","If *linear*, set `thetaunit` to determine the unit in which axis value are shown.","If *category, use `period` to set the number of integer coordinates around polar axis."].join(" ")},autotypenumbers:i.autotypenumbers,categoryorder:i.categoryorder,categoryarray:i.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc",description:["Sets the format unit of the formatted *theta* values.","Has an effect only when `angularaxis.type` is *linear*."].join(" ")},period:{valType:"number",editType:"calc",min:0,description:["Set the angular period.","Has an effect only when `angularaxis.type` is *category*."].join(" ")},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc",description:["Sets the direction corresponding to positive angles."].join(" ")},rotation:{valType:"angle",editType:"calc",description:["Sets that start position (in degrees) of the angular axis","By default, polar subplots with `direction` set to *counterclockwise*","get a `rotation` of *0*","which corresponds to due East (like what mathematicians prefer).","In turn, polar with `direction` set to *clockwise* get a rotation of *90*","which corresponds to due North (like on a compass),"].join(" ")},hoverformat:i.hoverformat,uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `rotation`.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc"};o(d,s,c),e.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot",description:["Sets angular span of this polar subplot with two angles (in degrees).","Sector are assumed to be spanned in the counterclockwise direction","with *0* corresponding to rightmost limit of the polar subplot."].join(" ")},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot",description:["Sets the fraction of the radius to cut out of the polar subplot."].join(" ")},bgcolor:{valType:"color",editType:"plot",dflt:r.background,description:"Set the background color of the subplot"},radialaxis:u,angularaxis:d,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot",description:["Determines if the radial axis grid lines and angular axis line are drawn","as *circular* sectors or as *linear* (polygon) sectors.","Has an effect only when the angular axis has `type` *category*.","Note that `radialaxis.angle` is snapped to the angle of the closest","vertex when `gridshape` is *circular*","(so that radial axis scale is the same as the data scale)."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis attributes,","if not overridden in the individual axes.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc"}},21781:(e,t,a)=>{var r=a(74364),i=a(24765),n=a(25787),o=a(24888),l=a(55358).KO,s=a(72068),c=a(83638),u=a(1009),d=a(62431),p=a(69848),h=a(66246),f=a(64736),g=a(2411),v=a(57858),y=a(15512),x=a(9341),m=x.axisNames;function b(e,t,a,o){var g=a("bgcolor");o.bgColor=i.combine(g,o.paper_bgcolor);var b=a("sector");a("hole");var w,T=l(o.fullData,x.name,o.id),_=o.layoutOut;function A(e,t){return a(w+"."+e,t)}for(var M=0;M<m.length;M++){w=m[M],r.isPlainObject(e[w])||(e[w]={});var S=e[w],I=n.newContainer(t,w);I._id=I._name=w,I._attr=o.id+"."+w,I._traceIndices=T.map((function(e){return e._expandedIndex}));var L=x.axisName2dataArray[w],R=k(S,I,A,T,L,o);p(S,I,A,{axData:T,dataAttr:L});var D=A("visible");switch(y(I,t,_),A("uirevision",t.uirevision),I._m=1,w){case"radialaxis":A("minallowed"),A("maxallowed");var F,C=A("range"),P=I.getAutorangeDflt(C),O=A("autorange",P);!C||(null!==C[0]||null!==C[1])&&(null!==C[0]&&null!==C[1]||"reversed"!==O&&!0!==O)&&(null===C[0]||"min"!==O&&"max reversed"!==O)&&(null===C[1]||"max"!==O&&"min reversed"!==O)||(C=void 0,delete I.range,I.autorange=!0,F=!0),F||(O=A("autorange",P=I.getAutorangeDflt(C))),S.autorange=O,O&&(f(A,O,C),"linear"!==R&&"-"!==R||A("rangemode"),I.isReversed()&&(I._m=-1)),I.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===R){r.log("Polar plots do not support date angular axes yet.");for(var j=0;j<T.length;j++)T[j].visible=!1;R=S.type=I.type="linear"}A("linear"===R?"thetaunit":"period");var z=A("direction");A("rotation",{counterclockwise:0,clockwise:90}[z])}if(d(S,I,A,I.type,{tickSuffixDflt:"degrees"===I.thetaunit?"°":void 0}),D){var N,B,H,G,E=o.font||{};B=(N=A("color"))===S.color?N:E.color,H=E.size,G=E.family,s(S,I,A,I.type),u(S,I,A,I.type,{font:{color:B,size:H,family:G}}),c(S,I,A,{outerTicks:!0}),h(S,I,A,{dfltColor:N,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:v[w]}),A("layer"),"radialaxis"===w&&(A("side"),A("angle",b[0]),A("title.text"),r.coerceFont(A,"title.font",{color:B,size:r.bigFont(H),family:G}))}"category"!==R&&A("hoverformat"),I._input=S}"category"===t.angularaxis.type&&a("gridshape")}function k(e,t,a,r,i,n){var o=a("autotypenumbers",n.autotypenumbersDflt);if("-"===a("type")){for(var l,s=0;s<r.length;s++)if(r[s].visible){l=r[s];break}l&&l[i]&&(t.type=g(l[i],"gregorian",{noMultiCategory:!0,autotypenumbers:o})),"-"===t.type?t.type="linear":e.type=t.type}return t.type}e.exports=function(e,t,a){o(e,t,a,{type:x.name,attributes:v,handleDefaults:b,font:t.font,autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,fullData:a,layoutOut:t})}},76004:(e,t,a)=>{var r=a(36279),i=a(1915),n=a(88209),o=a(74364),l=o.strRotate,s=o.strTranslate,c=a(24765),u=a(92252),d=a(71223),p=a(62857),h=a(44926),f=a(15512),g=a(3898).doAutoRange,v=a(1061),y=a(60172),x=a(1484),m=a(90541),b=a(50941).prepSelect,k=a(50941).selectOnClick,w=a(50941).clearOutline,T=a(76118),_=a(64134),A=a(35566).redrawReglTraces,M=a(56735).MID_SHIFT,S=a(9341),I=a(77973),L=a(67074),R=L.smith,D=L.reactanceArc,F=L.resistanceArc,C=L.smithTransform,P=o._,O=o.mod,j=o.deg2rad,z=o.rad2deg;function N(e,t,a){this.isSmith=a||!1,this.id=t,this.gd=e,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var r=e._fullLayout,i="clip"+r._uid+t;this.clipIds.forTraces=i+"-for-traces",this.clipPaths.forTraces=r._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=r["_"+(a?"smith":"polar")+"layer"].append("g").attr("class",t),this.getHole=function(e){return this.isSmith?0:e.hole},this.getSector=function(e){return this.isSmith?[0,360]:e.sector},this.getRadial=function(e){return this.isSmith?e.realaxis:e.radialaxis},this.getAngular=function(e){return this.isSmith?e.imaginaryaxis:e.angularaxis},a||(this.radialTickLayout=null,this.angularTickLayout=null)}var B=N.prototype;function H(e){var t=e.ticks+String(e.ticklen)+String(e.showticklabels);return"side"in e&&(t+=e.side),t}function G(e,t){return t[o.findIndexOfMin(t,(function(t){return o.angleDist(e,t)}))]}function E(e,t,a){return t?(e.attr("display",null),e.attr(a)):e&&e.attr("display","none"),e}e.exports=function(e,t,a){return new N(e,t,a)},B.plot=function(e,t){for(var a=this,r=t[a.id],i=!1,n=0;n<e.length;n++)if(!1===e[n][0].trace.cliponaxis){i=!0;break}a._hasClipOnAxisFalse=i,a.updateLayers(t,r),a.updateLayout(t,r),d.generalUpdatePerTraceModule(a.gd,a,e,r),a.updateFx(t,r),a.isSmith&&(delete r.realaxis.range,delete r.imaginaryaxis.range)},B.updateLayers=function(e,t){var a=this,i=a.isSmith,n=a.layers,o=a.getRadial(t),l=a.getAngular(t),s=S.layerNames,c=s.indexOf("frontplot"),u=s.slice(0,c),d="below traces"===l.layer,p="below traces"===o.layer;d&&u.push("angular-line"),p&&u.push("radial-line"),d&&u.push("angular-axis"),p&&u.push("radial-axis"),u.push("frontplot"),d||u.push("angular-line"),p||u.push("radial-line"),d||u.push("angular-axis"),p||u.push("radial-axis");var h=(i?"smith":"polar")+"sublayer",f=a.framework.selectAll("."+h).data(u,String);f.enter().append("g").attr("class",(function(e){return h+" "+e})).each((function(e){var t=n[e]=r.select(this);switch(e){case"frontplot":i||t.append("g").classed("barlayer",!0),t.append("g").classed("scatterlayer",!0);break;case"backplot":t.append("g").classed("maplayer",!0);break;case"plotbg":n.bg=t.append("path");break;case"radial-grid":case"angular-grid":t.style("fill","none");break;case"radial-line":t.append("line").style("fill","none");break;case"angular-line":t.append("path").style("fill","none")}})),f.order()},B.updateLayout=function(e,t){var a=this,r=a.layers,i=e._size,n=a.getRadial(t),o=a.getAngular(t),l=t.domain.x,d=t.domain.y;a.xOffset=i.l+i.w*l[0],a.yOffset=i.t+i.h*(1-d[1]);var p=a.xLength=i.w*(l[1]-l[0]),h=a.yLength=i.h*(d[1]-d[0]),f=a.getSector(t);a.sectorInRad=f.map(j);var g,v,y,x,m,b=a.sectorBBox=function(e){var t,a=e[0],r=e[1]-a,i=O(a,360),n=i+r,o=Math.cos(j(i)),l=Math.sin(j(i)),s=Math.cos(j(n)),c=Math.sin(j(n));return t=i<=90&&n>=90||i>90&&n>=450?1:l<=0&&c<=0?0:Math.max(l,c),[i<=180&&n>=180||i>180&&n>=540?-1:o>=0&&s>=0?0:Math.min(o,s),i<=270&&n>=270||i>270&&n>=630?-1:l>=0&&c>=0?0:Math.min(l,c),n>=360?1:o<=0&&s<=0?0:Math.max(o,s),t]}(f),k=b[2]-b[0],w=b[3]-b[1],T=h/p,_=Math.abs(w/k);T>_?(g=p,m=(h-(v=p*_))/i.h/2,y=[l[0],l[1]],x=[d[0]+m,d[1]-m]):(v=h,m=(p-(g=h/_))/i.w/2,y=[l[0]+m,l[1]-m],x=[d[0],d[1]]),a.xLength2=g,a.yLength2=v,a.xDomain2=y,a.yDomain2=x;var A,M=a.xOffset2=i.l+i.w*y[0],S=a.yOffset2=i.t+i.h*(1-x[1]),I=a.radius=g/k,L=a.innerRadius=a.getHole(t)*I,R=a.cx=M-I*b[0],D=a.cy=S+I*b[3],F=a.cxx=R-M,C=a.cyy=D-S,P=n.side;"counterclockwise"===P?(A=P,P="top"):"clockwise"===P&&(A=P,P="bottom"),a.radialAxis=a.mockAxis(e,t,n,{_id:"x",side:P,_trueSide:A,domain:[L/i.w,I/i.w]}),a.angularAxis=a.mockAxis(e,t,o,{side:"right",domain:[0,Math.PI],autorange:!1}),a.doAutoRange(e,t),a.updateAngularAxis(e,t),a.updateRadialAxis(e,t),a.updateRadialAxisTitle(e,t),a.xaxis=a.mockCartesianAxis(e,t,{_id:"x",domain:y}),a.yaxis=a.mockCartesianAxis(e,t,{_id:"y",domain:x});var z=a.pathSubplot();a.clipPaths.forTraces.select("path").attr("d",z).attr("transform",s(F,C)),r.frontplot.attr("transform",s(M,S)).call(u.setClipUrl,a._hasClipOnAxisFalse?null:a.clipIds.forTraces,a.gd),r.bg.attr("d",z).attr("transform",s(R,D)).call(c.fill,t.bgcolor)},B.mockAxis=function(e,t,a,r){var i=o.extendFlat({},a,r);return f(i,t,e),i},B.mockCartesianAxis=function(e,t,a){var r=this,i=r.isSmith,n=a._id,l=o.extendFlat({type:"linear"},a);h(l,e);var s={x:[0,2],y:[1,3]};return l.setRange=function(){var e=r.sectorBBox,a=s[n],i=r.radialAxis._rl,o=(i[1]-i[0])/(1-r.getHole(t));l.range=[e[a[0]]*o,e[a[1]]*o]},l.isPtWithinRange="x"!==n||i?function(){return!0}:function(e){return r.isPtInside(e)},l.setRange(),l.setScale(),l},B.doAutoRange=function(e,t){var a=this,r=a.gd,i=a.radialAxis,n=a.getRadial(t);g(r,i);var o=i.range;n.range=o.slice(),n._input.range=o.slice(),i._rl=[i.r2l(o[0],null,"gregorian"),i.r2l(o[1],null,"gregorian")]},B.updateRadialAxis=function(e,t){var a=this,r=a.gd,i=a.layers,n=a.radius,u=a.innerRadius,d=a.cx,h=a.cy,f=a.getRadial(t),g=O(a.getSector(t)[0],360),v=a.radialAxis,y=u<n,x=a.isSmith;x||(a.fillViewInitialKey("radialaxis.angle",f.angle),a.fillViewInitialKey("radialaxis.range",v.range.slice()),v.setGeometry()),"auto"===v.tickangle&&g>90&&g<=270&&(v.tickangle=180);var m=x?function(e){var t=C(a,R([e.x,0]));return s(t[0]-d,t[1]-h)}:function(e){return s(v.l2p(e.x)+u,0)},b=x?function(e){return F(a,e.x,-1/0,1/0)}:function(e){return a.pathArc(v.r2p(e.x)+u)},k=H(f);if(a.radialTickLayout!==k&&(i["radial-axis"].selectAll(".xtick").remove(),a.radialTickLayout=k),y){v.setScale();var w=0,T=x?(v.tickvals||[]).filter((function(e){return e>=0})).map((function(e){return p.tickText(v,e,!0,!1)})):p.calcTicks(v),_=x?T:p.clipEnds(v,T),A=p.getTickSigns(v)[2];x&&(("top"===v.ticks&&"bottom"===v.side||"bottom"===v.ticks&&"top"===v.side)&&(A=-A),"top"===v.ticks&&"top"===v.side&&(w=-v.ticklen),"bottom"===v.ticks&&"bottom"===v.side&&(w=v.ticklen)),p.drawTicks(r,v,{vals:T,layer:i["radial-axis"],path:p.makeTickPath(v,0,A),transFn:m,crisp:!1}),p.drawGrid(r,v,{vals:_,layer:i["radial-grid"],path:b,transFn:o.noop,crisp:!1}),p.drawLabels(r,v,{vals:T,layer:i["radial-axis"],transFn:m,labelFns:p.makeLabelFns(v,w)})}var M=a.radialAxisAngle=a.vangles?z(G(j(f.angle),a.vangles)):f.angle,S=s(d,h),I=S+l(-M);E(i["radial-axis"],y&&(f.showticklabels||f.ticks),{transform:I}),E(i["radial-grid"],y&&f.showgrid,{transform:x?"":S}),E(i["radial-line"].select("line"),y&&f.showline,{x1:x?-n:u,y1:0,x2:n,y2:0,transform:I}).attr("stroke-width",f.linewidth).call(c.stroke,f.linecolor)},B.updateRadialAxisTitle=function(e,t,a){if(!this.isSmith){var r=this,i=r.gd,n=r.radius,o=r.cx,l=r.cy,s=r.getRadial(t),c=r.id+"title",d=0;if(s.title){var p=u.bBox(r.layers["radial-axis"].node()).height,h=s.title.font.size,f=s.side;d="top"===f?h:"counterclockwise"===f?-(p+.4*h):p+.8*h}var g=void 0!==a?a:r.radialAxisAngle,v=j(g),y=Math.cos(v),x=Math.sin(v),b=o+n/2*y+d*x,k=l-n/2*x+d*y;r.layers["radial-axis-title"]=m.draw(i,c,{propContainer:s,propName:r.id+".radialaxis.title",placeholder:P(i,"Click to enter radial axis title"),attributes:{x:b,y:k,"text-anchor":"middle"},transform:{rotate:-g}})}},B.updateAngularAxis=function(e,t){var a=this,r=a.gd,i=a.layers,n=a.radius,u=a.innerRadius,d=a.cx,h=a.cy,f=a.getAngular(t),g=a.angularAxis,v=a.isSmith;v||(a.fillViewInitialKey("angularaxis.rotation",f.rotation),g.setGeometry(),g.setScale());var y=v?function(e){var t=C(a,R([0,e.x]));return Math.atan2(t[0]-d,t[1]-h)-Math.PI/2}:function(e){return g.t2g(e.x)};"linear"===g.type&&"radians"===g.thetaunit&&(g.tick0=z(g.tick0),g.dtick=z(g.dtick));var x=function(e){return s(d+n*Math.cos(e),h-n*Math.sin(e))},m=v?function(e){var t=C(a,R([0,e.x]));return s(t[0],t[1])}:function(e){return x(y(e))},b=v?function(e){var t=C(a,R([0,e.x])),r=Math.atan2(t[0]-d,t[1]-h)-Math.PI/2;return s(t[0],t[1])+l(-z(r))}:function(e){var t=y(e);return x(t)+l(-z(t))},k=v?function(e){return D(a,e.x,0,1/0)}:function(e){var t=y(e),a=Math.cos(t),r=Math.sin(t);return"M"+[d+u*a,h-u*r]+"L"+[d+n*a,h-n*r]},w=p.makeLabelFns(g,0).labelStandoff,T={xFn:function(e){var t=y(e);return Math.cos(t)*w},yFn:function(e){var t=y(e),a=Math.sin(t)>0?.2:1;return-Math.sin(t)*(w+e.fontSize*a)+Math.abs(Math.cos(t))*(e.fontSize*M)},anchorFn:function(e){var t=y(e),a=Math.cos(t);return Math.abs(a)<.1?"middle":a>0?"start":"end"},heightFn:function(e,t,a){var r=y(e);return-.5*(1+Math.sin(r))*a}},_=H(f);a.angularTickLayout!==_&&(i["angular-axis"].selectAll("."+g._id+"tick").remove(),a.angularTickLayout=_);var A,S=v?[1/0].concat(g.tickvals||[]).map((function(e){return p.tickText(g,e,!0,!1)})):p.calcTicks(g);if(v&&(S[0].text="∞",S[0].fontSize*=1.75),"linear"===t.gridshape?(A=S.map(y),o.angleDelta(A[0],A[1])<0&&(A=A.slice().reverse())):A=null,a.vangles=A,"category"===g.type&&(S=S.filter((function(e){return o.isAngleInsideSector(y(e),a.sectorInRad)}))),g.visible){var I="inside"===g.ticks?-1:1,L=(g.linewidth||1)/2;p.drawTicks(r,g,{vals:S,layer:i["angular-axis"],path:"M"+I*L+",0h"+I*g.ticklen,transFn:b,crisp:!1}),p.drawGrid(r,g,{vals:S,layer:i["angular-grid"],path:k,transFn:o.noop,crisp:!1}),p.drawLabels(r,g,{vals:S,layer:i["angular-axis"],repositionOnUpdate:!0,transFn:m,labelFns:T})}E(i["angular-line"].select("path"),f.showline,{d:a.pathSubplot(),transform:s(d,h)}).attr("stroke-width",f.linewidth).call(c.stroke,f.linecolor)},B.updateFx=function(e,t){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(e),this.updateRadialDrag(e,t,0),this.updateRadialDrag(e,t,1)),this.updateHoverAndMainDrag(e))},B.updateHoverAndMainDrag=function(e){var t,a,l=this,c=l.isSmith,u=l.gd,d=l.layers,p=e._zoomlayer,h=S.MINZOOM,f=S.OFFEDGE,g=l.radius,m=l.innerRadius,T=l.cx,_=l.cy,A=l.cxx,M=l.cyy,L=l.sectorInRad,R=l.vangles,D=l.radialAxis,F=I.clampTiny,C=I.findXYatLength,P=I.findEnclosingVertexAngles,O=S.cornerHalfWidth,j=S.cornerLen/2,z=v.makeDragger(d,"path","maindrag",!1===e.dragmode?"none":"crosshair");r.select(z).attr("d",l.pathSubplot()).attr("transform",s(T,_)),z.onmousemove=function(e){x.hover(u,e,l.id),u._fullLayout._lasthover=z,u._fullLayout._hoversubplot=l.id},z.onmouseout=function(e){u._dragging||y.unhover(u,e)};var N,B,H,G,E,V,Z,U,X,K={element:z,gd:u,subplot:l.id,plotinfo:{id:l.id,xaxis:l.xaxis,yaxis:l.yaxis},xaxes:[l.xaxis],yaxes:[l.yaxis]};function Y(e,t){return Math.sqrt(e*e+t*t)}function W(e,t){return Y(e-A,t-M)}function q(e,t){return Math.atan2(M-t,e-A)}function $(e,t){return[e*Math.cos(t),e*Math.sin(-t)]}function J(e,t){if(0===e)return l.pathSector(2*O);var a=j/e,r=t-a,i=t+a,n=Math.max(0,Math.min(e,g)),o=n-O,s=n+O;return"M"+$(o,r)+"A"+[o,o]+" 0,0,0 "+$(o,i)+"L"+$(s,i)+"A"+[s,s]+" 0,0,1 "+$(s,r)+"Z"}function Q(e,t,a){if(0===e)return l.pathSector(2*O);var r,i,n=$(e,t),o=$(e,a),s=F((n[0]+o[0])/2),c=F((n[1]+o[1])/2);if(s&&c){var u=c/s,d=-1/u,p=C(O,u,s,c);r=C(j,d,p[0][0],p[0][1]),i=C(j,d,p[1][0],p[1][1])}else{var h,f;c?(h=j,f=O):(h=O,f=j),r=[[s-h,c-f],[s+h,c-f]],i=[[s-h,c+f],[s+h,c+f]]}return"M"+r.join("L")+"L"+i.reverse().join("L")+"Z"}function ee(e,t){return t=Math.max(Math.min(t,g),m),e<f?e=0:g-e<f?e=g:t<f?t=0:g-t<f&&(t=g),Math.abs(t-e)>h?(e<t?(H=e,G=t):(H=t,G=e),!0):(H=null,G=null,!1)}function te(e,t){e=e||E,t=t||"M0,0Z",U.attr("d",e),X.attr("d",t),v.transitionZoombox(U,X,V,Z),V=!0;var a={};oe(a),u.emit("plotly_relayouting",a)}function ae(e,r){var i,n,o=N+(e*=t),s=B+(r*=a),c=W(N,B),u=Math.min(W(o,s),g),d=q(N,B);ee(c,u)&&(i=E+l.pathSector(G),H&&(i+=l.pathSector(H)),n=J(H,d)+J(G,d)),te(i,n)}function re(e,t,a,r){var i=I.findIntersectionXY(a,r,a,[e-A,M-t]);return Y(i[0],i[1])}function ie(e,t){var a,r,i=N+e,n=B+t,o=q(N,B),s=q(i,n),c=P(o,R),u=P(s,R);ee(re(N,B,c[0],c[1]),Math.min(re(i,n,u[0],u[1]),g))&&(a=E+l.pathSector(G),H&&(a+=l.pathSector(H)),r=[Q(H,c[0],c[1]),Q(G,c[0],c[1])].join(" ")),te(a,r)}function ne(){if(v.removeZoombox(u),null!==H&&null!==G){var e={};oe(e),v.showDoubleClickNotifier(u),n.call("_guiRelayout",u,e)}}function oe(e){var t=D._rl,a=(t[1]-t[0])/(1-m/g)/g,r=[t[0]+(H-m)*a,t[0]+(G-m)*a];e[l.id+".radialaxis.range"]=r}function le(e,t){var a=u._fullLayout.clickmode;if(v.removeZoombox(u),2===e){var r={};for(var i in l.viewInitial)r[l.id+"."+i]=l.viewInitial[i];u.emit("plotly_doubleclick",null),n.call("_guiRelayout",u,r)}a.indexOf("select")>-1&&1===e&&k(t,u,[l.xaxis],[l.yaxis],l.id,K),a.indexOf("event")>-1&&x.click(u,t,l.id)}K.prepFn=function(e,r,n){var s=u._fullLayout.dragmode,d=z.getBoundingClientRect();u._fullLayout._calcInverseTransform(u);var h=u._fullLayout._invTransform;t=u._fullLayout._invScaleX,a=u._fullLayout._invScaleY;var f=o.apply3DTransform(h)(r-d.left,n-d.top);if(N=f[0],B=f[1],R){var y=I.findPolygonOffset(g,L[0],L[1],R);N+=A+y[0],B+=M+y[1]}switch(s){case"zoom":K.clickFn=le,c||(K.moveFn=R?ie:ae,K.doneFn=ne,function(){H=null,G=null,E=l.pathSubplot(),V=!1;var e=u._fullLayout[l.id];Z=i(e.bgcolor).getLuminance(),(U=v.makeZoombox(p,Z,T,_,E)).attr("fill-rule","evenodd"),X=v.makeCorners(p,T,_),w(u)}());break;case"select":case"lasso":b(e,r,n,K,s)}},y.init(K)},B.updateRadialDrag=function(e,t,a){var i=this,c=i.gd,u=i.layers,d=i.radius,p=i.innerRadius,h=i.cx,f=i.cy,g=i.radialAxis,x=S.radialDragBoxSize,m=x/2;if(g.visible){var b,k,T,M=j(i.radialAxisAngle),I=g._rl,L=I[0],R=I[1],D=I[a],F=.75*(I[1]-I[0])/(1-i.getHole(t))/d;a?(b=h+(d+m)*Math.cos(M),k=f-(d+m)*Math.sin(M),T="radialdrag"):(b=h+(p-m)*Math.cos(M),k=f-(p-m)*Math.sin(M),T="radialdrag-inner");var C,P,O,N=v.makeRectDragger(u,T,"crosshair",-m,-m,x,x),B={element:N,gd:c};!1===e.dragmode&&(B.dragmode=!1),E(r.select(N),g.visible&&p<d,{transform:s(b,k)}),B.prepFn=function(){C=null,P=null,O=null,B.moveFn=H,B.doneFn=V,w(c)},B.clampFn=function(e,t){return Math.sqrt(e*e+t*t)<S.MINDRAG&&(e=0,t=0),[e,t]},y.init(B)}function H(e,t){if(C)C(e,t);else{var r=[e,-t],n=[Math.cos(M),Math.sin(M)],l=Math.abs(o.dot(r,n)/Math.sqrt(o.dot(r,r)));isNaN(l)||(C=l<.5?Z:U)}var s={};!function(e){null!==P?e[i.id+".radialaxis.angle"]=P:null!==O&&(e[i.id+".radialaxis.range["+a+"]"]=O)}(s),c.emit("plotly_relayouting",s)}function V(){null!==P?n.call("_guiRelayout",c,i.id+".radialaxis.angle",P):null!==O&&n.call("_guiRelayout",c,i.id+".radialaxis.range["+a+"]",O)}function Z(e,t){if(0!==a){var r=b+e,n=k+t;P=Math.atan2(f-n,r-h),i.vangles&&(P=G(P,i.vangles)),P=z(P);var o=s(h,f)+l(-P);u["radial-axis"].attr("transform",o),u["radial-line"].select("line").attr("transform",o);var c=i.gd._fullLayout,d=c[i.id];i.updateRadialAxisTitle(c,d,P)}}function U(e,t){var r=o.dot([e,-t],[Math.cos(M),Math.sin(M)]);if(O=D-F*r,F>0==(a?O>L:O<R)){var l=c._fullLayout,s=l[i.id];g.range[a]=O,g._rl[a]=O,i.updateRadialAxis(l,s),i.xaxis.setRange(),i.xaxis.setScale(),i.yaxis.setRange(),i.yaxis.setScale();var u=!1;for(var d in i.traceHash){var p=i.traceHash[d],h=o.filterVisible(p);p[0][0].trace._module.plot(c,i,h,s),n.traceIs(d,"gl")&&h.length&&(u=!0)}u&&(_(c),A(c))}else O=null}},B.updateAngularDrag=function(e){var t=this,a=t.gd,i=t.layers,c=t.radius,d=t.angularAxis,p=t.cx,h=t.cy,f=t.cxx,g=t.cyy,x=S.angularDragBoxSize,m=v.makeDragger(i,"path","angulardrag",!1===e.dragmode?"none":"move"),b={element:m,gd:a};function k(e,t){return Math.atan2(g+x-t,e-f-x)}!1===e.dragmode?b.dragmode=!1:r.select(m).attr("d",t.pathAnnulus(c,c+x)).attr("transform",s(p,h)).call(T,"move");var M,I,L,R,D,F,C=i.frontplot.select(".scatterlayer").selectAll(".trace"),P=C.selectAll(".point"),O=C.selectAll(".textpoint");function j(c,v){var y=t.gd._fullLayout,x=y[t.id],m=k(M+c*e._invScaleX,I+v*e._invScaleY),b=z(m-F);if(R=L+b,i.frontplot.attr("transform",s(t.xOffset2,t.yOffset2)+l([-b,f,g])),t.vangles){D=t.radialAxisAngle+b;var w=s(p,h)+l(-b),T=s(p,h)+l(-D);i.bg.attr("transform",w),i["radial-grid"].attr("transform",w),i["radial-axis"].attr("transform",T),i["radial-line"].select("line").attr("transform",T),t.updateRadialAxisTitle(y,x,D)}else t.clipPaths.forTraces.select("path").attr("transform",s(f,g)+l(b));P.each((function(){var e=r.select(this),t=u.getTranslate(e);e.attr("transform",s(t.x,t.y)+l([b]))})),O.each((function(){var e=r.select(this),t=e.select("text"),a=u.getTranslate(e);e.attr("transform",l([b,t.attr("x"),t.attr("y")])+s(a.x,a.y))})),d.rotation=o.modHalf(R,360),t.updateAngularAxis(y,x),t._hasClipOnAxisFalse&&!o.isFullCircle(t.sectorInRad)&&C.call(u.hideOutsideRangePoints,t);var S=!1;for(var j in t.traceHash)if(n.traceIs(j,"gl")){var B=t.traceHash[j],H=o.filterVisible(B);B[0][0].trace._module.plot(a,t,H,x),H.length&&(S=!0)}S&&(_(a),A(a));var G={};N(G),a.emit("plotly_relayouting",G)}function N(e){e[t.id+".angularaxis.rotation"]=R,t.vangles&&(e[t.id+".radialaxis.angle"]=D)}function B(){O.select("text").attr("transform",null);var e={};N(e),n.call("_guiRelayout",a,e)}b.prepFn=function(r,i,n){var l=e[t.id];L=l.angularaxis.rotation;var s=m.getBoundingClientRect();M=i-s.left,I=n-s.top,a._fullLayout._calcInverseTransform(a);var c=o.apply3DTransform(e._invTransform)(M,I);M=c[0],I=c[1],F=k(M,I),b.moveFn=j,b.doneFn=B,w(a)},t.vangles&&!o.isFullCircle(t.sectorInRad)&&(b.prepFn=o.noop,T(r.select(m),null)),y.init(b)},B.isPtInside=function(e){if(this.isSmith)return!0;var t=this.sectorInRad,a=this.vangles,r=this.angularAxis.c2g(e.theta),i=this.radialAxis,n=i.c2l(e.r),l=i._rl;return(a?I.isPtInsidePolygon:o.isPtInsideSector)(n,r,l,t,a)},B.pathArc=function(e){var t=this.sectorInRad,a=this.vangles;return(a?I.pathPolygon:o.pathArc)(e,t[0],t[1],a)},B.pathSector=function(e){var t=this.sectorInRad,a=this.vangles;return(a?I.pathPolygon:o.pathSector)(e,t[0],t[1],a)},B.pathAnnulus=function(e,t){var a=this.sectorInRad,r=this.vangles;return(r?I.pathPolygonAnnulus:o.pathAnnulus)(e,t,a[0],a[1],r)},B.pathSubplot=function(){var e=this.innerRadius,t=this.radius;return e?this.pathAnnulus(e,t):this.pathSector(t)},B.fillViewInitialKey=function(e,t){e in this.viewInitial||(this.viewInitial[e]=t)}},15512:(e,t,a)=>{var r=a(74364),i=a(44926),n=r.deg2rad,o=r.rad2deg;e.exports=function(e,t,a){switch(i(e,a),e._id){case"x":case"radialaxis":!function(e,t){var a=t._subplot;e.setGeometry=function(){var t=e._rl[0],r=e._rl[1],i=a.innerRadius,n=(a.radius-i)/(r-t),o=i/n,l=t>r?function(e){return e<=0}:function(e){return e>=0};e.c2g=function(a){var r=e.c2l(a)-t;return(l(r)?r:0)+o},e.g2c=function(a){return e.l2c(a+t-o)},e.g2p=function(e){return e*n},e.c2p=function(t){return e.g2p(e.c2g(t))}}}(e,t);break;case"angularaxis":!function(e,t){var a=e.type;if("linear"===a){var i=e.d2c,l=e.c2d;e.d2c=function(e,t){return function(e,t){return"degrees"===t?n(e):e}(i(e),t)},e.c2d=function(e,t){return l(function(e,t){return"degrees"===t?o(e):e}(e,t))}}e.makeCalcdata=function(t,i){var n,o,l=t[i],s=t._length,c=function(a){return e.d2c(a,t.thetaunit)};if(l){if(r.isTypedArray(l)&&"linear"===a){if(s===l.length)return l;if(l.subarray)return l.subarray(0,s)}for(n=new Array(s),o=0;o<s;o++)n[o]=c(l[o])}else{var u=i+"0",d="d"+i,p=u in t?c(t[u]):0,h=t[d]?c(t[d]):(e.period||2*Math.PI)/s;for(n=new Array(s),o=0;o<s;o++)n[o]=p+o*h}return n},e.setGeometry=function(){var i,l,s,c,u=t.sector,d=u.map(n),p={clockwise:-1,counterclockwise:1}[e.direction],h=n(e.rotation),f=function(e){return p*e+h},g=function(e){return(e-h)/p};switch(a){case"linear":l=i=r.identity,c=n,s=o,e.range=r.isFullCircle(d)?[u[0],u[0]+360]:d.map(g).map(o);break;case"category":var v=e._categories.length,y=e.period?Math.max(e.period,v):v;0===y&&(y=1),l=c=function(e){return 2*e*Math.PI/y},i=s=function(e){return e*y/Math.PI/2},e.range=[0,y]}e.c2g=function(e){return f(l(e))},e.g2c=function(e){return i(g(e))},e.t2g=function(e){return f(c(e))},e.g2t=function(e){return s(g(e))}}}(e,t)}}},67074:e=>{function t(e){return e<0?-1:e>0?1:0}function a(e){var t=e[0],a=e[1];if(!isFinite(t)||!isFinite(a))return[1,0];var r=(t+1)*(t+1)+a*a;return[(t*t+a*a-1)/r,2*a/r]}function r(e,t){var a=t[0],r=t[1];return[a*e.radius+e.cx,-r*e.radius+e.cy]}function i(e,t){return t*e.radius}e.exports={smith:a,reactanceArc:function(e,t,n,o){var l=r(e,a([n,t])),s=l[0],c=l[1],u=r(e,a([o,t])),d=u[0],p=u[1];if(0===t)return["M"+s+","+c,"L"+d+","+p].join(" ");var h=i(e,1/Math.abs(t));return["M"+s+","+c,"A"+h+","+h+" 0 0,"+(t<0?1:0)+" "+d+","+p].join(" ")},resistanceArc:function(e,n,o,l){var s=i(e,1/(n+1)),c=r(e,a([n,o])),u=c[0],d=c[1],p=r(e,a([n,l])),h=p[0],f=p[1];if(t(o)!==t(l)){var g=r(e,a([n,0]));return["M"+u+","+d,"A"+s+","+s+" 0 0,"+(0<o?0:1)+" "+g[0]+","+g[1],"A"+s+","+s+" 0 0,"+(l<0?0:1)+h+","+f].join(" ")}return["M"+u+","+d,"A"+s+","+s+" 0 0,"+(l<o?0:1)+" "+h+","+f].join(" ")},smithTransform:r}},24888:(e,t,a)=>{var r=a(74364),i=a(25787),n=a(82959).N;e.exports=function(e,t,a,o){var l,s,c=o.type,u=o.attributes,d=o.handleDefaults,p=o.partition||"x",h=t._subplots[c],f=h.length,g=f&&h[0].replace(/\d+$/,"");function v(e,t){return r.coerce(l,s,u,e,t)}for(var y=0;y<f;y++){var x=h[y];l=e[x]?e[x]:e[x]={},s=i.newContainer(t,x,g),o.noUirevision||v("uirevision",t.uirevision);var m={};m[p]=[y/f,(y+1)/f],n(s,t,v,m),o.id=x,d(l,s,v,o)}}},93137:(e,t,a)=>{var r=a(10017).rb,i=a(10017).ay,n=a(99134).extendFlat,o=a(73817),l=a(64094),s=o.line;e.exports={mode:o.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the radial coordinates"},theta:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the angular coordinates"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",description:["Alternate to `r`.","Builds a linear space of r coordinates.","Use with `dr`","where `r0` is the starting coordinate and `dr` the step."].join(" ")},dr:{valType:"number",dflt:1,editType:"calc",description:"Sets the r coordinate step."},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",description:["Alternate to `theta`.","Builds a linear space of theta coordinates.","Use with `dtheta`","where `theta0` is the starting coordinate and `dtheta` the step."].join(" ")},dtheta:{valType:"number",editType:"calc",description:["Sets the theta coordinate step.","By default, the `dtheta` step equals the subplot's period divided","by the length of the `r` coordinates."].join(" ")},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes",description:["Sets the unit of input *theta* values.","Has an effect only when on *linear* angular axes."].join(" ")},text:o.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:o.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:n({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:o.connectgaps,marker:o.marker,cliponaxis:n({},o.cliponaxis,{dflt:!1}),textposition:o.textposition,textfont:o.textfont,fill:n({},o.fill,{values:["none","toself","tonext"],dflt:"none",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","scatterpolar has a subset of the options available to scatter.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")}),fillcolor:o.fillcolor,hoverinfo:n({},l.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:o.hoveron,hovertemplate:r(),selected:o.selected,unselected:o.unselected}},29461:(e,t,a)=>{var r=a(35646),i=a(56532).BADNUM,n=a(62857),o=a(48771),l=a(32606),s=a(94168),c=a(50909).calcMarkerSize;e.exports=function(e,t){for(var a=e._fullLayout,u=t.subplot,d=a[u].radialaxis,p=a[u].angularaxis,h=d.makeCalcdata(t,"r"),f=p.makeCalcdata(t,"theta"),g=t._length,v=new Array(g),y=0;y<g;y++){var x=h[y],m=f[y],b=v[y]={};r(x)&&r(m)?(b.r=x,b.theta=m):b.r=i}var k=c(t,g);return t._extremes.x=n.findExtremes(d,h,{ppad:k}),o(e,t),l(v,t),s(v,t),v}},9654:(e,t,a)=>{var r=a(74364),i=a(12795),n=a(62107),o=a(89387),l=a(62253),s=a(72536),c=a(74607),u=a(33419).PTS_LINESONLY,d=a(93137);function p(e,t,a,r){var i,n=r("r"),o=r("theta");if(n)o?i=Math.min(n.length,o.length):(i=n.length,r("theta0"),r("dtheta"));else{if(!o)return 0;i=t.theta.length,r("r0"),r("dr")}return t._length=i,i}e.exports={handleRThetaDefaults:p,supplyDefaults:function(e,t,a,h){function f(a,i){return r.coerce(e,t,d,a,i)}var g=p(0,t,0,f);if(g){f("thetaunit"),f("mode",g<u?"lines+markers":"lines"),f("text"),f("hovertext"),"fills"!==t.hoveron&&f("hovertemplate"),i.hasLines(t)&&(o(e,t,a,h,f,{backoff:!0}),l(e,t,f),f("connectgaps")),i.hasMarkers(t)&&n(e,t,a,h,f,{gradient:!0}),i.hasText(t)&&(f("texttemplate"),s(e,t,h,f));var v=[];(i.hasMarkers(t)||i.hasText(t))&&(f("cliponaxis"),f("marker.maxdisplayed"),v.push("points")),f("fill"),"none"!==t.fill&&(c(e,t,a,f),i.hasLines(t)||l(e,t,f)),"tonext"!==t.fill&&"toself"!==t.fill||v.push("fills"),f("hoveron",v.join("+")||"points"),r.coerceSelectionMarkerOpacity(t,f)}else t.visible=!1}}},40934:(e,t,a)=>{var r=a(74364),i=a(62857);e.exports=function(e,t,a){var n,o,l={},s=a[t.subplot]._subplot;s?(n=s.radialAxis,o=s.angularAxis):(n=(s=a[t.subplot]).radialaxis,o=s.angularaxis);var c=n.c2l(e.r);l.rLabel=i.tickText(n,c,!0).text;var u="degrees"===o.thetaunit?r.rad2deg(e.theta):e.theta;return l.thetaLabel=i.tickText(o,u,!0).text,l}},65112:(e,t,a)=>{var r=a(71104);function i(e,t,a,r){var i=a.radialAxis,n=a.angularAxis;i._hovertitle="r",n._hovertitle="θ";var o={};o[t.subplot]={_subplot:a};var l=t._module.formatLabels(e,t,o);r.rLabel=l.rLabel,r.thetaLabel=l.thetaLabel;var s=e.hi||t.hoverinfo,c=[];function u(e,t){c.push(e._hovertitle+": "+t)}if(!t.hovertemplate){var d=s.split("+");-1!==d.indexOf("all")&&(d=["r","theta","text"]),-1!==d.indexOf("r")&&u(i,r.rLabel),-1!==d.indexOf("theta")&&u(n,r.thetaLabel),-1!==d.indexOf("text")&&r.text&&(c.push(r.text),delete r.text),r.extraText=c.join("<br>")}}e.exports={hoverPoints:function(e,t,a,n){var o=r(e,t,a,n);if(o&&!1!==o[0].index){var l=o[0];if(void 0===l.index)return o;var s=e.subplot,c=l.cd[l.index],u=l.trace;if(s.isPtInside(c))return l.xLabelVal=void 0,l.yLabelVal=void 0,i(c,u,s,l),l.hovertemplate=u.hovertemplate,o}},makeHoverPointText:i}},7458:(e,t,a)=>{e.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:a(36136),categories:["polar","symbols","showLegend","scatter-like"],attributes:a(93137),supplyDefaults:a(9654).supplyDefaults,colorbar:a(72917),formatLabels:a(40934),calc:a(29461),plot:a(35451),style:a(88371).style,styleOnSelect:a(88371).styleOnSelect,hoverPoints:a(65112).hoverPoints,selectPoints:a(1e4),meta:{hrName:"scatter_polar",description:["The scatterpolar trace type encompasses line charts, scatter charts, text charts, and bubble charts","in polar coordinates.","The data visualized as scatter point or lines is set in","`r` (radial) and `theta` (angular) coordinates","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}}},35451:(e,t,a)=>{var r=a(78611),i=a(56532).BADNUM;e.exports=function(e,t,a){for(var n=t.layers.frontplot.select("g.scatterlayer"),o=t.xaxis,l=t.yaxis,s={xaxis:o,yaxis:l,plot:t.framework,layerClipId:t._hasClipOnAxisFalse?t.clipIds.forTraces:null},c=t.radialAxis,u=t.angularAxis,d=0;d<a.length;d++)for(var p=a[d],h=0;h<p.length;h++){0===h&&(p[0].trace._xA=o,p[0].trace._yA=l);var f=p[h],g=f.r;if(g===i)f.x=f.y=i;else{var v=c.c2g(g),y=u.c2g(f.theta);f.x=v*Math.cos(y),f.y=v*Math.sin(y)}}r(e,s,a,n)}}}]);