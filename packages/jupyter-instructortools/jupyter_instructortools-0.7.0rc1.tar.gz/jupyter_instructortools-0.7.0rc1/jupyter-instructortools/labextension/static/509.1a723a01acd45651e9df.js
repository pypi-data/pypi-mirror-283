"use strict";(self.webpackChunkjupyter_instructortools=self.webpackChunkjupyter_instructortools||[]).push([[509],{509:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var n=o(179),l=o(110),a=o(858),d=o(902);const i={id:"JPSLInstructorTools:plugin",description:"Tool to assist instructors in creating notebook templates for student Jupyter worksheets.",autoStart:!0,requires:[n.IMainMenu,l.ICommandPalette,d.INotebookTracker,d.INotebookTools],activate:async(e,t,o,n,d)=>{const{commands:i}=e;let r=!1,s=!1;const c="grnstart:JPSLInstructorTools:main-menu",u="Insert green start bar",m="Insert green start bar in a markdown cell.";i.addCommand(c,{label:u,caption:m,execute:()=>{if(d.selectedCells){const e=d.selectedCells[0].editor;if(e){const t={column:0,line:0};e.setSelection({start:t,end:t}),e.replaceSelection&&e.replaceSelection('<div style = "width: 100%; height:10px;border-width:5px; border-color:green;border-style:solid;border-bottom-style:none;margin-bottom: 4px; min-width: 15px;background-color:beige;"></div>\n\n')}}else window.alert("Please select a cell in a notebook.");console.log("Insert green start bar has been called.")}});const h="brnstop:JPSLInstructorTools:main-menu",b="Insert brown stop bar",f="Insert brown stop bar in a markdown cell.";i.addCommand(h,{label:b,caption:f,execute:()=>{if(d.selectedCells){const e=d.selectedCells[0].editor;if(e){const t=e.lineCount-1;let o={column:0,line:t};const n=e.getLine(t);n&&(o.column=n.length),e.setSelection({start:o,end:o}),e.replaceSelection&&e.replaceSelection('\n\n<div style = "width: 100%; height:10px;border-width:5px;border-color:sienna;border-style:solid;border-top-style:none;margin-top: 4px; min-width: 15px;background-color:beige;"></div>')}}else window.alert("Please select a cell in a notebook.");console.log("Insert brown stop bar has been called.")}});const g="cyanhighlight:JPSLInstructorTools:main-menu",p="Insert left cyan highlight",w="Insert left cyan highlight in a markdown cell.";i.addCommand(g,{label:p,caption:w,execute:()=>{if(d.selectedCells){const e=d.selectedCells[0].editor;if(e){const t={column:0,line:0};e.setSelection({start:t,end:t}),e.replaceSelection&&e.replaceSelection('<div style = "height: 100%; width:10px;float:left; border-width:5px; border-color:cyan;border-style:solid; border-right-style:none;margin-right: 4px; min-height: 15px;"></div>\n\n')}}else window.alert("Please select a cell in a notebook.");console.log("Insert left cyan highlight has been called.")}});const S="redhighlight:JPSLInstructorTools:main-menu",I="Insert left red highlight",P="Insert left red highlight in a markdown cell.";i.addCommand(S,{label:I,caption:P,execute:()=>{if(d.selectedCells){const e=d.selectedCells[0].editor;if(e){const t={column:0,line:0};e.setSelection({start:t,end:t}),e.replaceSelection&&e.replaceSelection('<div style = "height: 100%; width:10px;float:left; border-width:5px; border-color:red;border-style:solid; border-right-style:none;margin-right: 4px; min-height: 15px;"></div>\n\n')}}else window.alert("Please select a cell in a notebook.");console.log("Insert left red highlight has been called.")}});const y="protectcells:JPSLInstructorTools:main-menu",L="Protect selected cells",J="Protect selected cells";i.addCommand(y,{label:L,caption:J,execute:()=>{if(n.currentWidget)if(d.selectedCells)for(const e of d.selectedCells)e.model.setMetadata("editable",!1),e.model.setMetadata("deletable",!1),e.node.setAttribute("style","background-color:pink;");else window.alert("Cell protection failed. Did you select cells?");else{let e="Cell protection failed. Try the Property Inspector advanced mode and set the";e+="'editable'parameter to false. Then add the 'deletable' parameter set to false.",window.alert(e)}console.log("Protect selected cells has been called.")}});const T="deprotectcells:JPSLInstructorTools:main-menu",k="Deprotect selected cells",C="Deprotect selected cells";i.addCommand(T,{label:k,caption:C,execute:()=>{if(n.currentWidget)if(d.selectedCells)for(const e of d.selectedCells)e.model.setMetadata("editable",!0),e.model.setMetadata("deletable",!0),e.node.removeAttribute("style");else window.alert("Cell deprotection failed. Did you select cells?");else{let e="Cell deprotection failed. Try the Property Inspector advanced mode and set the";e+="'editable' parameter to true. Then set the 'deletable' parameter to true.",window.alert(e)}console.log("Deprotect selected cells has been called.")}});const v="indicateprotectcells:JPSLInstructorTools:main-menu",M="Indicate protected cells",_="Indicate protected cells";i.addCommand(v,{label:M,caption:_,execute:()=>{if(n.currentWidget)if(n.currentWidget.content.widgets){let e=0;for(const t of n.currentWidget.content.widgets)t.model.getMetadata("editable")||t.model.getMetadata("deletable")||null==t.model.getMetadata("editable")||(t.node.setAttribute("style","background-color:pink;"),e+=1);0==e&&window.alert("No protected cells found.")}else window.alert("No notebook cells found.");else window.alert("You do not appear to have a notebook in front or selected. Try again.");console.log("Indicate protected cells has been called.")}});const x="sethidecellbeforeprint:JPSLInstructorTools:main-menu",W="Allow hiding of selected cells",D="Sets the hide before printing flag of the selected cells.";i.addCommand(x,{label:W,caption:D,execute:()=>{if(n.currentWidget)if(d.selectedCells)for(const e of d.selectedCells){let t=e.model.getMetadata("JPSL");t?(t.hide_on_print=!0,e.model.setMetadata("JPSL",t)):e.model.setMetadata("JPSL",{hide_on_print:!0}),e.node.setAttribute("style","background-color:beige;")}else window.alert("Set of hide before printing flag failed. Did you select cells?");else{let e="Set of hide before printing flag failed. Try the Property Inspector advanced mode and";e+='enter "JPSL":{"hide_on_print": true}.',window.alert(e)}console.log("Set of hide before printing flag has been called.")}});const A="unsethidecellbeforeprint:JPSLInstructorTools:main-menu",N="Disallow hiding of selected cells",U="Unsets the hide before printing flag of the selected cells.";i.addCommand(A,{label:N,caption:U,execute:()=>{if(n.currentWidget)if(d.selectedCells)for(const e of d.selectedCells){let t=e.model.getMetadata("JPSL");t?(t.hide_on_print=!1,e.model.setMetadata("JPSL",t)):e.model.setMetadata("JPSL",{hide_on_print:!1}),e.node.removeAttribute("style")}else window.alert("Unset of hide before printing flag failed. Did you select cells?");else{let e="Unset of hide before printing flag failed. Try the Property Inspector advanced mode and";e+='enter "JPSL":{"hide_on_print": false}.',window.alert(e)}console.log("Unset of hide before printing flag has been called.")}});const H="indicatehidecellbeforeprint:JPSLInstructorTools:main-menu",B="Indicate hide before print cells",Y="Indicates hide before print cells.";i.addCommand(H,{label:B,caption:Y,execute:()=>{if(n.currentWidget)if(n.currentWidget.content.widgets){let e=0;for(const t of n.currentWidget.content.widgets){let o=t.model.getMetadata("JPSL");o&&o.hide_on_print&&(t.node.setAttribute("style","background-color:beige;"),e+=1)}0==e&&window.alert("No hide before print cells found.")}else window.alert("No notebook cells found.");else window.alert("You do not appear to have a notebook in front or selected. Try again.");console.log("Indicate hide before print cells has been called.")}});const F="sethidecodebeforeprint:JPSLInstructorTools:main-menu",j="Allow hiding of code",q="Set hide code before print flag for selected cells.";i.addCommand(F,{label:j,caption:q,execute:()=>{if(n.currentWidget)if(d.selectedCells)for(const e of d.selectedCells){let t=e.model.getMetadata("JPSL");t?(t.hide_code_on_print=!0,e.model.setMetadata("JPSL",t)):e.model.setMetadata("JPSL",{hide_code_on_print:!0}),e.node.setAttribute("style","background-color:orange;")}else window.alert("Set of hide code before printing flag failed. Did you select cells?");else{let e="Set of hide code before printing flag failed. Try the Property Inspector advanced";e+=' mode and enter "JPSL":{"hide_code_on_print": true}.',window.alert(e)}console.log("Set of hide code before printing flag has been called.")}});const E="unsethidecodebeforeprint:JPSLInstructorTools:main-menu",O="Disallow hiding of code",K="Unset hide code before print flag for selected cells.";i.addCommand(E,{label:O,caption:K,execute:()=>{if(n.currentWidget)if(d.selectedCells)for(const e of d.selectedCells){let t=e.model.getMetadata("JPSL");t?(t.hide_code_on_print=!1,e.model.setMetadata("JPSL",t)):e.model.setMetadata("JPSL",{hide_code_on_print:!1}),e.node.removeAttribute("style")}else window.alert("Unset of hide code before printing flag failed. Did you select cells?");else{let e="Unset of hide code before printing flag failed. Try the Property Inspector advanced";e+=' mode andenter "JPSL":{"hide_code_on_print": false}.',window.alert(e)}console.log("Unset of hide code before printing flag has been called.")}});const z="indicatehidecodebeforeprint:JPSLInstructorTools:main-menu",R="Indicate hide code before print cells",G="Indicate hide code before print cells.";i.addCommand(z,{label:R,caption:G,execute:()=>{if(n.currentWidget)if(n.currentWidget.content.widgets){let e=0;for(const t of n.currentWidget.content.widgets){let o=t.model.getMetadata("JPSL");o&&o.hide_code_on_print&&(t.node.setAttribute("style","background-color:orange;"),e+=1)}0==e&&window.alert("No hide code before print cells found.")}else window.alert("No notebook cells found.");else window.alert("You do not appear to have a notebook in front or selected. Try again.");console.log("Indicate hide code before print cells has been called.")}});const Q="tsthidebeforeprint:JPSLInstructorTools:main-menu",V="Test hide before print",X="Test hide before print.";i.addCommand(Q,{label:V,caption:X,execute:()=>{if(n.currentWidget)if(n.currentWidget.content.widgets){let e=0;for(const t of n.currentWidget.content.widgets){let o=t.model.getMetadata("JPSL");o&&(o.hide_on_print&&(t.node.setAttribute("style","display:none;"),t.hide(),e+=1),o.hide_code_on_print&&(t.inputHidden=!0,e+=1))}0==e&&window.alert("No hide before print cells found.")}else window.alert("No notebook cells found.");else window.alert("You do not appear to have a notebook in front or selected. Try again.");console.log("Test hide before print cells has been called.")}});const Z="undohidebeforeprint:JPSLInstructorTools:main-menu",$="Undo hide before print",ee="Undo hide before print.";i.addCommand(Z,{label:$,caption:ee,execute:()=>{if(n.currentWidget)if(n.currentWidget.content.widgets){let e=0;for(const t of n.currentWidget.content.widgets){let o=t.model.getMetadata("JPSL");o&&(o.hide_on_print&&(t.node.removeAttribute("style"),t.show(),e+=1),o.hide_code_on_print&&(t.inputHidden=!1,e+=1))}0==e&&window.alert("No hide before print cells found.")}else window.alert("No notebook cells found.");else window.alert("You do not appear to have a notebook in front or selected. Try again.");console.log("Undo test hide before print cells has been called.")}});const te="sethidecodeJPSL:JPSLInstructorTools:main-menu",oe="Set hide code in JPSL",ne="Set hide code in JPSL flag for selected cells.";i.addCommand(te,{label:oe,caption:ne,execute:()=>{if(n.currentWidget)if(d.selectedCells)for(const e of d.selectedCells){let t=e.model.getMetadata("JPSL");t?(t.hide_code=!0,e.model.setMetadata("JPSL",t)):e.model.setMetadata("JPSL",{hide_code:!0}),e.node.setAttribute("style","background-color:beige;")}else window.alert("Set of hide code in JPSL flag failed. Did you select cells?");else{let e="Set of hide code in JPSL flag failed. Try the Property Inspector advanced";e+=' mode and enter "JPSL":{"hide_code": true}.',window.alert(e)}console.log("Set of hide code in JPSL flag has been called.")}});const le="unsethidecodeJPSL:JPSLInstructorTools:main-menu",ae="Unset hide code in JPSL",de="Unset hide code in JPSL flag for selected cells.";i.addCommand(le,{label:ae,caption:de,execute:()=>{if(n.currentWidget)if(d.selectedCells)for(const e of d.selectedCells){let t=e.model.getMetadata("JPSL");t?(t.hide_code=!1,e.model.setMetadata("JPSL",t)):e.model.setMetadata("JPSL",{hide_code:!1}),e.node.removeAttribute("style")}else window.alert("Unset of hide code in JPSL flag failed. Did you select cells?");else{let e="Unset of hide code in JPSL flag failed. Try the Property Inspector advanced";e+=' mode and enter "JPSL":{"hide_code": false}.',window.alert(e)}console.log("Unset of hide code in JPSL flag has been called.")}});const ie="indicatehidecodeJPSL:JPSLInstructorTools:main-menu",re="Indicate hide code in JPSL cells",se="Indicate hide code in JPSL cells.";i.addCommand(ie,{label:re,caption:se,execute:()=>{if(n.currentWidget)if(n.currentWidget.content.widgets){let e=0;for(const t of n.currentWidget.content.widgets){let o=t.model.getMetadata("JPSL");o&&o.hide_code&&(t.node.setAttribute("style","background-color:beige;"),e+=1)}0==e&&window.alert("No hide code in JPSL cells found.")}else window.alert("No notebook cells found.");else window.alert("You do not appear to have a notebook in front or selected. Try again.");console.log("Indicate hide code in JPSL cells has been called.")}});const ce="insertInstructionBoilerPlate:JPSLInstructorTools:main-menu",ue="Insert instructions Boilerplate",me="Insert Instruction Boilerplate into selected cell.";i.addCommand(ce,{label:ue,caption:me,execute:()=>{if(d.selectedCells){const e=d.selectedCells[0].editor;if(e){const t={column:0,line:0};e.setSelection({start:t,end:t}),e.replaceSelection&&e.replaceSelection('### You must initialize the software each time you use this notebook.\n 1. First, check that the notebook is "Trusted" by looking near the right of the Jupyter toolbars. If the notebook is not trusted you need to click on the "not trusted" button and trust the notebook. **You should only trust notebooks that come from a *trusted source*, such as the class website.**\n 2. The cell immediately below contains code that loads the software modules necessary for this notebook to run. **You must run this cell each time you open the notebook or later cells may not work.**\n 3. If you are doing calculations that depend upon using variables passed from calculations done the previous time the notebook was opened, you will need to run those previous cells to redefine the variables. You can run each cell individually in order, or use the \'Restart the kernel and run all cells\' button (usually represented by double fast-forward arrows).\n')}}else window.alert("Please select a cell in a notebook.");console.log("Insert Instructions Boilerplate has been called.")}});const he="insertmakePDFInstructions:JPSLInstructorTools:main-menu",be="Insert make PDF instructions",fe="Insert make PDF instructions into selected cell.";i.addCommand(he,{label:be,caption:fe,execute:()=>{if(d.selectedCells){const e=d.selectedCells[0].editor;if(e){const t={column:0,line:0};e.setSelection({start:t,end:t}),e.replaceSelection&&e.replaceSelection('### Steps to create a PDF file to turn in.\nTo convert this notebook to a lab report to turn in you need to hide the majority of the instruction and informational cells before making a .pdf document.\n1. Your instructor has already chosen the cells they want hidden. To hide them select "Hide Cells" from the JPSL Tools menu.\n2. To make a pdf you must use the Browser\'s print capabilities. In most user interfaces this option is hidden in the little collapsed menu at the upper right of the browser window. On a macintosh it can be found in the file menu. Select "Print".\n\t* Set the destination to "Save to PDF".\n\t* Set the format to "Landscape" to accommodate the cell width.\n\t* Adjust the scale so that the whole width appears in the preview   (usually 60% - 80%).\n\t* Make sure to save the file in a   location you can find (your "Desktop" or maybe "Documents" directory).\n\t* Do Not use the options in the Jupyter "File" menu.\n3. It is a good idea to open the created document to make sure it is OK.\n4. When everything is OK, save this notebook one more time using "Save Notebook" in the Jupyter "File" menu and then close it using the "Close and Shutdown Notebook" option in the Jupyter "File" menu.\n5. Turn in: the **pdf** and **ipynb** version of this notebook plus any **datafiles**.')}}else window.alert("Please select a cell in a notebook.");console.log("Insert make PDF instructions has been called.")}});const ge="activateinstructormenu:JPSLInstructorTools:main-menu";i.addCommand(ge,{label:"Activate menu",caption:"Activate the Instructor Tools menu.",execute:async()=>{r=!0,await ke(),s&&window.alert("Instructor Tools menu has been activated, but it cannot be used with the front window. It will appear when a notebook it can be used with is in front."),i.execute("Show:JPSLInstructorTools:main-menu"),console.log("Activate menu has been called.")}});const pe="deactivateinstructormenu:JPSLInstructorTools:main-menu";i.addCommand(pe,{label:"Deactivate menu",caption:"Deactivate the Instructor Tools menu.",execute:()=>{r=!1,i.execute("Hide:JPSLInstructorTools:main-menu"),console.log("deactivate menu has been called.")}});const we="Hide:JPSLInstructorTools:main-menu";i.addCommand(we,{label:"Hide Menu",caption:"Hide Menu",execute:()=>{Te.hide();const e=document.getElementById("jp-MainMenu");if(e){const t=e.querySelectorAll(".lm-MenuBar-item");for(const e of t){const t=e.querySelector(".lm-MenuBar-itemLabel");t&&"JPSL Instructor Tools"==t.innerHTML&&e.setAttribute("hidden","true")}}else window.alert("Did not find the Main menu DOM element!")}}),o.addItem({command:we,category:"JPSL Instructor Tools",args:{origin:"from the palette"}});const Se="Show:JPSLInstructorTools:main-menu";i.addCommand(Se,{label:"Show Menu",caption:"Show Menu",execute:()=>{if(r)if(s)window.alert("You are not allowed to use JPSL Instructor Tools with this notebook.");else{Te.show();const e=document.getElementById("jp-MainMenu");if(e){const t=e.querySelectorAll(".lm-MenuBar-item");for(const e of t){const t=e.querySelector(".lm-MenuBar-itemLabel");t&&"JPSL Instructor Tools"==t.innerHTML&&e.removeAttribute("hidden")}}}else window.alert("You need to activate the menu before it will appear.")}}),o.addItem({command:Se,category:"JPSL Instructor Tools",args:{origin:"from the palette"}});const Ie="disallowinstructormenu:JPSLInstructorTools:main-menu";i.addCommand(Ie,{label:"Disallow menu in Notebook",caption:"Prevent use of the Instructor Tools menu with this Notebook.",execute:async()=>{const e=[l.Dialog.cancelButton(),l.Dialog.okButton()];if((await(0,l.showDialog)({body:"Are you sure? This action in irreversible. Instructor Tools will no longer work with this notebook.",buttons:e,hasClose:!1})).button.accept&&n.currentWidget){let e=n.currentWidget.model;if(e){let t=e.getMetadata("JPSL");if(t?(t.noinstructortools=!0,e.setMetadata("JPSL",t)):e.setMetadata("JPSL",{noinstructortools:!0}),n.currentWidget.content.widgets)for(const e of n.currentWidget.content.widgets){let t=e.model.getMetadata("JPSL");t?(t.noinstructortools=!0,e.model.setMetadata("JPSL",t)):e.model.setMetadata("JPSL",{noinstructortools:!0})}}else window.alert("Set of disallow instructor tools flag failed. Is a notebook selected?")}console.log("Set disallow instructor tools flag has been called.")}}),o.addItem({command:ge,category:"JPSL Instructor Tools",args:{origin:"from the palette"}}),o.addItem({command:pe,category:"JPSL Instructor Tools",args:{origin:"from the palette"}}),o.addItem({command:Ie,category:"JPSL Instructor Tools",args:{origin:"from the palette"}});const Pe=new a.MenuSvg({commands:i});Pe.title.label="Cell Locking",Pe.addItem({command:y,args:{label:L,caption:J}}),Pe.addItem({command:T,args:{label:k,caption:C}}),Pe.addItem({command:v,args:{label:M,caption:_}});const ye=new a.MenuSvg({commands:i});ye.title.label="Markdown Cell Highlighting",ye.addItem({command:c,args:{label:u,caption:m}}),ye.addItem({command:h,args:{label:b,caption:f}}),ye.addItem({command:g,args:{label:p,caption:w}}),ye.addItem({command:S,args:{label:I,caption:P}});const Le=new a.MenuSvg({commands:i});Le.title.label="Hide before printing",Le.addItem({command:x,args:{label:W,caption:D}}),Le.addItem({command:A,args:{label:N,caption:U}}),Le.addItem({command:H,args:{label:B,caption:Y}}),Le.addItem({type:"separator"}),Le.addItem({command:F,args:{label:j,caption:q}}),Le.addItem({command:E,args:{label:O,caption:K}}),Le.addItem({command:z,args:{label:R,caption:G}}),Le.addItem({type:"separator"}),Le.addItem({command:Q,args:{label:V,caption:X}}),Le.addItem({command:Z,args:{label:$,caption:ee}});const Je=new a.MenuSvg({commands:i});Je.title.label="Hide code in JPSL",Je.addItem({command:te,args:{label:oe,caption:ne}}),Je.addItem({command:le,args:{label:ae,caption:de}}),Je.addItem({command:ie,args:{label:re,caption:se}});const Te=new a.MenuSvg({commands:i});async function ke(e,t){if(console.log("Update forbidden states has been called."),r)if(n.currentWidget){if(await n.currentWidget.revealed,n.currentWidget.model){const e=n.currentWidget.model.getMetadata("JPSL");if(e&&null!=e.noinstructortools)return i.execute("Hide:JPSLInstructorTools:main-menu"),void(s=!0)}if(n.currentWidget.content.widgets)for(const e of n.currentWidget.content.widgets){let t=e.model.getMetadata("JPSL");if(t&&null!=t.noinstructortools)return i.execute("Hide:JPSLInstructorTools:main-menu"),void(s=!0)}s=!1,i.execute("Show:JPSLInstructorTools:main-menu")}else i.execute("Hide:JPSLInstructorTools:main-menu");else i.execute("Hide:JPSLInstructorTools:main-menu")}Te.title.label="JPSL Instructor Tools",Te.addClass("jp-JPSLInstructor-tools-menu"),Te.addItem({command:ce,args:{label:ue,caption:me}}),Te.addItem({command:"NewDataTable:jupyter-inputtable",args:{label:"Insert Data Entry Table...",caption:"Insert a new Data Entry Table"}}),Te.addItem({type:"submenu",args:{label:Pe.title.label},submenu:Pe}),Te.addItem({type:"submenu",submenu:ye,args:{label:ye.title.label}}),Te.addItem({type:"submenu",submenu:Le,args:{label:Le.title.label}}),Te.addItem({type:"submenu",submenu:Je,args:{label:Je.title.label}}),Te.addItem({command:he,args:{label:be,caption:fe}}),Te.addItem({command:"help:open",args:{text:"Instructor Tools Docs",url:"https://github.com/JupyterPhysSciLab/jupyter-instructortools",newBrowserTab:"true"}}),t.addMenu(Te),Te.hide(),n.widgetAdded.connect(ke),n.currentChanged.connect(ke),console.log("JupyterLab extension JPSLInstructorTools is activated!"),console.log("The app is:",e),console.log("The shell is:",e.shell),console.log("notebookTracker",n),console.log("notebookTools",d)}}}}]);