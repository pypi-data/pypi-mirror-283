%YAML 1.1
---
"$schema": https://json-schema.org/draft/2020-12/schema
title: CellCompositionVolume distribution schema
type: object
required:
- hasPart
- version
- unitCode
properties:
  version:
    type: integer
    unitCode:
      type: object
      required:
        - density
      properties:
        density:
          type: string
      additionalProperties: false
  hasPart:  # brain regions
    additionalProperties: false
    patternProperties:
      '^https?:\/\/.*\/Structure\/\d*$':  # brain regions finishing in /Structure/int
        type: object
        required:
          - label
          - hasPart
        properties:
          label:
            type: string
          hasPart:
            type: object
            additionalProperties: false
            patternProperties:
              '^https?:\/\/[^?#]*$':  # mtypes
                type: object
                properties:
                  label:
                    type: string
                  hasPart:
                    type: object
                    additionalProperties: false
                    patternProperties:
                      '^https?:\/\/[^?#]*$':  # etypes
                        type: object
                        properties:
                          label:
                            type: string
                          '_rev':
                            type: integer
                          composition:
                            type: object
                            required:
                              - neuron
                            properties:
                              neuron:
                                type: object
                                required:
                                  - density
                                properties:
                                  density:
                                    type: number
